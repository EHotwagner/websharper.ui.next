try{Object.defineProperty(Error.prototype,"message",{enumerable:!0})}catch(e){}var IntelliFactory={Runtime:{Class:function(n,t){function i(){}i.prototype=n;for(var r in t)i[r]=t[r];return i},Define:function(n,t){function i(n,t){var r,u,f;for(r in t)if(u=typeof n[r],f=typeof t[r],u=="undefined")n[r]=t[r];else if(u=="object"&&f=="object")i(n[r],t[r]);else throw new Error("Name conflict: "+r);}i(n,t)},Field:function(n){var t,i=!1;return function(){return i||(i=!0,t=n()),t}},For:function(n,t,i){for(var r=n;r<=t;r++)i(r)},ForEach:function(n,t){for(var i in n)t(i)},New:function(n,t){var i=new n;for(var r in t)r in i||(i[r]=t[r]);return i},OnInit:function(n){"init"in this||(this.init=[]);this.init.push(n)},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Inherit:function(n,t){var r=n.prototype,i;n.prototype=new t;for(i in r)n.prototype[i]=r[i]},Safe:function(n){return n===undefined?{}:n},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"init"in this&&(n(this.init),this.init=[]);"load"in this&&(n(this.load),this.load=[])},Throw:function(n){throw n;},Tupled:function(n){return function(t){return arguments.length>1?n(arguments):n(t)}},Try:function(n,t){try{return n()}catch(i){return t(i)}},TryFinally:function(n,t){try{return n()}finally{t()}},While:function(n,t){while(n())t()}}};
(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;$.Define($$,{IntelliFactory:{WebSharper:{Arrays:{Find:function(E,F){var G;G=b.tryFind(E,F);return G.$==0?c.FailWith("KeyNotFoundException"):G.$0;},FindIndex:function(H,I){var J;J=b.tryFindIndex(H,I);return J.$==0?c.FailWith("KeyNotFoundException"):J.$0;},Pick:function(K,L){var M;M=b.tryPick(K,L);return M.$==0?c.FailWith("KeyNotFoundException"):M.$0;},average:function(N){return d(b.sum(N))/d(e.GetLength(N));},averageBy:function(O,P){return d(b.sumBy(O,P))/d(e.GetLength(P));},blit:function(Q,R,S,T,U){var V;b.checkRange(Q,R,U);b.checkRange(S,T,U);for(V=0;V<=U-1;V++){S[T+V]=Q[R+V];}return;},checkLength:function(W,X){return e.GetLength(W)!==e.GetLength(X)?c.FailWith("Arrays differ in length."):null;},checkRange:function(Y,Z,_0){return((_0<0?true:Z<0)?true:e.GetLength(Y)<Z+_0)?c.FailWith("Index was outside the bounds of the array."):null;},choose:function(_1,_2){var _3,_4,_5;_3=[];for(_4=0;_4<=e.GetLength(_2)-1;_4++){_5=_1(_2[_4]);if(_5.$==0){}else{_3.push(_5.$0);}}return _3;},collect:function(_6,_7){return f.prototype.concat.apply([],b.map(_6,_7));},concat:function(_8){return f.prototype.concat.apply([],b.ofSeq(_8));},create:function(_9,_){var ba,bb;ba=f(_9);for(bb=0;bb<=_9-1;bb++){ba[bb]=_;}return ba;},exists2:function(bb,bc,bd){b.checkLength(bc,bd);return g.exists2(bb,bc,bd);},fill:function(be,bf,bg,bh){var bi;b.checkRange(be,bf,bg);for(bi=bf;bi<=bf+bg-1;bi++){be[bi]=bh;}return;},filter:function(bj,bk){var bl,bm;bl=[];for(bm=0;bm<=e.GetLength(bk)-1;bm++){if(bj(bk[bm])){bl.push(bk[bm]);}}return bl;},fold:function(bn,bo,bp){var bq,br;bq=bo;for(br=0;br<=e.GetLength(bp)-1;br++){bq=(bn(bq))(bp[br]);}return bq;},fold2:function(bs,bt,bu,bv){var bw,bx;b.checkLength(bu,bv);bw=bt;for(bx=0;bx<=bu.length-1;bx++){bw=((bs(bw))(bu[bx]))(bv[bx]);}return bw;},foldBack:function(by,bz,bA){var bB,bC,bD;bB=bA;bC=e.GetLength(bz);for(bD=1;bD<=bC;bD++){bB=(by(bz[bC-bD]))(bB);}return bB;},foldBack2:function(bE,bF,bG,bH){var bI,bJ,bK;b.checkLength(bF,bG);bI=e.GetLength(bF);bJ=bH;for(bK=1;bK<=bI;bK++){bJ=((bE(bF[bI-bK]))(bG[bI-bK]))(bJ);}return bJ;},forall2:function(bL,bM,bN){b.checkLength(bM,bN);return g.forall2(bL,bM,bN);},init:function(bO,bP){var bQ,bR;if(bO<0){c.FailWith("Negative size given.");}bQ=f(bO);for(bR=0;bR<=bO-1;bR++){bQ[bR]=bP(bR);}return bQ;},iter:function(bS,bT){var bU;for(bU=0;bU<=e.GetLength(bT)-1;bU++){bS(bT[bU]);}return;},iter2:function(bV,bW,bX){var bY;b.checkLength(bW,bX);for(bY=0;bY<=e.GetLength(bW)-1;bY++){(bV(bW[bY]))(bX[bY]);}return;},iteri:function(bZ,b0){var b1;for(b1=0;b1<=e.GetLength(b0)-1;b1++){(bZ(b1))(b0[b1]);}return;},iteri2:function(b2,b3,b4){var b5;b.checkLength(b3,b4);for(b5=0;b5<=e.GetLength(b3)-1;b5++){((b2(b5))(b3[b5]))(b4[b5]);}return;},map:function(b6,b7){var b8,b9;b8=f(e.GetLength(b7));for(b9=0;b9<=e.GetLength(b7)-1;b9++){b8[b9]=b6(b7[b9]);}return b8;},map2:function(b_,b$,ca){var cb,cc;b.checkLength(b$,ca);cb=f(e.GetLength(ca));for(cc=0;cc<=e.GetLength(ca)-1;cc++){cb[cc]=(b_(b$[cc]))(ca[cc]);}return cb;},mapi:function(cd,ce){var cf,cg;cf=f(e.GetLength(ce));for(cg=0;cg<=e.GetLength(ce)-1;cg++){cf[cg]=(cd(cg))(ce[cg]);}return cf;},mapi2:function(ch,ci,cj){var ck,cl;b.checkLength(ci,cj);ck=f(e.GetLength(ci));for(cl=0;cl<=e.GetLength(ci)-1;cl++){ck[cl]=((ch(cl))(ci[cl]))(cj[cl]);}return ck;},max:function(cm){return b.reduce(function(cn){return function(co){return c.Max(cn,co);};},cm);},maxBy:function(cp,cq){return b.reduce(function(cr){return function(cs){return h.Compare(cp(cr),cp(cs))===1?cr:cs;};},cq);},min:function(ct){return b.reduce(function(cu){return function(cv){return c.Min(cu,cv);};},ct);},minBy:function(cw,cx){return b.reduce(function(cy){return function(cz){return h.Compare(cw(cy),cw(cz))===-1?cy:cz;};},cx);},nonEmpty:function(cA){return e.GetLength(cA)===0?c.FailWith("The input array was empty."):null;},ofSeq:function(cB){var cC,cD;cC=[];cD=i.Get(cB);while(cD.MoveNext()){cC.push(cD.get_Current());}return cC;},partition:function(cE,cF){var cG,cH,cI;cG=[];cH=[];for(cI=0;cI<=e.GetLength(cF)-1;cI++){if(cE(cF[cI])){cG.push(cF[cI]);}else{cH.push(cF[cI]);}}return[cG,cH];},permute:function(cJ,cK){var cL,cM;cL=[];for(cM=0;cM<=e.GetLength(cK)-1;cM++){cL[cJ(cM)]=cK[cM];}return cL;},reduce:function(cN,cO){var cP,cQ;b.nonEmpty(cO);cP=cO[0];for(cQ=1;cQ<=e.GetLength(cO)-1;cQ++){cP=(cN(cP))(cO[cQ]);}return cP;},reduceBack:function(cR,cS){var cT,cU,cV;b.nonEmpty(cS);cT=e.GetLength(cS);cU=cS[cT-1];for(cV=2;cV<=cT;cV++){cU=(cR(cS[cT-cV]))(cU);}return cU;},reverse:function(cW,cX,cY){var cZ;cZ=b.sub(cW,cX,cY).slice().reverse();return b.blit(cZ,0,cW,cX,e.GetLength(cZ));},scan:function(c0,c1,c2){var c3,c4;c3=f(1+e.GetLength(c2));c3[0]=c1;for(c4=0;c4<=e.GetLength(c2)-1;c4++){c3[c4+1]=(c0(c3[c4]))(c2[c4]);}return c3;},scanBack:function(c5,c6,c7){var c8,c9,c_;c8=e.GetLength(c6);c9=f(1+c8);c9[c8]=c7;for(c_=0;c_<=c8-1;c_++){c9[c8-c_-1]=(c5(c6[c8-c_-1]))(c9[c8-c_]);}return c9;},sort:function(c$){return b.sortBy(function(da){return da;},c$);},sortBy:function(db,dc){var dd;dd=$.Tupled(function(de){var df;df=de[1];return c.Compare(db(de[0]),db(df));});return dc.slice().sort(dd);},sortInPlace:function(dg){return b.sortInPlaceBy(function(dh){return dh;},dg);},sortInPlaceBy:function(di,dj){return dj.sort($.Tupled(function(dk){var dl;dl=dk[1];return c.Compare(di(dk[0]),di(dl));}));},sortInPlaceWith:function(dm,dn){return dn.sort($.Tupled(function(_do){var dp;dp=_do[1];return(dm(_do[0]))(dp);}));},sortWith:function(dq,dr){var ds;ds=$.Tupled(function(dt){var du;du=dt[1];return(dq(dt[0]))(du);});return dr.slice().sort(ds);},sub:function(dv,dw,dx){b.checkRange(dv,dw,dx);return dv.slice(dw,dw+dx);},sum:function($arr){var $0=this,$this=this;var sum=0;for(var i=0;i<$arr.length;i++)sum+=$arr[i];return sum;},sumBy:function($f,$arr){var $0=this,$this=this;var sum=0;for(var i=0;i<$arr.length;i++)sum+=$f($arr[i]);return sum;},tryFind:function(dy,dz){var dA,dB;dA={$:0};dB=0;while(dB<e.GetLength(dz)?dA.$==0:false){if(dy(dz[dB])){dA={$:1,$0:dz[dB]};}dB=dB+1;}return dA;},tryFindIndex:function(dC,dD){var dE,dF;dE={$:0};dF=0;while(dF<e.GetLength(dD)?dE.$==0:false){if(dC(dD[dF])){dE={$:1,$0:dF};}dF=dF+1;}return dE;},tryPick:function(dG,dH){var dI,dJ,dK;dI={$:0};dJ=0;while(dJ<e.GetLength(dH)?dI.$==0:false){dK=dG(dH[dJ]);if(dK.$==1){dI=dK;}dJ=dJ+1;}return dI;},unzip:function(dL){var dM,dN,dO,dP,dQ;dM=[];dN=[];for(dO=0;dO<=e.GetLength(dL)-1;dO++){dP=dL[dO];dQ=dP[1];dM.push(dP[0]);dN.push(dQ);}return[dM,dN];},unzip3:function(dR){var dS,dT,dU,dV,dW,dX,dY;dS=[];dT=[];dU=[];for(dV=0;dV<=e.GetLength(dR)-1;dV++){dW=dR[dV];dX=dW[2];dY=dW[1];dS.push(dW[0]);dT.push(dY);dU.push(dX);}return[dS,dT,dU];},zip:function(dZ,d0){var d1,d2;b.checkLength(dZ,d0);d1=f(dZ.length);for(d2=0;d2<=e.GetLength(dZ)-1;d2++){d1[d2]=[dZ[d2],d0[d2]];}return d1;},zip3:function(d3,d4,d5){var d6,d7;b.checkLength(d3,d4);b.checkLength(d4,d5);d6=f(d3.length);for(d7=0;d7<=e.GetLength(d3)-1;d7++){d6[d7]=[d3[d7],d4[d7],d5[d7]];}return d6;}},Arrays2D:{copy:function(d8){return j.init(d8.length,d8.length?d8[0].length:0,function(d9){return function(d_){return d8[d9][d_];};});},init:function(d$,ea,eb){var ec,ed,ee;ec=j.zeroCreate(d$,ea);for(ed=0;ed<=d$-1;ed++){for(ee=0;ee<=ea-1;ee++){ec[ed][ee]=(eb(ed))(ee);}}return ec;},iter:function(ef,eg){var eh,ei,ej,ek;eh=eg.length;ei=eg.length?eg[0].length:0;for(ej=0;ej<=eh-1;ej++){for(ek=0;ek<=ei-1;ek++){ef(eg[ej][ek]);}}return;},iteri:function(el,em){var en,eo,ep,eq;en=em.length;eo=em.length?em[0].length:0;for(ep=0;ep<=en-1;ep++){for(eq=0;eq<=eo-1;eq++){((el(ep))(eq))(em[ep][eq]);}}return;},map:function(er,es){return j.init(es.length,es.length?es[0].length:0,function(et){return function(eu){return er(es[et][eu]);};});},mapi:function(ev,ew){return j.init(ew.length,ew.length?ew[0].length:0,function(ex){return function(ey){return((ev(ex))(ey))(ew[ex][ey]);};});},zeroCreate:function(ez,eA){return e.Array2DZeroCreate(ez,eA);}},Char:$.Class({},{GetNumericValue:function(eB){return(eB>=48?eB<=57:false)?d(eB)-d(48):-1;},IsControl:function(eC){return(eC>=0?eC<=31:false)?true:eC>=128?eC<=159:false;},IsDigit:function(eD){return eD>=48?eD<=57:false;},IsLetter:function(eE){return(eE>=65?eE<=90:false)?true:eE>=97?eE<=122:false;},IsLetterOrDigit:function(eF){return k.IsLetter(eF)?true:k.IsDigit(eF);},IsLower:function(eG){return eG>=97?eG<=122:false;},IsUpper:function(eH){return eH>=65?eH<=90:false;},IsWhiteSpace:function($c){var $0=this,$this=this;return $$.String.fromCharCode($c).match(/\s/)!==null;}}),Concurrency:{AwaitEvent:function(eI){return{$:0,$0:function(eJ){var eK;eK={contents:undefined};eK.contents=l.subscribeTo(eI,function(eL){eK.contents.Dispose();return eJ({$:0,$0:eL});});return;}};},Bind:function(eM,eN){var eO;eO=eM.$0;return{$:0,$0:function(eP){return eO(function(eQ){var eR;if(eQ.$==1){return eP({$:1,$0:eQ.$0});}else{eR=eQ.$0;return m.fork(function(){var eT;try{return m.Run(eN(eR),eP);}catch(eT){return eP({$:1,$0:eT});}});}});}};},Catch:function(eU){var eV;eV=eU.$0;return{$:0,$0:function(eW){var eY;try{return eV(function(eX){return eX.$==1?eW({$:0,$0:{$:1,$0:eX.$0}}):eW({$:0,$0:{$:0,$0:eX.$0}});});}catch(eY){return eW({$:0,$0:{$:1,$0:eY}});}}};},Delay:function(eZ){return{$:0,$0:function(e0){var e1;try{return m.Run(eZ(null),e0);}catch(e1){return e0({$:1,$0:e1});}}};},For:function(e2,e3){var e4;e4=i.Get(e2);return m.While(function(){return e4.MoveNext();},m.Delay(function(){return e3(e4.get_Current());}));},FromContinuations:function(e7){return{$:0,$0:function(e8){return(e7(function(e9){return e8({$:0,$0:e9});}))(function(e_){return e8({$:1,$0:e_});});}};},Parallel:function(e$){var fa;fa=b.ofSeq(e$);return e.GetLength(fa)===0?m.Return([]):{$:0,$0:function(fb){var fc,fd,fe;fc=fa.length;fd={contents:fc};fe=b.create(fc,undefined);return b.iteri(function(ff){return function(fg){var fh;fh=fg.$0;return m.fork(function(){return fh(function(fj){var fk,fl,fm,fn;fk=[fd.contents,fj];if(fk[0]===0){return null;}else{if(fk[0]===1){if(fk[1].$==1){fl=fk[1].$0;fd.contents=0;return fb({$:1,$0:fl});}else{fe[ff]=fk[1].$0;fd.contents=0;return fb({$:0,$0:fe});}}else{if(fk[1].$==1){fm=fk[1].$0;fd.contents=0;return fb({$:1,$0:fm});}else{fn=fk[0];fe[ff]=fk[1].$0;fd.contents=fn-1;return;}}}});});};},fa);}};},Return:function(fo){return{$:0,$0:function(fp){return fp({$:0,$0:fo});}};},Run:function(fq,fr){return fq.$0.call(null,fr);},Scheduler:$.Class({Fork:function(fs){var fu=this;this.robin.push(fs);if(this.idle){this.idle=false;return n(function(){return fu.tick();},0);}else{return null;}},tick:function(){var fv,fw,fy=this;fv=o.now();fw=true;while(fw){if(this.robin.length===0){this.idle=true;fw=false;}else{(this.robin.shift())(null);if(o.now()-fv>40){n(function(){return fy.tick();},0);fw=false;}}}return;}},{New:function(){var fz;fz=$.New(this,{});fz.idle=true;fz.robin=[];return fz;}}),Sleep:function(fA){return{$:0,$0:function(fB){return n(function(){return fB({$:0,$0:null});},fA);}};},Start:function(fD){return m.StartWithContinuations(fD,function(){},function(fF){return p.Log(["WebSharper: Uncaught asynchronous exception",fF]);});},StartChild:function(fG){var fH;fH=fG.$0;return{$:0,$0:function(fI){var fJ,fK;fJ={contents:{$:0}};fK=[];m.fork(function(){return fH(function(fM){fJ.contents={$:1,$0:fM};while(fK.length>0){(fK.shift())(fM);}return;});});return fI({$:0,$0:{$:0,$0:function(fN){var fO;fO=fJ.contents;return fO.$==0?fK.push(fN):fN(fO.$0);}}});}};},StartWithContinuations:function(fP,fQ,fR){return m.fork(function(){return m.Run(fP,function(fT){return fT.$==1?fR(fT.$0):fQ(fT.$0);});});},TryFinally:function(fU,fV){var fW;fW=fU.$0;return{$:0,$0:function(fX){return fW(function(fY){var fZ;try{fV(null);return fX(fY);}catch(fZ){return fX({$:1,$0:fZ});}});}};},TryWith:function(f0,f1){var f2;f2=f0.$0;return{$:0,$0:function(f3){return f2(function(f4){var f5,f6;if(f4.$==1){f5=f4.$0;try{return m.Run(f1(f5),f3);}catch(f6){return f3({$:1,$0:f6});}}else{return f3({$:0,$0:f4.$0});}});}};},Using:function(f7,f8){return m.TryFinally(f8(f7),function(){return f7.Dispose();});},While:function(f_,f$){return f_(null)?m.Bind(f$,function(){return m.While(f_,f$);}):m.Return(null);},fork:function(gb){return m.scheduler().Fork(gb);},scheduler:$.Field(function(){return q.New();})},DateTimeHelpers:{AddMonths:function(gc,gd){var ge;ge=new o(gc);return(new o(ge.getFullYear(),ge.getMonth()+gd,ge.getDate(),ge.getHours(),ge.getMinutes(),ge.getSeconds(),ge.getMilliseconds())).getTime();},AddYears:function(gf,gg){var gh;gh=new o(gf);return(new o(gh.getFullYear()+gg,gh.getMonth(),gh.getDate(),gh.getHours(),gh.getMinutes(),gh.getSeconds(),gh.getMilliseconds())).getTime();},DatePortion:function(gi){var gj;gj=new o(gi);return(new o(gj.getFullYear(),gj.getMonth(),gj.getDate())).getTime();},TimePortion:function(gk){var gl;gl=new o(gk);return(((24*0+gl.getHours())*60+gl.getMinutes())*60+gl.getSeconds())*1000+gl.getMilliseconds();}},Enumerable:{Of:function(gm){return{GetEnumerator:gm};}},Enumerator:{Get:function(gn){return gn instanceof $$.Array?r.New(0,null,function(go){var gp;gp=go.s;if(gp<e.GetLength(gn)){go.c=gn[gp];go.s=gp+1;return true;}else{return false;}}):h.Equals(typeof gn,"string")?r.New(0,null,function(gq){var gr;gr=gq.s;if(gr<gn.length){gq.c=gn.charCodeAt(gr);gq.s=gr+1;return true;}else{return false;}}):gn.GetEnumerator();},T:$.Class({MoveNext:function(){return this.n.call(null,this);},get_Current:function(){return this.c;}},{New:function(gs,gt,gu){var gv;gv=$.New(this,{});gv.s=gs;gv.c=gt;gv.n=gu;return gv;}})},ExtraTopLevelOperatorsProxy:{array2D:function(gw){var gx;gx=b.ofSeq(g.map(function(gy){return b.ofSeq(gy);},gw));gx.dims=2;return gx;}},IntrinsicFunctionProxy:{Array2DZeroCreate:function(gz,gA){var gB;gB=b.init(gz,function(){return f(gA);});gB.dims=2;return gB;},GetArray2DSub:function(gD,gE,gF,gG,gH){var gI,gJ,gK,gL,gM;gI=gG<0?0:gG;gJ=gH<0?0:gH;gK=e.Array2DZeroCreate(gI,gJ);for(gL=0;gL<=gI-1;gL++){for(gM=0;gM<=gJ-1;gM++){gK[gL][gM]=gD[gE+gL][gF+gM];}}return gK;},GetArraySub:function(gN,gO,gP){var gQ,gR;gQ=f(gP);for(gR=0;gR<=gP-1;gR++){gQ[gR]=gN[gO+1];}return gQ;},GetLength:function(gS){return gS.dims===2?gS.length*gS.length:gS.length;},SetArray2DSub:function(gT,gU,gV,gW,gX,gY){var gZ,g0;for(gZ=0;gZ<=gW-1;gZ++){for(g0=0;g0<=gX-1;g0++){gT[gU+gZ][gV+g0]=gY[gZ][g0];}}return;},SetArraySub:function(g1,g2,g3,g4){var g5;for(g5=0;g5<=g3-1;g5++){g1[g2+g5]=g4[g5];}return;}},JavaScript:{Delete:function($x,$field){var $0=this,$this=this;return delete $x[$field];},ForEach:function($x,$iter){var $0=this,$this=this;for(var k in $x){if($iter(k))break;}},GetFieldNames:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push(k);return r;},GetFieldValues:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push($o[k]);return r;},GetFields:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push([k,$o[k]]);return r;},Log:function($x){var $0=this,$this=this;if($$.console)$$.console.log($x);}},Json:{Activate:function(g6){var g7,g8,g9;g7=g6.$TYPES;for(g8=0;g8<=e.GetLength(g7)-1;g8++){g7[g8]=s.lookup(g7[g8]);}g9=function(g_){var g$,ha;if(h.Equals(g_,null)){return g_;}else{if(typeof g_==="object"){if(g_ instanceof $$.Array){return s.shallowMap(g9,g_);}else{g$=s.shallowMap(g9,g_.$V);ha=g_.$T;return h.Equals(typeof ha,"undefined")?g$:s.restore(g7[ha],g$);}}else{return g_;}}};return g9(g6.$DATA);},lookup:function(hb){var hc,hd,he,hf,hg;hc=e.GetLength(hb);hd=$$;he=0;while(he<hc){hf=hb[he];hg=hd[hf];if(!h.Equals(typeof hg,undefined)){hd=hg;he=he+1;}else{c.FailWith("Invalid server reply. Failed to find type: "+hf);}}return hd;},restore:function(hh,hi){var hj;hj=new hh();p.ForEach(hi,function(hk){hj[hk]=hi[hk];return false;});return hj;},shallowMap:function(hl,hm){var hn;if(hm instanceof $$.Array){return b.map(hl,hm);}else{if(typeof hm==="object"){hn={};p.ForEach(hm,function(ho){hn[ho]=hl(hm[ho]);return false;});return hn;}else{return hm;}}}},Lazy:{Create:function(hp){var hq;hq={value:undefined,created:false,eval:hp};hq.eval=function(){if(hq.created){return hq.value;}else{hq.created=true;hq.value=hp(null);return hq.value;}};return hq;},CreateFromValue:function(hs){return{value:hs,created:true,eval:function(){return hs;},eval:function(){return hs;}};},Force:function(hv){return hv.eval.call(null,null);}},List:{T:$.Class({GetEnumerator:function(){return r.New(this,null,function(hw){var hx,hy;hx=hw.s;if(hx.$==0){return false;}else{hy=hx.$1;hw.c=hx.$0;hw.s=hy;return true;}});},get_Item:function(hz){return g.nth(hz,this);},get_Length:function(){return g.length(this);}},{Construct:function(hA,hB){return $.New(u,{$:1,$0:hA,$1:hB});},get_Nil:function(){return $.New(u,{$:0});}}),append:function(hC,hD){return t.ofSeq(g.append(hC,hD));},choose:function(hE,hF){return t.ofSeq(g.choose(hE,hF));},collect:function(hG,hH){return t.ofSeq(g.collect(hG,hH));},concat:function(hI){return t.ofSeq(g.concat(hI));},exists2:function(hJ,hK,hL){return b.exists2(hJ,b.ofSeq(hK),b.ofSeq(hL));},filter:function(hM,hN){return t.ofSeq(g.filter(hM,hN));},fold2:function(hO,hP,hQ,hR){return b.fold2(hO,hP,b.ofSeq(hQ),b.ofSeq(hR));},foldBack:function(hS,hT,hU){return b.foldBack(hS,b.ofSeq(hT),hU);},foldBack2:function(hV,hW,hX,hY){return b.foldBack2(hV,b.ofSeq(hW),b.ofSeq(hX),hY);},forall2:function(hZ,h0,h1){return b.forall2(hZ,b.ofSeq(h0),b.ofSeq(h1));},init:function(h2,h3){return t.ofArray(b.init(h2,h3));},iter2:function(h4,h5,h6){return b.iter2(h4,b.ofSeq(h5),b.ofSeq(h6));},iteri2:function(h7,h8,h9){return b.iteri2(h7,b.ofSeq(h8),b.ofSeq(h9));},map:function(h_,h$){return t.ofSeq(g.map(h_,h$));},map2:function(ia,ib,ic){return t.ofArray(b.map2(ia,b.ofSeq(ib),b.ofSeq(ic)));},map3:function(id,ie,_if,ig){return t.ofArray(b.map2(function(ih){return function(ii){return ih(ii);};},b.map2(id,b.ofSeq(ie),b.ofSeq(_if)),b.ofSeq(ig)));},mapi:function(ij,ik){return t.ofSeq(g.mapi(ij,ik));},mapi2:function(il,im,_in){return t.ofArray(b.mapi2(il,b.ofSeq(im),b.ofSeq(_in)));},max:function(io){return g.reduce(function(ip){return function(iq){return c.Max(ip,iq);};},io);},maxBy:function(ir,is){return g.reduce(function(it){return function(iu){return h.Compare(ir(it),ir(iu))===1?it:iu;};},is);},min:function(iv){return g.reduce(function(iw){return function(ix){return c.Min(iw,ix);};},iv);},minBy:function(iy,iz){return g.reduce(function(iA){return function(iB){return h.Compare(iy(iA),iy(iB))===-1?iA:iB;};},iz);},ofArray:function(iC){var iD,iE;iD=$.New(u,{$:0});for(iE=0;iE<=e.GetLength(iC)-1;iE++){iD=$.New(u,{$:1,$0:iC[e.GetLength(iC)-iE-1],$1:iD});}return iD;},ofSeq:function(iF){var iG,iH,iI;iG=[];iH=i.Get(iF);while(iH.MoveNext()){iG.unshift(iH.get_Current());}iI=iG.slice(0);iI.reverse();return t.ofArray(iI);},partition:function(iJ,iK){var iL,iM;iL=b.partition(iJ,b.ofSeq(iK));iM=iL[1];return[t.ofArray(iL[0]),t.ofArray(iM)];},permute:function(iN,iO){return t.ofArray(b.permute(iN,b.ofSeq(iO)));},reduceBack:function(iP,iQ){return b.reduceBack(iP,b.ofSeq(iQ));},replicate:function(iR,iS){return t.ofArray(b.create(iR,iS));},rev:function(iT){var iU;iU=b.ofSeq(iT);iU.reverse();return t.ofArray(iU);},scan:function(iV,iW,iX){return t.ofSeq(g.scan(iV,iW,iX));},scanBack:function(iY,iZ,i0){return t.ofArray(b.scanBack(iY,b.ofSeq(iZ),i0));},sort:function(i1){var i2;i2=b.ofSeq(i1);b.sortInPlace(i2);return t.ofArray(i2);},sortBy:function(i3,i4){return t.sortWith(function(i5){return function(i6){return c.Compare(i3(i5),i3(i6));};},i4);},sortWith:function(i7,i8){var i9;i9=b.ofSeq(i8);b.sortInPlaceWith(i7,i9);return t.ofArray(i9);},unzip:function(i_){var i$,ja,jb,jc,jd;i$=[];ja=[];jb=i.Get(i_);while(jb.MoveNext()){jc=jb.get_Current();jd=jc[1];i$.push(jc[0]);ja.push(jd);}return[t.ofArray(i$.slice(0)),t.ofArray(ja.slice(0))];},unzip3:function(je){var jf,jg,jh,ji,jj,jk,jl;jf=[];jg=[];jh=[];ji=i.Get(je);while(ji.MoveNext()){jj=ji.get_Current();jk=jj[2];jl=jj[1];jf.push(jj[0]);jg.push(jl);jh.push(jk);}return[t.ofArray(jf.slice(0)),t.ofArray(jg.slice(0)),t.ofArray(jh.slice(0))];},zip:function(jm,jn){return t.ofArray(b.zip(b.ofSeq(jm),b.ofSeq(jn)));},zip3:function(jo,jp,jq){return t.ofArray(b.zip3(b.ofSeq(jo),b.ofSeq(jp),b.ofSeq(jq)));}},OperatorIntrinsics:{GetArraySlice:function(jr,js,jt){var ju;ju=[js,jt];return ju[0].$==0?ju[1].$==1?jr.slice(0,ju[1].$0+1):[]:ju[1].$==0?jr.slice(ju[0].$0):jr.slice(ju[0].$0,ju[1].$0+1);},GetArraySlice2D:function(jv,jw,jx,jy,jz){var jA,jB;jA=jw.$==1?jw.$0:0;jB=jy.$==1?jy.$0:0;return e.GetArray2DSub(jv,jA,jB,(jx.$==1?jx.$0:jv.length-1)-jA+1,(jz.$==1?jz.$0:(jv.length?jv[0].length:0)-1)-jB+1);},GetArraySlice2DFixed1:function(jC,jD,jE,jF){var jG,jH,jI,jJ;jG=jE.$==1?jE.$0:0;jH=(jF.$==1?jF.$0:(jC.length?jC[0].length:0)-1)-jG+1;jI=f(jH);for(jJ=0;jJ<=jH-1;jJ++){jI[jJ]=jC[jD][jG+jJ];}return jI;},GetArraySlice2DFixed2:function(jK,jL,jM,jN){var jO,jP,jQ,jR;jO=jL.$==1?jL.$0:0;jP=(jM.$==1?jM.$0:jK.length-1)-jO+1;jQ=f(jP);for(jR=0;jR<=jP-1;jR++){jQ[jR]=jK[jO+jR][jN];}return jQ;},GetStringSlice:function(jS,jT,jU){var jV;jV=[jT,jU];return jV[0].$==0?jV[1].$==1?jS.slice(0,jV[1].$0+1):"":jV[1].$==0?jS.slice(jV[0].$0):jS.slice(jV[0].$0,jV[1].$0+1);},SetArraySlice:function(jW,jX,jY,jZ){var j0;j0=jX.$==1?jX.$0:0;return e.SetArraySub(jW,j0,(jY.$==1?jY.$0:e.GetLength(jW)-1)-j0+1,jZ);},SetArraySlice2D:function(j1,j2,j3,j4,j5,j6){var j7,j8;j7=j2.$==1?j2.$0:0;j8=j4.$==1?j4.$0:0;return e.SetArray2DSub(j1,j7,j8,(j3.$==1?j3.$0:j1.length-1)-j7+1,(j5.$==1?j5.$0:(j1.length?j1[0].length:0)-1)-j8+1,j6);},SetArraySlice2DFixed1:function(j9,j_,j$,ka,kb){var kc,kd,ke;kc=j$.$==1?j$.$0:0;kd=(ka.$==1?ka.$0:(j9.length?j9[0].length:0)-1)-kc+1;for(ke=0;ke<=kd-1;ke++){j9[j_][kc+ke]=kb[ke];}return;},SetArraySlice2DFixed2:function(kf,kg,kh,ki,kj){var kk,kl,km;kk=kg.$==1?kg.$0:0;kl=(kh.$==1?kh.$0:kf.length-1)-kk+1;for(km=0;km<=kl-1;km++){kf[kk+km][ki]=kj[km];}return;}},Operators:{Compare:function(kn,ko){return h.Compare(kn,ko);},Decrement:function(kp){kp.contents=kp.contents-1;},DefaultArg:function(kq,kr){return kq.$==0?kr:kq.$0;},FailWith:function(ks){return c.Raise(new v(ks));},Increment:function(kt){kt.contents=kt.contents+1;},KeyValue:function(ku){return[ku.K,ku.V];},Max:function(kv,kw){return h.Compare(kv,kw)===1?kv:kw;},Min:function(kx,ky){return h.Compare(kx,ky)===-1?kx:ky;},Pown:function(kz,kA){var kB;kB=function(kC){var kD;if(kC===1){return kz;}else{if(kC%2===0){kD=kB(kC/2>>0);return kD*kD;}else{return kz*kB(kC-1);}}};return kB(kA);},Raise:function($e){var $0=this,$this=this;throw $e;},Sign:function(kE){return kE===0?0:kE<0?-1:1;},Truncate:function(kF){return kF<0?w.ceil(kF):w.floor(kF);},Using:function(kG,kH){try{return kH(kG);}finally{kG.Dispose();}},range:function(kI,kJ){return g.init(1+kJ-kI,function(kK){return kK+kI;});},step:function(kL,kM,kN){var kO;kO=c.Sign(kM);return g.takeWhile(function(kP){return kO*(kN-kP)>=0;},g.initInfinite(function(kQ){return kL+kQ*kM;}));}},Option:{bind:function(kR,kS){return kS.$==0?{$:0}:kR(kS.$0);},exists:function(kT,kU){return kU.$==0?false:kT(kU.$0);},fold:function(kV,kW,kX){var kY;if(kX.$==0){return kW;}else{kY=kX.$0;return(kV(kW))(kY);}},foldBack:function(kZ,k0,k1){return k0.$==0?k1:(kZ(k0.$0))(k1);},forall:function(k2,k3){return k3.$==0?true:k2(k3.$0);},iter:function(k4,k5){return k5.$==0?null:k4(k5.$0);},map:function(k6,k7){return k7.$==0?{$:0}:{$:1,$0:k6(k7.$0)};},toArray:function(k8){return k8.$==0?[]:[k8.$0];},toList:function(k9){return k9.$==0?$.New(u,{$:0}):t.ofArray([k9.$0]);}},Pervasives:{NewFromList:function(k_){var k$,la,lb;k$={};la=i.Get(k_);while(la.MoveNext()){lb=la.get_Current();k$[lb[0]]=lb[1];}return k$;}},Queue:{Clear:function(lc){return lc.splice(0,e.GetLength(lc));},Contains:function(ld,le){return g.exists(function(lf){return h.Equals(le,lf);},ld);},CopyTo:function(lg,lh,li){return b.blit(lg,0,lh,li,e.GetLength(lg));}},Remoting:{AjaxProvider:$.Field(function(){return y.New();}),Async:function(lj,lk){var ll,lm,ln;ll=x.makeHeaders(lj);lm=x.makePayload(lk);ln=$.Tupled(function(lo){var lp,lq,lr,lt;lp=lo[0];lq=lo[1];lr=function(ls){return lp(s.Activate(z.parse(ls)));};lt=x.EndPoint();return x.AjaxProvider().Async(lt,ll,lm,lr,lq);});return m.FromContinuations(function(lu){return function(lv){return ln([lu,lv,function(){}]);};});},Call:function(lx,ly){var lz,lA,lB;lz=x.EndPoint();lA=x.makeHeaders(lx);lB=x.makePayload(ly);return s.Activate(z.parse(x.AjaxProvider().Sync(lz,lA,lB)));},EndPoint:$.Field(function(){return"?";}),Send:function(lC,lD){return m.Start(m.Bind(x.Async(lC,lD),function(){return m.Return(null);}));},XhrProvider:$.Class({Async:function(lF,lG,lH,lI,lJ){return x.ajax(true,lF,lG,lH,lI,lJ);},Sync:function(lK,lL,lM){var lN;lN={contents:undefined};x.ajax(false,lK,lL,lM,function(lO){lN.contents=lO;},function(lP){return c.Raise(lP);});return lN.contents;}},{New:function(){return $.New(this,{});}}),ajax:function($async,$url,$headers,$data,$ok,$err){var $0=this,$this=this;var xhr=new $$.XMLHttpRequest();xhr.open("POST",$url,$async);for(var h in $headers){xhr.setRequestHeader(h,$headers[h]);}function k(){if(xhr.status==200){$ok(xhr.responseText);}else{var msg="Response status is not 200: ";$err(new $$.Error(msg+xhr.status));}}if("onload"in xhr){xhr.onload=xhr.onerror=xhr.onabort=k;}else{xhr.onreadystatechange=function(){if(xhr.readyState==4){k();}};}xhr.send($data);},makeHeaders:function(lQ){var lR;lR={};lR["content-type"]="application/json";lR["x-websharper-rpc"]=lQ;return lR;},makePayload:function(lS){return z.stringify(lS);}},Seq:{append:function(lT,lU){return A.Of(function(){var lW;lW=i.Get(lT);return r.New(lW,null,function(lX){var lY;if(lX.s.MoveNext()){lX.c=lX.s.get_Current();return true;}else{if(lX.s===lW){lY=i.Get(lU);lX.s=lY;if(lY.MoveNext()){lX.c=lY.get_Current();return true;}else{return false;}}else{return false;}}});});},average:function(lZ){var l0;l0=g.fold($.Tupled(function(l1){var l2,l3;l2=l1[0];l3=l1[1];return function(l4){return[l2+1,l3+l4];};}),[0,0],lZ);return l0[1]/l0[0];},averageBy:function(l5,l6){var l7;l7=g.fold($.Tupled(function(l8){var l9,l_;l9=l8[0];l_=l8[1];return function(l$){return[l9+1,l_+l5(l$)];};}),[0,0],l6);return l7[1]/l7[0];},cache:function(ma){var mb,mc;mb=[];mc=i.Get(ma);return A.Of(function(){return r.New(0,null,function(me){if(me.s+1<mb.length){me.s=me.s+1;me.c=mb[me.s];return true;}else{if(mc.MoveNext()){me.s=me.s+1;me.c=mc.get_Current();mb.push(me.get_Current());return true;}else{return false;}}});});},choose:function(mf,mg){return g.collect(function(mh){var mi;mi=mf(mh);return mi.$==0?$.New(u,{$:0}):t.ofArray([mi.$0]);},mg);},collect:function(mj,mk){return g.concat(g.map(mj,mk));},compareWith:function(ml,mm,mn){var mo,mp,mq,mr,ms;mo=i.Get(mm);mp=i.Get(mn);mq=0;mr=true;while(mr?mq===0:false){ms=[mo.MoveNext(),mp.MoveNext()];if(ms[0]){if(ms[1]){mq=(ml(mo.get_Current()))(mp.get_Current());}else{mq=1;}}else{if(ms[1]){mq=-1;}else{mr=false;}}}return mq;},concat:function(mt){return A.Of(function(){var mv,mw;mv=i.Get(mt);mw=function(mx){var my;my=mx.s;if(h.Equals(my,null)){if(mv.MoveNext()){mx.s=i.Get(mv.get_Current());return mw(mx);}else{return false;}}else{if(my.MoveNext()){mx.c=my.get_Current();return true;}else{mx.s=null;return mw(mx);}}};return r.New(null,null,mw);});},countBy:function(mz,mA){return g.delay(function(){var mC,mD,mE,mF,mG;mC={};mD=i.Get(mA);mE=[];while(mD.MoveNext()){mF=mz(mD.get_Current());mG=h.Hash(mF);if(mC.hasOwnProperty(mG)){mC[mG]=mC[mG]+1;}else{mE.push(mF);mC[mG]=1;}}return b.map(function(mH){return[mH,mC[h.Hash(mH)]];},mE.slice(0));});},delay:function(mI){return A.Of(function(){return i.Get(mI(null));});},distinct:function(mK){return g.distinctBy(function(mL){return mL;},mK);},distinctBy:function(mM,mN){return A.Of(function(){var mP,mQ;mP=i.Get(mN);mQ={};return r.New(null,null,function(mR){var mS,mT,mV,mX;if(mP.MoveNext()){mS=mP.get_Current();mT=function(mU){return h.Hash(mM(mU));};mV=function(mW){return mQ.hasOwnProperty(mT(mW));};mX=mV(mS);while(mX?mP.MoveNext():false){mS=mP.get_Current();mX=mV(mS);}if(mX){return false;}else{mQ[mT(mS)]=null;mR.c=mS;return true;}}else{return false;}});});},empty:function(){return[];},enumFinally:function(mY,mZ){return A.Of(function(){var m1,m2;try{m1=i.Get(mY);}catch(m2){mZ(null);m1=c.Raise(m2);}return r.New(null,null,function(m3){var m4;try{if(m1.MoveNext()){m3.c=m1.get_Current();return true;}else{mZ(null);return false;}}catch(m4){mZ(null);return c.Raise(m4);}});});},enumUsing:function(m5,m6){return m6(m5);},enumWhile:function(m7,m8){return A.Of(function(){var m_;m_=function(m$){var na,nb;na=m$.s;if(na.$==1){nb=na.$0;if(nb.MoveNext()){m$.c=nb.get_Current();return true;}else{m$.s={$:0};return m_(m$);}}else{if(m7(null)){m$.s={$:1,$0:i.Get(m8)};return m_(m$);}else{return false;}}};return r.New({$:0},null,m_);});},exists:function(nc,nd){var ne,nf;ne=i.Get(nd);nf=false;while(!nf?ne.MoveNext():false){nf=nc(ne.get_Current());}return nf;},exists2:function(ng,nh,ni){var nj,nk,nl;nj=i.Get(nh);nk=i.Get(ni);nl=false;while((!nl?nj.MoveNext():false)?nk.MoveNext():false){nl=(ng(nj.get_Current()))(nk.get_Current());}return nl;},filter:function(nm,nn){return A.Of(function(){var np;np=i.Get(nn);return r.New(null,null,function(nq){var nr,ns,nt;nr=np.MoveNext();ns=np.get_Current();nt=false;while(nr){if(nm(ns)){nq.c=ns;nt=true;nr=false;}else{if(np.MoveNext()){ns=np.get_Current();}else{nr=false;}}}return nt;});});},find:function(nu,nv){var nw;nw=g.tryFind(nu,nv);return nw.$==0?c.FailWith("KeyNotFoundException"):nw.$0;},findIndex:function(nx,ny){var nz;nz=g.tryFindIndex(nx,ny);return nz.$==0?c.FailWith("KeyNotFoundException"):nz.$0;},fold:function(nA,nB,nC){var nD,nE;nD=nB;nE=i.Get(nC);while(nE.MoveNext()){nD=(nA(nD))(nE.get_Current());}return nD;},forall:function(nF,nG){return!g.exists(function(nH){return!nF(nH);},nG);},forall2:function(nI,nJ,nK){return!g.exists2(function(nL){return function(nM){return!(nI(nL))(nM);};},nJ,nK);},groupBy:function(nN,nO){return g.delay(function(){var nQ,nR,nS,nT,nU,nV,nW;nQ={};nR={};nS=[];nT=i.Get(nO);while(nT.MoveNext()){nU=nT.get_Current();nV=nN(nU);nW=h.Hash(nV);if(!nQ.hasOwnProperty(nW)){nS.push(nV);}nR[nW]=nV;if(nQ.hasOwnProperty(nW)){nQ[nW].push(nU);}else{nQ[nW]=[nU];}}return b.map(function(nX){return[nX,nQ[h.Hash(nX)]];},nS);});},head:function(nY){var nZ;nZ=i.Get(nY);return nZ.MoveNext()?nZ.get_Current():g.insufficient();},init:function(n0,n1){return g.take(n0,g.initInfinite(n1));},initInfinite:function(n2){return A.Of(function(){return r.New(0,null,function(n4){n4.c=n2(n4.s);n4.s=n4.s+1;return true;});});},insufficient:function(){return c.FailWith("The input sequence has an insufficient number of elements.");},isEmpty:function(n5){return!i.Get(n5).MoveNext();},iter:function(n6,n7){return g.iteri(function(){return function(n9){return n6(n9);};},n7);},iter2:function(n_,n$,oa){var ob,oc;ob=i.Get(n$);oc=i.Get(oa);while(ob.MoveNext()?oc.MoveNext():false){(n_(ob.get_Current()))(oc.get_Current());}return;},iteri:function(od,oe){var of,og;of=0;og=i.Get(oe);while(og.MoveNext()){(od(of))(og.get_Current());of=of+1;}return;},length:function(oh){var oi,oj;oi=0;oj=i.Get(oh);while(oj.MoveNext()){oi=oi+1;}return oi;},map:function(ok,ol){return A.Of(function(){var on;on=i.Get(ol);return r.New(null,null,function(oo){if(on.MoveNext()){oo.c=ok(on.get_Current());return true;}else{return false;}});});},mapi:function(op,oq){return g.mapi2(op,g.initInfinite(function(or){return or;}),oq);},mapi2:function(os,ot,ou){return A.Of(function(){var ow,ox;ow=i.Get(ot);ox=i.Get(ou);return r.New(null,null,function(oy){if(ow.MoveNext()?ox.MoveNext():false){oy.c=(os(ow.get_Current()))(ox.get_Current());return true;}else{return false;}});});},max:function(oz){return g.reduce(function(oA){return function(oB){return h.Compare(oA,oB)>=0?oA:oB;};},oz);},maxBy:function(oC,oD){return g.reduce(function(oE){return function(oF){return h.Compare(oC(oE),oC(oF))>=0?oE:oF;};},oD);},min:function(oG){return g.reduce(function(oH){return function(oI){return h.Compare(oH,oI)<=0?oH:oI;};},oG);},minBy:function(oJ,oK){return g.reduce(function(oL){return function(oM){return h.Compare(oJ(oL),oJ(oM))<=0?oL:oM;};},oK);},nth:function(oN,oO){var oP,oQ;if(oN<0){c.FailWith("negative index requested");}oP=-1;oQ=i.Get(oO);while(oP<oN){if(!oQ.MoveNext()){g.insufficient();}oP=oP+1;}return oQ.get_Current();},pairwise:function(oR){return g.map(function(oS){return[oS[0],oS[1]];},g.windowed(2,oR));},pick:function(oT,oU){var oV;oV=g.tryPick(oT,oU);return oV.$==0?c.FailWith("KeyNotFoundException"):oV.$0;},readOnly:function(oW){return A.Of(function(){return i.Get(oW);});},reduce:function(oY,oZ){var o0,o1;o0=i.Get(oZ);if(!o0.MoveNext()){c.FailWith("The input sequence was empty");}o1=o0.get_Current();while(o0.MoveNext()){o1=(oY(o1))(o0.get_Current());}return o1;},scan:function(o2,o3,o4){return A.Of(function(){var o6;o6=i.Get(o4);return r.New(false,null,function(o7){if(o7.s){if(o6.MoveNext()){o7.c=(o2(o7.get_Current()))(o6.get_Current());return true;}else{return false;}}else{o7.c=o3;o7.s=true;return true;}});});},skip:function(o8,o9){return A.Of(function(){var o$,pa;o$=i.Get(o9);for(pa=1;pa<=o8;pa++){if(!o$.MoveNext()){g.insufficient();}}return o$;});},skipWhile:function(pb,pc){return A.Of(function(){var pe,pf;pe=i.Get(pc);pf=true;while(pe.MoveNext()?pb(pe.get_Current()):false){pf=false;}return pf?i.Get(g.empty()):r.New(true,null,function(pg){var ph;if(pg.s){pg.s=false;pg.c=pe.get_Current();return true;}else{ph=pe.MoveNext();pg.c=pe.get_Current();return ph;}});});},sort:function(pi){return g.sortBy(function(pj){return pj;},pi);},sortBy:function(pk,pl){return g.delay(function(){var pn;pn=b.ofSeq(pl);b.sortInPlaceBy(pk,pn);return pn;});},sum:function(po){return g.fold(function(pp){return function(pq){return pp+pq;};},0,po);},sumBy:function(pr,ps){return g.fold(function(pt){return function(pu){return pt+pr(pu);};},0,ps);},take:function(pv,pw){return A.Of(function(){var py;py=i.Get(pw);return r.New(0,null,function(pz){if(pz.s>=pv){return false;}else{if(py.MoveNext()){pz.s=pz.s+1;pz.c=py.get_Current();return true;}else{py.Dispose();pz.s=pv;return false;}}});});},takeWhile:function(pA,pB){return g.delay(function(){return g.enumUsing(i.Get(pB),function(pD){return g.enumWhile(function(){return pD.MoveNext()?pA(pD.get_Current()):false;},g.delay(function(){return[pD.get_Current()];}));});});},toArray:function(pG){var pH,pI;pH=[];pI=i.Get(pG);while(pI.MoveNext()){pH.push(pI.get_Current());}return pH.slice(0);},toList:function(pJ){return t.ofSeq(pJ);},truncate:function(pK,pL){return g.delay(function(){return g.enumUsing(i.Get(pL),function(pN){var pO;pO={contents:0};return g.enumWhile(function(){return pN.MoveNext()?pO.contents<pK:false;},g.delay(function(){c.Increment(pO);return[pN.get_Current()];}));});});},tryFind:function(pR,pS){var pT,pU,pV;pT=i.Get(pS);pU={$:0};while(pU.$==0?pT.MoveNext():false){pV=pT.get_Current();if(pR(pV)){pU={$:1,$0:pV};}}return pU;},tryFindIndex:function(pW,pX){var pY,pZ,p0;pY=i.Get(pX);pZ=true;p0=0;while(pZ?pY.MoveNext():false){if(pW(pY.get_Current())){pZ=false;}else{p0=p0+1;}}return pZ?{$:0}:{$:1,$0:p0};},tryPick:function(p1,p2){var p3,p4;p3=i.Get(p2);p4={$:0};while(h.Equals(p4,{$:0})?p3.MoveNext():false){p4=p1(p3.get_Current());}return p4;},unfold:function(p5,p6){return A.Of(function(){return r.New(p6,null,function(p8){var p9,p_;p9=p5(p8.s);if(p9.$==0){return false;}else{p_=p9.$0[1];p8.c=p9.$0[0];p8.s=p_;return true;}});});},windowed:function(p$,qa){if(p$<=0){c.FailWith("The input must be non-negative.");}return g.delay(function(){return g.enumUsing(i.Get(qa),function(qc){var qd;qd=[];return g.append(g.enumWhile(function(){return qd.length<p$?qc.MoveNext():false;},g.delay(function(){qd.push(qc.get_Current());return g.empty();})),g.delay(function(){return qd.length===p$?g.append([qd.slice(0)],g.delay(function(){return g.enumWhile(function(){return qc.MoveNext();},g.delay(function(){qd.shift();qd.push(qc.get_Current());return[qd.slice(0)];}));})):g.empty();}));});});},zip:function(qk,ql){return g.mapi2(function(qm){return function(qn){return[qm,qn];};},qk,ql);},zip3:function(qo,qp,qq){return g.mapi2(function(qr){return $.Tupled(function(qs){return[qr,qs[0],qs[1]];});},qo,g.zip(qp,qq));}},Stack:{Clear:function(qt){return qt.splice(0,e.GetLength(qt));},Contains:function(qu,qv){return g.exists(function(qw){return h.Equals(qv,qw);},qu);},CopyTo:function(qx,qy,qz){return b.blit(qy,0,qy,qz,e.GetLength(qx));}},Strings:{Compare:function(qA,qB){return c.Compare(qA,qB);},CopyTo:function(qC,qD,qE,qF,qG){return b.blit(B.ToCharArray(qC),qD,qE,qF,qG);},EndsWith:function($x,$s){var $0=this,$this=this;return $x.substring($x.length-$s.length)==$s;},IndexOf:function($s,$c,$i){var $0=this,$this=this;return $s.indexOf($$.String.fromCharCode($c),$i);},Insert:function($x,$index,$s){var $0=this,$this=this;return $x.substring(0,$index-1)+$s+$x.substring($index);},IsNullOrEmpty:function($x){var $0=this,$this=this;return $x==null||$x=="";},Join:function($sep,$values){var $0=this,$this=this;return $values.join($sep);},LastIndexOf:function($s,$c,$i){var $0=this,$this=this;return $s.lastIndexOf($$.String.fromCharCode($c),$i);},PadLeft:function(qH,qI){return f(qI-qH.length+1).join(C.fromCharCode(32))+qH;},PadRight:function(qJ,qK){return qJ+f(qK-qJ.length+1).join(C.fromCharCode(32));},RegexEscape:function($s){var $0=this,$this=this;return $s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");},Remove:function($x,$ix,$ct){var $0=this,$this=this;return $x.substring(0,$ix)+$x.substring($ix+$ct);},Replace:function(qL,qM,qN){var qO,qP;qO=[];qO[1]=qL;qO[0]=1;while(qO[0]){qP=B.ReplaceOnce(qO[1],qM,qN);if(qP===qO[1]){qO[0]=0;qO[1]=qP;}else{qO[1]=qP;qO[0]=1;}}return qO[1];},ReplaceChar:function(qQ,qR,qS){return B.Replace(qQ,C.fromCharCode(qR),C.fromCharCode(qS));},ReplaceOnce:function($string,$search,$replace){var $0=this,$this=this;return $string.replace($search,$replace);},Split:function(qT,qU,qV){var qW;qW=B.SplitWith(qT,qU);return qV===1?b.filter(function(qX){return qX!=="";},qW):qW;},SplitChars:function(qY,qZ,q0){return B.Split(qY,new D("["+B.RegexEscape(C.fromCharCode.apply(undefined,qZ))+"]"),q0);},SplitStrings:function(q1,q2,q3){return B.Split(q1,new D(B.concat("|",b.map(function(q4){return B.RegexEscape(q4);},q2))),q3);},SplitWith:function($str,$pat){var $0=this,$this=this;return $str.split($pat);},StartsWith:function($t,$s){var $0=this,$this=this;return $t.substring(0,$s.length)==$s;},Substring:function($s,$ix,$ct){var $0=this,$this=this;return $s.substr($ix,$ct);},ToCharArray:function(q5){return b.init(q5.length,function(q6){return q5.charCodeAt(q6);});},ToCharArrayRange:function(q7,q8,q9){return b.init(q9,function(q_){return q7.charCodeAt(q8+q_);});},Trim:function($s){var $0=this,$this=this;return $s.replace(/^\s+/,"").replace(/\s+$/,"");},collect:function(q$,ra){return b.init(ra.length,function(rb){return q$(ra.charCodeAt(rb));}).join("");},concat:function(rc,rd){return g.toArray(rd).join(rc);},exists:function(re,rf){return g.exists(re,B.protect(rf));},forall:function(rg,rh){return g.forall(rg,B.protect(rh));},init:function(ri,rj){return b.init(ri,rj).join("");},iter:function(rk,rl){return g.iter(rk,B.protect(rl));},iteri:function(rm,rn){return g.iteri(rm,B.protect(rn));},length:function(ro){return B.protect(ro).length;},map:function(rp,rq){return B.collect(function(rr){return C.fromCharCode(rp(rr));},B.protect(rq));},mapi:function(rs,rt){return g.toArray(g.mapi(function(ru){return function(rv){return C.fromCharCode((rs(ru))(rv));};},rt)).join("");},protect:function(rw){return rw===null?"":rw;},replicate:function(rx,ry){return B.init(rx,function(){return ry;});}},Unchecked:{Compare:function(rA,rB){var rC;if(rA===rB){return 0;}else{rC=typeof rA;return rC==="undefined"?typeof rB==="undefined"?0:-1:rC==="function"?c.FailWith("Cannot compare function values."):rC==="boolean"?rA<rB?-1:1:rC==="number"?rA<rB?-1:1:rC==="string"?rA<rB?-1:1:rA===null?-1:rB===null?1:"CompareTo"in rA?rA.CompareTo(rB):(rA instanceof f?rB instanceof f:false)?h.compareArrays(rA,rB):(rA instanceof o?rB instanceof o:false)?h.compareDates(rA,rB):h.compareArrays(p.GetFields(rA),p.GetFields(rB));}},Equals:function(rD,rE){return rD===rE?true:typeof rD==="object"?rD===null?false:rE===null?false:"Equals"in rD?rD.Equals(rE):(rD instanceof f?rE instanceof f:false)?h.arrayEquals(rD,rE):(rD instanceof o?rE instanceof o:false)?h.dateEquals(rD,rE):h.arrayEquals(p.GetFields(rD),p.GetFields(rE)):false;},Hash:function(rF){var rG;rG=typeof rF;return rG==="function"?0:rG==="boolean"?rF?1:0:rG==="number"?rF:rG==="string"?h.hashString(rF):rG==="object"?rF==null?0:rF instanceof f?h.hashArray(rF):h.hashObject(rF):0;},arrayEquals:function(rH,rI){var rJ,rK;if(e.GetLength(rH)===e.GetLength(rI)){rJ=true;rK=0;while(rJ?rK<e.GetLength(rH):false){if(!h.Equals(rH[rK],rI[rK])){rJ=false;}rK=rK+1;}return rJ;}else{return false;}},compareArrays:function(rL,rM){var rN,rO;if(e.GetLength(rL)<e.GetLength(rM)){return-1;}else{if(e.GetLength(rL)>e.GetLength(rM)){return 1;}else{rN=0;rO=0;while(rN===0?rO<e.GetLength(rL):false){rN=h.Compare(rL[rO],rM[rO]);rO=rO+1;}return rN;}}},compareDates:function(rP,rQ){return c.Compare(rP.getTime(),rQ.getTime());},dateEquals:function(rR,rS){return rR.getTime()===rS.getTime();},hashArray:function(rT){var rU,rV;rU=-34948909;for(rV=0;rV<=e.GetLength(rT)-1;rV++){rU=h.hashMix(rU,h.Hash(rT[rV]));}return rU;},hashMix:function(rW,rX){return(rW<<5)+rW+rX;},hashObject:function(rY){var rZ,r2;if("GetHashCode"in rY){return rY.GetHashCode();}else{rZ=function(r0,r1){return h.hashMix(r0,r1);};r2={contents:0};p.ForEach(rY,function(r3){r2.contents=rZ(rZ(r2.contents,h.hashString(r3)),h.Hash(rY[r3]));return false;});return r2.contents;}},hashString:function(r4){var r5,r6;if(r4===null){return 0;}else{r5=5381;for(r6=0;r6<=r4.length-1;r6++){r5=h.hashMix(r5,r4.charCodeAt(r6)<<0);}return r5;}}},Util:{addListener:function(r7,r8){r7.Subscribe(l.observer(r8));},observer:function(r9){return{OnCompleted:function(){},OnError:function(){},OnNext:r9};},subscribeTo:function(sa,sb){return sa.Subscribe(l.observer(sb));}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Arrays);c=$.Safe(a.Operators);d=$.Safe($$.Number);e=$.Safe(a.IntrinsicFunctionProxy);f=$.Safe($$.Array);g=$.Safe(a.Seq);h=$.Safe(a.Unchecked);i=$.Safe(a.Enumerator);j=$.Safe(a.Arrays2D);k=$.Safe(a.Char);l=$.Safe(a.Util);m=$.Safe(a.Concurrency);n=$.Safe($$.setTimeout);o=$.Safe($$.Date);p=$.Safe(a.JavaScript);q=$.Safe(m.Scheduler);r=$.Safe(i.T);s=$.Safe(a.Json);t=$.Safe(a.List);u=$.Safe(t.T);v=$.Safe($$.Error);w=$.Safe($$.Math);x=$.Safe(a.Remoting);y=$.Safe(x.XhrProvider);z=$.Safe($$.JSON);A=$.Safe(a.Enumerable);B=$.Safe(a.Strings);C=$.Safe($$.String);return D=$.Safe($$.RegExp);});$.OnLoad(function(){x.EndPoint();x.AjaxProvider();m.scheduler();return;});}());

var JSON;JSON||(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function f(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(i,e){var s,l,h,a,v=n,c,o=e[i];o&&typeof o=="object"&&typeof o.toJSON=="function"&&(o=o.toJSON(i));typeof t=="function"&&(o=t.call(e,i,o));switch(typeof o){case"string":return f(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(n+=u,c=[],Object.prototype.toString.apply(o)==="[object Array]"){for(a=o.length,s=0;s<a;s+=1)c[s]=r(s,o)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));else for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,u,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",u="",typeof e=="number")for(o=0;o<e;o+=1)u+=" ";else typeof e=="string"&&(u=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return r("",{"":i})});typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;if(n=String(n),e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}();
(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;$.Define($$,{IntelliFactory:{WebSharper:{Html:{Activator:{Activate:$.Field(function(){var B;if(c.hasDocument()){B=d.getElementById("websharper-data");return B?e.OnLoad(function(){var D;D=f.GetFields(g.Activate(h.parse(B.getAttribute("content"))));return i.iter($.Tupled(function(E){var F,G,H;F=E[0];G=E[1].get_Body();H=d.getElementById(F);H.parentNode.replaceChild(G.get_Body(),H);return G.Render();}),D);}):null;}else{return null;}}),hasDocument:function(){var $0=this,$this=this;return typeof $$.document!=="undefined";}},Attribute:$.Class({Render:function(){return null;},get_Body:function(){var I;I=this.HtmlProvider.CreateAttribute(this.Name);I.nodeValue=this.Value;return I;}},{New:function(J,K,L){var M;M=j.New1(J);M.Name=K;M.Value=L;return M;},New1:function(N){var O;O=$.New(this,{});O.HtmlProvider=N;return O;}}),AttributeBuilder:$.Class({Class:function(P){return this.NewAttr("class",P);},NewAttr:function(Q,R){return j.New(this.HtmlProvider,Q,R);},get_CheckBox:function(){return this.NewAttr("type","checkbox");},get_Hidden:function(){return this.NewAttr("type","hidden");},get_Password:function(){return this.NewAttr("type","password");},get_Radio:function(){return this.NewAttr("type","radio");},get_Reset:function(){return this.NewAttr("type","reset");},get_Submit:function(){return this.NewAttr("type","submit");},get_TextField:function(){return this.NewAttr("type","textfield");}},{New:function(S){var T;T=$.New(this,{});T.HtmlProvider=S;return T;}}),Default:{A:function(U){return e.Tags().NewTag("a",U);},Action:function(V){return e.Attr().NewAttr("action",V);},Align:function(W){return e.Attr().NewAttr("align",W);},Alt:function(X){return e.Attr().NewAttr("alt",X);},Attr:$.Field(function(){return k.Attr();}),B:function(Y){return e.Tags().NewTag("b",Y);},Body:function(Z){return e.Tags().NewTag("body",Z);},Br:function(_0){return e.Tags().NewTag("br",_0);},Button:function(_1){return e.Tags().NewTag("button",_1);},Code:function(_2){return e.Tags().NewTag("code",_2);},Deprecated:$.Field(function(){return k.DeprecatedHtml();}),Div:function(_3){return e.Tags().Div(_3);},Em:function(_4){return e.Tags().NewTag("em",_4);},Form:function(_5){return e.Tags().NewTag("form",_5);},H1:function(_6){return e.Tags().NewTag("h1",_6);},H2:function(_7){return e.Tags().NewTag("h2",_7);},H3:function(_8){return e.Tags().NewTag("h3",_8);},H4:function(_9){return e.Tags().NewTag("h4",_9);},HRef:function(_){return e.Attr().NewAttr("href",_);},HTML5:{Attr:$.Field(function(){return l.Attr();}),Tags:$.Field(function(){return l.Tags();})},Head:function(ba){return e.Tags().NewTag("head",ba);},Height:function(ba){return e.Attr().NewAttr("height",ba);},Hr:function(bb){return e.Tags().NewTag("hr",bb);},I:function(bc){return e.Tags().NewTag("i",bc);},IFrame:function(bd){return e.Tags().NewTag("iframe",bd);},Id:function(be){return e.Attr().NewAttr("id",be);},Img:function(bf){return e.Tags().NewTag("img",bf);},Input:function(bg){return e.Tags().NewTag("input",bg);},LI:function(bh){return e.Tags().NewTag("li",bh);},Name:function(bi){return e.Attr().NewAttr("name",bi);},NewAttr:function(bj){return function(bk){return e.Attr().NewAttr(bj,bk);};},OL:function(bl){return e.Tags().NewTag("ol",bl);},OnLoad:function(bm){return k.HtmlProvider().OnDocumentReady(bm);},P:function(bn){return e.Tags().NewTag("p",bn);},Pre:function(bo){return e.Tags().NewTag("pre",bo);},RowSpan:function(bp){return e.Attr().NewAttr("rowspan",bp);},Script:function(bq){return e.Tags().NewTag("script",bq);},Select:function(br){return e.Tags().NewTag("select",br);},Selected:function(bs){return e.Attr().NewAttr("selected",bs);},Span:function(bt){return e.Tags().NewTag("span",bt);},Src:function(bu){return e.Attr().NewAttr("src",bu);},TBody:function(bv){return e.Tags().NewTag("tbody",bv);},TD:function(bw){return e.Tags().NewTag("td",bw);},TFoot:function(bx){return e.Tags().NewTag("tfoot",bx);},TH:function(by){return e.Tags().NewTag("th",by);},THead:function(bz){return e.Tags().NewTag("thead",bz);},TR:function(bA){return e.Tags().NewTag("tr",bA);},Table:function(bB){return e.Tags().NewTag("table",bB);},Tags:$.Field(function(){return k.Tags();}),Text:function(bC){return e.Tags().text(bC);},TextArea:function(bD){return e.Tags().NewTag("textarea",bD);},UL:function(bE){return e.Tags().NewTag("ul",bE);},VAlign:function(bF){return e.Attr().NewAttr("valign",bF);},Width:function(bG){return e.Attr().NewAttr("width",bG);}},DeprecatedAttributeBuilder:$.Class({NewAttr:function(bH,bI){return j.New(this.HtmlProvider,bH,bI);}},{New:function(bJ){var bK;bK=$.New(this,{});bK.HtmlProvider=bJ;return bK;}}),DeprecatedTagBuilder:$.Class({NewTag:function(bL,bM){var bN,bO;bN=m.New(this.HtmlProvider,bL);bO=n.Get(bM);while(bO.MoveNext()){bN.AppendI(bO.get_Current());}return bN;}},{New:function(bP){var bQ;bQ=$.New(this,{});bQ.HtmlProvider=bP;return bQ;}}),Element:$.Class({AppendI:function(bR){var bS,bT;bS=bR.get_Body();if(bS.nodeType===2){this["HtmlProvider@32"].AppendAttribute(this.Body,bS);}else{this["HtmlProvider@32"].AppendNode(this.Body,bR.get_Body());}if(this.IsRendered){return bR.Render();}else{bT=this.RenderInternal;this.RenderInternal=function(){bT(null);return bR.Render();};return;}},AppendN:function(bV){return this["HtmlProvider@32"].AppendNode(this.Body,bV);},OnLoad:function(bW){return this["HtmlProvider@32"].OnLoad(this.Body,bW);},Render:function(){if(!this.IsRendered){this.RenderInternal.call(null,null);this.IsRendered=true;return;}else{return null;}},get_Body:function(){return this.Body;},get_Html:function(){return this["HtmlProvider@32"].GetHtml(this.Body);},get_HtmlProvider:function(){return this["HtmlProvider@32"];},get_Id:function(){var bX,bY;bX=this["HtmlProvider@32"].GetProperty(this.Body,"id");if(bX===undefined?true:bX===""){bY="id"+o.round(o.random()*100000000);this["HtmlProvider@32"].SetProperty(this.Body,"id",bY);return bY;}else{return bX;}},get_Item:function(bZ){this["HtmlProvider@32"].GetAttribute(this.Body,bZ);return this["HtmlProvider@32"].GetAttribute(this.Body,bZ);},get_Text:function(){return this["HtmlProvider@32"].GetText(this.Body);},get_Value:function(){return this["HtmlProvider@32"].GetValue(this.Body);},set_Html:function(b0){return this["HtmlProvider@32"].SetHtml(this.Body,b0);},set_Item:function(b1,b2){return this["HtmlProvider@32"].SetAttribute(this.Body,b1,b2);},set_Text:function(b3){return this["HtmlProvider@32"].SetText(this.Body,b3);},set_Value:function(b4){return this["HtmlProvider@32"].SetValue(this.Body,b4);}},{New:function(b5,b6){var b7,b8;b7=m.New1(b5);b8=d.createElement(b6);b7.RenderInternal=function(){};b7.Body=b8;b7.IsRendered=false;return b7;},New1:function(b_){var b$;b$=$.New(this,{});b$["HtmlProvider@32"]=b_;return b$;}}),Events:{JQueryEventSupport:$.Class({OnBlur:function(ca,cb){return p(cb.get_Body()).bind("blur",function(){return ca(cb);});},OnChange:function(cd,ce){return p(ce.get_Body()).bind("change",function(){return cd(ce);});},OnClick:function(cg,ch){return this.OnMouse("click",cg,ch);},OnDoubleClick:function(ci,cj){return this.OnMouse("dblclick",ci,cj);},OnError:function(ck,cl){return p(cl.get_Body()).bind("error",function(){return ck(cl);});},OnFocus:function(cn,co){return p(co.get_Body()).bind("focus",function(){return cn(co);});},OnKeyDown:function(cq,cr){var cs;cs=function(ct){return(cq(cr))({KeyCode:ct.keyCode});};return p(cr.get_Body()).bind("keydown",cs);},OnKeyPress:function(cu,cv){return p(cv.get_Body()).keypress(function(cw){return(cu(cv))({CharacterCode:cw.which});});},OnKeyUp:function(cx,cy){var cz;cz=function(cA){return(cx(cy))({KeyCode:cA.keyCode});};return p(cy.get_Body()).bind("keyup",cz);},OnLoad:function(cB,cC){return p(cC.get_Body()).bind("load",function(){return cB(cC);});},OnMouse:function(cE,cF,cG){var cH;cH=function(cI){return(cF(cG))({X:cI.pageX,Y:cI.pageY});};return p(cG.get_Body()).bind(cE,cH);},OnMouseDown:function(cJ,cK){return this.OnMouse("mousedown",cJ,cK);},OnMouseEnter:function(cL,cM){return this.OnMouse("mouseenter",cL,cM);},OnMouseLeave:function(cN,cO){return this.OnMouse("mouseleave",cN,cO);},OnMouseMove:function(cP,cQ){return this.OnMouse("mousemove",cP,cQ);},OnMouseOut:function(cR,cS){return this.OnMouse("mouseout",cR,cS);},OnMouseUp:function(cT,cU){return this.OnMouse("mouseup",cT,cU);},OnResize:function(cV,cW){return p(cW.get_Body()).bind("resize",function(){return cV(cW);});},OnScroll:function(cY,cZ){return p(cZ.get_Body()).bind("scroll",function(){return cY(cZ);});},OnSelect:function(c1,c2){return p(c2.get_Body()).bind("select",function(){return c1(c2);});},OnSubmit:function(c4,c5){return p(c5.get_Body()).bind("submit",function(){return c4(c5);});},OnUnLoad:function(c7,c8){return p(c8.get_Body()).bind("unload",function(){return c7(c8);});}},{New:function(){return $.New(this,{});}})},EventsPervasives:{Events:$.Field(function(){return r.New();})},Html5AttributeBuilder:$.Class({NewAttr:function(c_,c$){return j.New(this.HtmlProvider,c_,c$);}},{New:function(da){var db;db=$.New(this,{});db.HtmlProvider=da;return db;}}),Html5TagBuilder:$.Class({NewTag:function(dc,dd){var de,df;de=m.New(this.HtmlProvider,dc);df=n.Get(dd);while(df.MoveNext()){de.AppendI(df.get_Current());}return de;}},{New:function(dg){var dh;dh=$.New(this,{});dh.HtmlProvider=dg;return dh;}}),Implementation:{Attr:$.Field(function(){return s.New(k.HtmlProvider());}),DeprecatedHtml:$.Field(function(){return t.New(k.HtmlProvider());}),HTML5:{Attr:$.Field(function(){return u.New(l.Html5Provider());}),Html5Provider:$.Field(function(){return v.New();}),Tags:$.Field(function(){return w.New(l.Html5Provider());})},HtmlProvider:$.Field(function(){return v.New();}),JQueryHtmlProvider:$.Class({AddClass:function(di,dj){return p(di).addClass(dj);},AppendAttribute:function(dk,dl){return this.SetAttribute(dk,dl.nodeName,dl.nodeValue);},AppendNode:function(dm,dn){return p(dm).append(p(dn));},Clear:function(_do){return p(_do).contents().detach();},CreateAttribute:function(dp){return d.createAttribute(dp);},CreateElement:function(dq){return d.createElement(dq);},CreateTextNode:function(dr){return d.createTextNode(dr);},GetAttribute:function(ds,dt){return p(ds).attr(dt);},GetHtml:function(du){return p(du).html();},GetProperty:function(dv,dw){return p(dv).attr(dw);},GetText:function(dx){return dx.textContent;},GetValue:function(dy){return p(dy).val();},HasAttribute:function(dz,dA){return p(dz).attr(dA)!=null;},OnDocumentReady:function(dB){return p(d).ready(dB);},OnLoad:function(dC,dD){return p(dC).ready(dD);},Remove:function(dE){return p(dE).remove();},RemoveAttribute:function(dF,dG){return p(dF).removeAttr(dG);},RemoveClass:function(dH,dI){return p(dH).removeClass(dI);},SetAttribute:function(dJ,dK,dL){return p(dJ).attr(dK,dL);},SetCss:function(dM,dN,dO){return p(dM).css(dN,dO);},SetHtml:function(dP,dQ){return p(dP).html(dQ);},SetProperty:function(dR,dS,dT){return p(dR).prop(dS,dT);},SetStyle:function(dU,dV){return p(dU).attr("style",dV);},SetText:function(dW,dX){dW.textContent=dX;},SetValue:function(dY,dZ){return p(dY).val(dZ);}},{New:function(){return $.New(this,{});}}),Tags:$.Field(function(){return x.New(k.HtmlProvider());})},Operators:{OnAfterRender:function(d0,d1){var d2;d2=d1.Render;d1.Render=function(){d2.apply(d1);return d0(d1);};return;},OnBeforeRender:function(d4,d5){var d6;d6=d5.Render;d5.Render=function(){d4(d5);return d6.apply(d5);};return;},add:function(d8,d9){var d_;d_=n.Get(d9);while(d_.MoveNext()){d8.AppendI(d_.get_Current());}return d8;}},PageletExtensions:{"IPagelet.AppendTo":function(d$,ea){d.getElementById(ea).appendChild(d$.get_Body());return d$.Render();}},TagBuilder:$.Class({Div:function(eb){return this.NewTag("div",eb);},NewTag:function(ec,ed){var ee,ef;ee=m.New(this.HtmlProvider,ec);ef=n.Get(ed);while(ef.MoveNext()){ee.AppendI(ef.get_Current());}return ee;},text:function(eg){return $.New(y,{text:eg});}},{New:function(eh){var ei;ei=$.New(this,{});ei.HtmlProvider=eh;return ei;}}),Text:$.Class({Render:function(){return null;},get_Body:function(){return d.createTextNode(this.text);}})}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Html);c=$.Safe(b.Activator);d=$.Safe($$.document);e=$.Safe(b.Default);f=$.Safe(a.JavaScript);g=$.Safe(a.Json);h=$.Safe($$.JSON);i=$.Safe(a.Arrays);j=$.Safe(b.Attribute);k=$.Safe(b.Implementation);l=$.Safe(k.HTML5);m=$.Safe(b.Element);n=$.Safe(a.Enumerator);o=$.Safe($$.Math);p=$.Safe($$.jQuery);q=$.Safe(b.Events);r=$.Safe(q.JQueryEventSupport);s=$.Safe(b.AttributeBuilder);t=$.Safe(b.DeprecatedTagBuilder);u=$.Safe(b.Html5AttributeBuilder);v=$.Safe(k.JQueryHtmlProvider);w=$.Safe(b.Html5TagBuilder);x=$.Safe(b.TagBuilder);y=$.Safe(b.Text);z=$.Safe(e.HTML5);return A=$.Safe(b.EventsPervasives);});$.OnLoad(function(){k.Tags();k.HtmlProvider();l.Tags();l.Html5Provider();l.Attr();k.DeprecatedHtml();k.Attr();A.Events();e.Tags();z.Tags();z.Attr();e.Deprecated();e.Attr();c.Activate();return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;$.Define($$,{IntelliFactory:{WebSharper:{Testing:{Assert:{For:function(s,t,u){var v,w;for(v=0;v<=b.GetLength(t.Base)-1;v++){u(t.Base[v]);}for(w=1;w<=s;w++){u(t.Next.call(null,null));}return;},Raises:function(x){var y;try{x(null);return c.FailWith("No exception was thrown.");}catch(y){return null;}}},Pervasives:{Is:function(z,A){if(!d.Equals(z,A)){e.Log(["Equality test failed.",z,A]);return f(false,"Equality test failed.");}else{return f(true,"Pass.");}},Isnt:function(B,C){if(d.Equals(B,C)){e.Log(["Inequality test failed.",B,C]);return f(false,"Inequality test failed.");}else{return f(true,"Pass.");}},Test:function(D){return i.New(D);},TestBuilder:$.Class({Delay:function(E){return j(this.name,E);},Zero:function(){return null;}},{New:function(F){var G;G=$.New(this,{});G.name=F;return G;}})},Random:{ArrayOf:function(H){return{Base:[[]],Next:function(){return k.init(l.Natural().Next.call(null,null)%100,function(){return H.Next.call(null,null);});}};},Boolean:$.Field(function(){return{Base:[true,false],Next:function(){return l.StandardUniform().Next.call(null,null)>0.5;}};}),Const:function(L){return{Base:[L],Next:function(){return L;}};},Exponential:function(N){return{Base:[],Next:function(){return-m.log(1-l.StandardUniform().Next.call(null,null))/N;}};},Float:$.Field(function(){return{Base:[0],Next:function(){return(l.Boolean().Next.call(null,null)?1:-1)*l.Exponential(0.1).Next.call(null,null);}};}),FloatExhaustive:$.Field(function(){return{Base:[0,n,o,-o],Next:function(){return l.Float().Next.call(null,null);}};}),FloatWithin:function(R,S){return{Base:[R,S],Next:function(){return R+(S-R)*m.random();}};},Implies:function(U,V){return!U?true:V;},Imply:function(W,X){return l.Implies(W,X);},Int:$.Field(function(){return{Base:[0,1,-1],Next:function(){return m.round(l.Float().Next.call(null,null));}};}),ListOf:function(Z){return l.Map(function(_0){return p.ofArray(_0);},l.ArrayOf(Z));},Map:function(_1,_2){var _3;_3=_2.Next;return{Base:k.map(_1,_2.Base),Next:function(_4){return _1(_3(_4));}};},Mix:function(_5,_6){var _7;_7={contents:false};return{Base:_5.Base.concat(_6.Base),Next:function(){_7.contents=!_7.contents;return _7.contents?_5.Next.call(null,null):_6.Next.call(null,null);}};},Natural:$.Field(function(){var _9;_9=l.Int().Next;return{Base:[0,1],Next:function(_){return m.abs(_9(_));}};}),OneOf:function(ba){var bb;bb=l.Within(1,b.GetLength(ba));return{Base:ba,Next:function(){return ba[bb.Next.call(null,null)-1];}};},OptionOf:function(bc){return l.Mix(l.Const({$:0}),l.Map(function(bd){return{$:1,$0:bd};},bc));},StandardUniform:$.Field(function(){return{Base:[],Next:function(){return m.random();}};}),String:$.Field(function(){return{Base:[""],Next:function(){return q.fromCharCode.apply(undefined,k.init(l.Natural().Next.call(null,null)%100,function(){return l.Int().Next.call(null,null)%256;}));}};}),StringExhaustive:$.Field(function(){return{Base:[null,""],Next:l.String().Next};}),Tuple2Of:function(bh,bi){return{Base:r.toArray(r.delay(function(){return r.collect(function(bk){return r.map(function(bl){return[bk,bl];},bi.Base);},bh.Base);})),Next:function(){return[bh.Next.call(null,null),bi.Next.call(null,null)];}};},Tuple3Of:function(bn,bo,bp){return{Base:r.toArray(r.delay(function(){return r.collect(function(br){return r.collect(function(bs){return r.map(function(bt){return[br,bs,bt];},bp.Base);},bo.Base);},bn.Base);})),Next:function(){return[bn.Next.call(null,null),bo.Next.call(null,null),bp.Next.call(null,null)];}};},Within:function(bv,bw){return{Base:[bv,bw],Next:function(){return l.Natural().Next.call(null,null)%(bw-bv)+bv;}};}}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.IntrinsicFunctionProxy);c=$.Safe(a.Operators);d=$.Safe(a.Unchecked);e=$.Safe(a.JavaScript);f=$.Safe($$.ok);g=$.Safe(a.Testing);h=$.Safe(g.Pervasives);i=$.Safe(h.TestBuilder);j=$.Safe($$.test);k=$.Safe(a.Arrays);l=$.Safe(g.Random);m=$.Safe($$.Math);n=$.Safe($$.NaN);o=$.Safe($$.Infinity);p=$.Safe(a.List);q=$.Safe($$.String);return r=$.Safe(a.Seq);});$.OnLoad(function(){l.StringExhaustive();l.String();l.StandardUniform();l.Natural();l.Int();l.FloatExhaustive();l.Float();l.Boolean();return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;$.Define($$,{IntelliFactory:{WebSharper:{Control:{Disposable:{Of:function(v){return{Dispose:v};}},Event:{Event:$.Class({AddHandler:function(w){return this.Handlers.push(w);},RemoveHandler:function(x){var y;y=b.ofArray(c.choose(function(z){return z;},c.mapi(function(A){return function(B){return d.Equals(B,x)?{$:1,$0:A}:{$:0};};},this.Handlers)));return y.$==1?this.Handlers.splice(y.$0,1):null;},Subscribe:function(C){var D,G=this;D=function(E){return C.OnNext(E);};this.AddHandler(D);return f.Of(function(){return G.RemoveHandler(D);});},Trigger:function(H){var I;for(I=0;I<=g.GetLength(this.Handlers)-1;I++){this.Handlers[I].call(null,H);}return;}})},EventModule:{Choose:function(J,K){var L;L=h.New();i.addListener(K,function(M){var N;N=J(M);return N.$==0?null:L.event.Trigger(N.$0);});return L.event;},Filter:function(O,P){var Q;Q=$.New(k,{Handlers:[]});i.addListener(P,function(R){return O(R)?Q.Trigger(R):null;});return Q;},Map:function(S,T){var U;U=$.New(k,{Handlers:[]});i.addListener(T,function(V){return U.Trigger(S(V));});return U;},Merge:function(W,X){var Y;Y=$.New(k,{Handlers:[]});i.addListener(W,function(Z){return Y.Trigger(Z);});i.addListener(X,function(_0){return Y.Trigger(_0);});return Y;},Pairwise:function(_1){var _2,_3;_2={contents:{$:0}};_3=$.New(k,{Handlers:[]});i.addListener(_1,function(_4){var _5,_6;_5=_2.contents;if(_5.$==1){_6=_5.$0;_2.contents={$:1,$0:_4};return _3.Trigger([_6,_4]);}else{_2.contents={$:1,$0:_4};return;}});return _3;},Partition:function(_7,_8){return[l.Filter(_7,_8),l.Filter(function(_9){return!_7(_9);},_8)];},Scan:function(_,ba,bb){var bc;bc={contents:ba};return l.Map(function(bd){bc.contents=(_(bc.contents))(bd);return bc.contents;},bb);},Split:function(bd,be){return[l.Choose(function(bf){var bg;bg=bd(bf);return bg.$==0?{$:1,$0:bg.$0}:{$:0};},be),l.Choose(function(bh){var bi;bi=bd(bh);return bi.$==1?{$:1,$0:bi.$0}:{$:0};},be)];}},FSharpEvent:$.Class({},{New:function(){var bj;bj=$.New(this,{});bj.event=$.New(k,{Handlers:[]});return bj;}}),HotStream:{HotStream:$.Class({Subscribe:function(bk){if(this.Latest.contents.$==1){bk.OnNext(this.Latest.contents.$0);}return i.subscribeTo(this.Event.event,function(bl){return bk.OnNext(bl);});},Trigger:function(bm){this.Latest.contents={$:1,$0:bm};return this.Event.event.Trigger(bm);}},{New:function(){return $.New(n,{Latest:{contents:{$:0}},Event:h.New()});}})},Observable:{Aggregate:function(bn,bo,bp){return o.New(function(bq){var br;br={contents:bo};return i.subscribeTo(bn,function(bs){br.contents=(bp(br.contents))(bs);return bq.OnNext(br.contents);});});},Choose:function(bt,bu){return o.New(function(bv){return bu.Subscribe(p.New(function(bw){var bx;bx=bt(bw);return bx.$==0?null:bv.OnNext(bx.$0);},function(by){return bv.OnError(by);},function(){return bv.OnCompleted();}));});},CombineLatest:function(bA,bB,bC){return o.New(function(bD){var bE,bF,bG,bK,bO,bS,bT;bE={contents:{$:0}};bF={contents:{$:0}};bG=function(){var bI,bJ;bI=[bE.contents,bF.contents];if(bI[0].$==1){if(bI[1].$==1){bJ=bI[1].$0;return bD.OnNext((bC(bI[0].$0))(bJ));}else{return null;}}else{return null;}};bK=p.New(function(bL){bE.contents={$:1,$0:bL};return bG(null);},function(){},function(){});bO=p.New(function(bP){bF.contents={$:1,$0:bP};return bG(null);},function(){},function(){});bS=bA.Subscribe(bK);bT=bB.Subscribe(bO);return f.Of(function(){bS.Dispose();return bT.Dispose();});});},Concat:function(bV,bW){return o.New(function(bX){var bY,bZ;bY={contents:{$:0}};bZ=bV.Subscribe(p.New(function(b0){return bX.OnNext(b0);},function(){},function(){bY.contents={$:1,$0:bW.Subscribe(bX)};}));return f.Of(function(){if(bY.contents.$==1){bY.contents.$0.Dispose();}return bZ.Dispose();});});},Drop:function(b4,b5){return o.New(function(b6){var b7;b7={contents:0};return b5.Subscribe(p.New(function(b8){q.Increment(b7);return b7.contents>b4?b6.OnNext(b8):null;},function(b9){return b6.OnError(b9);},function(){return b6.OnCompleted();}));});},Filter:function(b$,ca){return o.New(function(cb){return ca.Subscribe(p.New(function(cc){return b$(cc)?cb.OnNext(cc):null;},function(cd){return cb.OnError(cd);},function(){return cb.OnCompleted();}));});},Map:function(cf,cg){return o.New(function(ch){return cg.Subscribe(p.New(function(ci){return ch.OnNext(cf(ci));},function(cj){return ch.OnError(cj);},function(){return ch.OnCompleted();}));});},Merge:function(cl,cm){return o.New(function(cn){var co,cp,cq,cu;co={contents:false};cp={contents:false};cq=cl.Subscribe(p.New(function(cr){return cn.OnNext(cr);},function(){},function(){co.contents=true;return(co.contents?cp.contents:false)?cn.OnCompleted():null;}));cu=cm.Subscribe(p.New(function(cv){return cn.OnNext(cv);},function(){},function(){cp.contents=true;return(co.contents?cp.contents:false)?cn.OnCompleted():null;}));return f.Of(function(){cq.Dispose();return cu.Dispose();});});},Never:function(){return o.New(function(){return f.Of(function(){});});},New:function(cB){return $.New(r,{Subscribe1:cB});},Observable:$.Class({Subscribe:function(cC){return this.Subscribe1.call(null,cC);}}),Of:function(cD){return o.New(function(cE){return f.Of(cD(function(cF){return cE.OnNext(cF);}));});},Range:function(cG,cH){return o.New(function(cI){var cJ;for(cJ=cG;cJ<=cG+cH;cJ++){cI.OnNext(cJ);}return f.Of(function(){});});},Return:function(cL){return o.New(function(cM){cM.OnNext(cL);cM.OnCompleted();return f.Of(function(){});});},SelectMany:function(cO){return o.New(function(cP){var cQ,cS;cQ={contents:function(){}};cS=i.subscribeTo(cO,function(cT){var cU;cU=i.subscribeTo(cT,function(cV){return cP.OnNext(cV);});cQ.contents=function(){cQ.contents.call(null,null);return cU.Dispose();};return;});return f.Of(function(){cQ.contents.call(null,null);return cS.Dispose();});});},Sequence:function(cY){var cZ;cZ=function(c0){return c0.$==1?o.CombineLatest(c0.$0,cZ(c0.$1),function(c1){return function(c2){return $.New(s,{$:1,$0:c1,$1:c2});};}):o.Return($.New(s,{$:0}));};return cZ(b.ofSeq(cY));},Switch:function(c3){return o.New(function(c4){var c5,c6;c5={contents:0};c6={contents:{$:0}};return i.subscribeTo(c3,function(c7){var c8;q.Increment(c5);if(c6.contents.$==1){c6.contents.$0.Dispose();}c8=c5.contents;c6.contents={$:1,$0:i.subscribeTo(c7,function(c9){return c8===c5.contents?c4.OnNext(c9):null;})};return;});});}},ObservableModule:{Pairwise:function(c_){var c$,da,de;c$=[{$:0},{$:0}];da=$.Tupled(function(db){var dc;dc=db[1];return function(dd){return[dc,{$:1,$0:dd}];};});de=(($.Tupled(function(df){return function(dg){return t.Scan(da,df,dg);};}))(c$))(c_);return o.Choose($.Tupled(function(dh){return dh[0].$==1?dh[1].$==1?{$:1,$0:[dh[0].$0,dh[1].$0]}:{$:0}:{$:0};}),de);},Partition:function(di,dj){return[o.Filter(di,dj),o.Filter(function(dk){return!di(dk);},dj)];},Scan:function(dl,dm,dn){var _do;_do={contents:dm};return o.Map(function(dp){_do.contents=(dl(_do.contents))(dp);return _do.contents;},dn);},Split:function(dq,dr){var ds;ds=function(dt){var du;du=dq(dt);return du.$==1?{$:1,$0:du.$0}:{$:0};};return[o.Choose(function(dv){var dw;dw=dq(dv);return dw.$==0?{$:1,$0:dw.$0}:{$:0};},dr),o.Choose(ds,dr)];}},Observer:{New:function(dx,dy,dz){return $.New(u,{onNext:dx,onError:dy,onCompleted:dz});},Observer:$.Class({OnCompleted:function(){return this.onCompleted.call(null,null);},OnError:function(dA){return this.onError.call(null,dA);},OnNext:function(dB){return this.onNext.call(null,dB);}}),Of:function(dC){return $.New(u,{onNext:function(dD){return dC(dD);},onError:function(dE){return q.Raise(dE);},onCompleted:function(){return null;}});}}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.List);c=$.Safe(a.Arrays);d=$.Safe(a.Unchecked);e=$.Safe(a.Control);f=$.Safe(e.Disposable);g=$.Safe(a.IntrinsicFunctionProxy);h=$.Safe(e.FSharpEvent);i=$.Safe(a.Util);j=$.Safe(e.Event);k=$.Safe(j.Event);l=$.Safe(e.EventModule);m=$.Safe(e.HotStream);n=$.Safe(m.HotStream);o=$.Safe(e.Observable);p=$.Safe(e.Observer);q=$.Safe(a.Operators);r=$.Safe(o.Observable);s=$.Safe(b.T);t=$.Safe(e.ObservableModule);return u=$.Safe(p.Observer);});$.OnLoad(function(){return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;$.Define($$,{IntelliFactory:{WebSharper:{Collections:{BalancedTree:{Add:function(D,E){return c.Put(function(){return function(G){return G;};},D,E);},Branch:function(H,I,J){return{Node:H,Left:I,Right:J,Height:1+d.Max(I==null?0:I.Height,J==null?0:J.Height),Count:1+(I==null?0:I.Count)+(J==null?0:J.Count)};},Build:function(K,L,M){var N;if(M-L+1<=0){return null;}else{N=(L+M)/2>>0;return c.Branch(K[N],c.Build(K,L,N-1),c.Build(K,N+1,M));}},Contains:function(O,P){return!((c.Lookup(O,P))[0]==null);},Enumerate:function(Q,R){var S;S=$.Tupled(function(T){var U,V;U=T[0];V=T[1];return U==null?V.$==1?{$:1,$0:[V.$0[0],[V.$0[1],V.$1]]}:{$:0}:Q?S([U.Right,$.New(g,{$:1,$0:[U.Node,U.Left],$1:V})]):S([U.Left,$.New(g,{$:1,$0:[U.Node,U.Right],$1:V})]);});return e.unfold(S,[R,$.New(g,{$:0})]);},Lookup:function(W,X){var Y,Z,_0,_1;Y=[];Z=X;_0=true;while(_0){if(Z==null){_0=false;}else{_1=d.Compare(W,Z.Node);if(_1===0){_0=false;}else{if(_1===1){Y.unshift([true,Z.Node,Z.Left]);Z=Z.Right;}else{Y.unshift([false,Z.Node,Z.Right]);Z=Z.Left;}}}}return[Z,Y];},OfSeq:function(_2){var _3;_3=h.sort(e.toArray(e.distinct(_2)));return c.Build(_3,0,_3.length-1);},Put:function(_4,_5,_6){var _7,_8,_9;_7=c.Lookup(_5,_6);_8=_7[0];_9=_7[1];return _8==null?c.Rebuild(_9,c.Branch(_5,null,null)):c.Rebuild(_9,c.Branch((_4(_8.Node))(_5),_8.Left,_8.Right));},Rebuild:function(_,ba){var bb,bd,be,bf,bg,bh,bi,bj,bk,bl,bm;bb=function(bc){return bc==null?0:bc.Height;};bd=ba;for(be=0;be<=i.GetLength(_)-1;be++){bf=_[be];if(bf[0]){bh=bf[1];bi=bf[2];if(bb(bd)>bb(bi)+1){if(bb(bd.Left)===bb(bd.Right)+1){bj=bd.Left;bg=c.Branch(bj.Node,c.Branch(bh,bi,bj.Left),c.Branch(bd.Node,bj.Right,bd.Right));}else{bg=c.Branch(bd.Node,c.Branch(bh,bi,bd.Left),bd.Right);}}else{bg=c.Branch(bh,bi,bd);}}else{bk=bf[1];bl=bf[2];if(bb(bd)>bb(bl)+1){if(bb(bd.Right)===bb(bd.Left)+1){bm=bd.Right;bg=c.Branch(bm.Node,c.Branch(bd.Node,bd.Left,bm.Left),c.Branch(bk,bm.Right,bl));}else{bg=c.Branch(bd.Node,bd.Left,c.Branch(bk,bd.Right,bl));}}else{bg=c.Branch(bk,bd,bl);}}bd=bg;}return bd;},Remove:function(bm,bn){var bo,bp,bq,br;bo=c.Lookup(bm,bn);bp=bo[0];bq=bo[1];if(bp==null){return bn;}else{if(bp.Right==null){return c.Rebuild(bq,bp.Left);}else{if(bp.Left==null){return c.Rebuild(bq,bp.Right);}else{br=e.toArray(e.append(c.Enumerate(false,bp.Left),c.Enumerate(false,bp.Right)));return c.Rebuild(bq,c.Build(br,0,br.length-1));}}}},TryFind:function(bs,bt){var bu;bu=(c.Lookup(bs,bt))[0];return bu==null?{$:0}:{$:1,$0:bu.Node};}},Dictionary:$.Class({Add:function(bv,bw){var bx;bx=this.hash.call(null,bv);if(this.data.hasOwnProperty(bx)){return d.FailWith("An item with the same key has already been added.");}else{this.data[bx]={K:bv,V:bw};this.count=this.count+1;return;}},Clear:function(){this.data={};this.count=0;return;},ContainsKey:function(by){return this.data.hasOwnProperty(this.hash.call(null,by));},GetEnumerator:function(){return j.Get(k.GetFieldValues(this.data));},Remove:function(bz){var bA;bA=this.hash.call(null,bz);if(this.data.hasOwnProperty(bA)){k.Delete(this.data,bA);this.count=this.count-1;return true;}else{return false;}},get_Item:function(bB){var bC;bC=this.hash.call(null,bB);return this.data.hasOwnProperty(bC)?this.data[bC].V:l.notPresent();},set_Item:function(bD,bE){var bF;bF=this.hash.call(null,bD);if(!this.data.hasOwnProperty(bF)){this.count=this.count+1;}this.data[bF]={K:bD,V:bE};return;}},{New:function(bG,bH){return $.New(this,m.New11(bG,function(bI){return function(bJ){return bH.Equals(bI,bJ);};},function(bK){return bH.GetHashCode(bK);}));},New1:function(bL){return $.New(this,m.New11(bL,function(bM){return function(bN){return n.Equals(bM,bN);};},function(bO){return n.Hash(bO);}));},New11:function(bP,bQ,bR){var bS,bT,bU;bS=$.New(this,{});bS.hash=bR;bS.count=0;bS.data={};bT=j.Get(bP);while(bT.MoveNext()){bU=bT.get_Current();bS.data[bS.hash.call(null,bU.K)]=bU.V;}return bS;},New12:function(bV){return $.New(this,m.New11([],function(bW){return function(bX){return bV.Equals(bW,bX);};},function(bY){return bV.GetHashCode(bY);}));},New2:function(){return $.New(this,m.New11([],function(bZ){return function(b0){return n.Equals(bZ,b0);};},function(b1){return n.Hash(b1);}));},New3:function(){return $.New(this,m.New2());},New4:function(b3,b4){return $.New(this,m.New12(b4));}}),DictionaryUtil:{notPresent:function(){return d.FailWith("The given key was not present in the dictionary.");}},FSharpMap:$.Class({Add:function(b5,b6){var b7;b7=this.tree;return o.New1(c.Add($.New(p,{Key:b5,Value:b6}),b7));},CompareTo:function(b8){return e.compareWith(function(b9){return function(b_){return d.Compare(b9,b_);};},this,b8);},ContainsKey:function(b$){var ca;ca=this.tree;return c.Contains($.New(p,{Key:b$,Value:undefined}),ca);},Equals:function(cb){return this.get_Count()===cb.get_Count()?e.forall2(function(cc){return function(cd){return n.Equals(cc,cd);};},this,cb):false;},GetEnumerator:function(){return j.Get(e.map(function(ce){return{K:ce.Key,V:ce.Value};},c.Enumerate(false,this.tree)));},GetHashCode:function(){return n.Hash(e.toArray(this));},Remove:function(cf){var cg;cg=this.tree;return o.New1(c.Remove($.New(p,{Key:cf,Value:undefined}),cg));},TryFind:function(ch){var ci;ci=this.tree;return q.map(function(cj){return cj.Value;},c.TryFind($.New(p,{Key:ch,Value:undefined}),ci));},get_Count:function(){var ck;ck=this.tree;return ck==null?0:ck.Count;},get_IsEmpty:function(){return this.tree==null;},get_Item:function(cl){var cm;cm=this.TryFind(cl);return cm.$==0?d.FailWith("The given key was not present in the dictionary."):cm.$0;},get_Tree:function(){return this.tree;}},{New:function(cn){return $.New(this,o.New1(r.fromSeq(cn)));},New1:function(co){var cp;cp=$.New(this,{});cp.tree=co;return cp;}}),FSharpSet:$.Class({Add:function(cq){return s.New1(c.Add(cq,this.tree));},CompareTo:function(cr){return e.compareWith(function(cs){return function(ct){return d.Compare(cs,ct);};},this,cr);},Contains:function(cu){return c.Contains(cu,this.tree);},Equals:function(cv){return this.get_Count()===cv.get_Count()?e.forall2(function(cw){return function(cx){return n.Equals(cw,cx);};},this,cv):false;},GetEnumerator:function(){return j.Get(c.Enumerate(false,this.tree));},GetHashCode:function(){return-1741749453+n.Hash(e.toArray(this));},IsProperSubsetOf:function(cy){return this.IsSubsetOf(cy)?this.get_Count()<cy.get_Count():false;},IsProperSupersetOf:function(cz){return this.IsSupersetOf(cz)?this.get_Count()>cz.get_Count():false;},IsSubsetOf:function(cA){return e.forall(function(cB){return cA.Contains(cB);},this);},IsSupersetOf:function(cC){var cE=this;return e.forall(function(cD){return cE.Contains(cD);},cC);},Remove:function(cF){return s.New1(c.Remove(cF,this.tree));},add:function(cG){return s.New1(c.OfSeq(e.append(this,cG)));},get_Count:function(){var cH;cH=this.tree;return cH==null?0:cH.Count;},get_IsEmpty:function(){return this.tree==null;},get_MaximumElement:function(){return e.head(c.Enumerate(true,this.tree));},get_MinimumElement:function(){return e.head(c.Enumerate(false,this.tree));},get_Tree:function(){return this.tree;},sub:function(cI){return t.Filter(function(cJ){return!cI.Contains(cJ);},this);}},{New:function(cK){return $.New(this,s.New1(u.ofSeq(cK)));},New1:function(cL){var cM;cM=$.New(this,{});cM.tree=cL;return cM;}}),HashSet:{HashSet:$.Class({Add:function(cN){return this.add(cN);},Clear:function(){this.data=[];this.count=0;return;},Contains:function(cO){var cP;cP=this.data[this.hash.call(null,cO)];return cP==null?false:this.arrContains(cO,cP);},CopyTo:function(cQ){var cR,cS,cT,cU;cR=0;cS=w.concat(this.data);for(cT=0;cT<=cS.length-1;cT++){cU=cS[cT];cQ[cR]=cU;cR=cR+1;}return;},ExceptWith:function(cV){var cW;cW=j.Get(cV);while(cW.MoveNext()){this.Remove(cW.get_Current());}return;},GetEnumerator:function(){return j.Get(w.concat(this.data));},IntersectWith:function(cX){var cY,cZ,c0,c1;cY=x.New3(cX,this.equals,this.hash);cZ=w.concat(this.data);for(c0=0;c0<=cZ.length-1;c0++){c1=cZ[c0];if(!cY.Contains(c1)){this.Remove(c1);}}return;},IsProperSubsetOf:function(c2){var c3;c3=h.ofSeq(c2);return this.count<i.GetLength(c3)?this.IsSubsetOf(c3):false;},IsProperSupersetOf:function(c4){var c5;c5=h.ofSeq(c4);return this.count>i.GetLength(c5)?this.IsSupersetOf(c5):false;},IsSubsetOf:function(c6){var c7;c7=x.New3(c6,this.equals,this.hash);return e.forall(function(c8){return c7.Contains(c8);},w.concat(this.data));},IsSupersetOf:function(c9){var c$=this;return e.forall(function(c_){return c$.Contains(c_);},c9);},Overlaps:function(da){var dc=this;return e.exists(function(db){return dc.Contains(db);},da);},Remove:function(dd){var de;de=this.data[this.hash.call(null,dd)];if(de==null){return false;}else{if(this.arrRemove(dd,de)){this.count=this.count-1;return true;}else{return false;}}},RemoveWhere:function(df){var dg,dh,di;dg=w.concat(this.data);for(dh=0;dh<=dg.length-1;dh++){di=dg[dh];if(df(di)){this.Remove(di);}}return;},SetEquals:function(dj){var dk;dk=x.New3(dj,this.equals,this.hash);return this.get_Count()===dk.get_Count()?this.IsSupersetOf(dk):false;},SymmetricExceptWith:function(dl){var dm,dn;dm=j.Get(dl);while(dm.MoveNext()){dn=dm.get_Current();if(this.Contains(dn)){this.Remove(dn);}else{this.Add(dn);}}return;},UnionWith:function(_do){var dp;dp=j.Get(_do);while(dp.MoveNext()){this.Add(dp.get_Current());}return;},add:function(dq){var dr,ds;dr=this.hash.call(null,dq);ds=this.data[dr];if(ds==null){this.data[dr]=[dq];this.count=this.count+1;return true;}else{if(this.arrContains(dq,ds)){return false;}else{ds.push(dq);this.count=this.count+1;return true;}}},arrContains:function(dt,du){var dv,dw,dx;dv=true;dw=0;dx=i.GetLength(du);while(dv?dw<dx:false){if((this.equals.call(null,du[dw]))(dt)){dv=false;}else{dw=dw+1;}}return!dv;},arrRemove:function(dy,dz){var dA,dB,dC;dA=true;dB=0;dC=i.GetLength(dz);while(dA?dB<dC:false){if((this.equals.call(null,dz[dB]))(dy)){y.splice(dz,dB,1,[]);dA=false;}else{dB=dB+1;}}return!dA;},get_Count:function(){return this.count;}},{New:function(dD){return $.New(this,x.New3(e.empty(),function(dE){return function(dF){return dD.Equals(dE,dF);};},function(dG){return dD.GetHashCode(dG);}));},New1:function(dH,dI){return $.New(this,x.New3(dH,function(dJ){return function(dK){return dI.Equals(dJ,dK);};},function(dL){return dI.GetHashCode(dL);}));},New11:function(dM){return $.New(this,x.New3(dM,function(dN){return function(dO){return n.Equals(dN,dO);};},function(dP){return n.Hash(dP);}));},New2:function(){return $.New(this,x.New3(e.empty(),function(dQ){return function(dR){return n.Equals(dQ,dR);};},function(dS){return n.Hash(dS);}));},New3:function(dT,dU,dV){var dW,dX;dW=$.New(this,{});dW.equals=dU;dW.hash=dV;dW.data=[];dW.count=0;dX=j.Get(dT);while(dX.MoveNext()){dW.add(dX.get_Current());}return dW;}}),HashSetUtil:{concat:function($o){var $0=this,$this=this;var r=[];for(var k in $o){r.push.apply(r,$o[k]);};return r;}}},LinkedList:{EnumeratorProxy:$.Class({Dispose:function(){return null;},MoveNext:function(){this.c=this.c.n;return!n.Equals(this.c,null);},get_Current:function(){return this.c.v;}},{New:function(dY){var dZ;dZ=$.New(this,{});dZ.c=dY;return dZ;}}),ListProxy:$.Class({AddAfter:function(d0,d1){var d2,d3;d2=d0.n;d3={p:d0,n:d2,v:d1};if(n.Equals(d0.n,null)){this.p=d3;}d0.n=d3;if(!n.Equals(d2,null)){d2.p=d3;}this.c=this.c+1;return d3;},AddBefore:function(d4,d5){var d6,d7;d6=d4.p;d7={p:d6,n:d4,v:d5};if(n.Equals(d4.p,null)){this.n=d7;}d4.p=d7;if(!n.Equals(d6,null)){d6.n=d7;}this.c=this.c+1;return d7;},AddFirst:function(d8){var d9;if(this.c===0){d9={p:null,n:null,v:d8};this.n=d9;this.p=this.n;this.c=1;return d9;}else{return this.AddBefore(this.n,d8);}},AddLast:function(d_){var d$;if(this.c===0){d$={p:null,n:null,v:d_};this.n=d$;this.p=this.n;this.c=1;return d$;}else{return this.AddAfter(this.p,d_);}},Clear:function(){this.c=0;this.n=null;this.p=null;return;},Contains:function(ea){var eb,ec;eb=false;ec=this.n;while(!n.Equals(ec,null)?!eb:false){if(ec.v==ea){eb=true;}else{ec=ec.n;}}return eb;},Find:function(ed){var ee,ef;ee=this.n;ef=true;while(ef?!n.Equals(ee,null):false){if(ee.v==ed){ef=false;}else{ee=ee.n;}}return ef?null:ee;},FindLast:function(eg){var eh,ei;eh=this.p;ei=true;while(ei?!n.Equals(eh,null):false){if(eh.v==eg){ei=false;}else{eh=eh.p;}}return ei?null:eh;},GetEnumerator:function(){return A.New(this);},Remove:function(ej){var ek,el;ek=ej.p;el=ej.n;if(n.Equals(ek,null)){this.n=el;}else{ek.n=el;}if(n.Equals(el,null)){this.p=ek;}else{el.p=ek;}this.c=this.c-1;return;},Remove1:function(em){var en;en=this.Find(em);if(n.Equals(en,null)){return false;}else{this.Remove(en);return true;}},RemoveFirst:function(){return this.Remove(this.n);},RemoveLast:function(){return this.Remove(this.p);},get_Count:function(){return this.c;},get_First:function(){return this.n;},get_Last:function(){return this.p;}},{New:function(){return $.New(this,B.New1(e.empty()));},New1:function(eo){var ep,eq,er;ep=$.New(this,{});ep.c=0;ep.n=null;ep.p=null;eq=j.Get(eo);if(eq.MoveNext()){ep.n={p:null,n:null,v:eq.get_Current()};ep.p=ep.n;ep.c=1;}while(eq.MoveNext()){er={p:ep.p,n:null,v:eq.get_Current()};ep.p.n=er;ep.p=er;ep.c=ep.c+1;}return ep;}})},MapModule:{Exists:function(es,et){return e.exists(function(eu){return(es(eu.K))(eu.V);},et);},Filter:function(ev,ew){var ex;ex=e.toArray(e.filter(function(ey){return(ev(ey.Key))(ey.Value);},c.Enumerate(false,ew.get_Tree())));return o.New1(c.Build(ex,0,ex.length-1));},FindKey:function(ez,eA){return e.pick(function(eB){return(ez(eB.K))(eB.V)?{$:1,$0:eB.K}:{$:0};},eA);},Fold:function(eC,eD,eE){return e.fold(function(eF){return function(eG){return((eC(eF))(eG.Key))(eG.Value);};},eD,c.Enumerate(false,eE.get_Tree()));},FoldBack:function(eH,eI,eJ){return e.fold(function(eK){return function(eL){return((eH(eL.Key))(eL.Value))(eK);};},eJ,c.Enumerate(true,eI.get_Tree()));},ForAll:function(eM,eN){return e.forall(function(eO){return(eM(eO.K))(eO.V);},eN);},Iterate:function(eP,eQ){return e.iter(function(eR){return(eP(eR.K))(eR.V);},eQ);},Map:function(eS,eT){return o.New1(c.OfSeq(e.map(function(eU){return $.New(p,{Key:eU.Key,Value:(eS(eU.Key))(eU.Value)});},c.Enumerate(false,eT.get_Tree()))));},OfArray:function(eV){return o.New1(c.OfSeq(e.map($.Tupled(function(eW){return $.New(p,{Key:eW[0],Value:eW[1]});}),eV)));},Partition:function(eX,eY){var eZ,e1,e2;eZ=h.partition(function(e0){return(eX(e0.Key))(e0.Value);},e.toArray(c.Enumerate(false,eY.get_Tree())));e1=eZ[1];e2=eZ[0];return[o.New1(c.Build(e2,0,e2.length-1)),o.New1(c.Build(e1,0,e1.length-1))];},Pick:function(e3,e4){return e.pick(function(e5){return(e3(e5.K))(e5.V);},e4);},ToSeq:function(e6){return e.map(function(e7){return[e7.Key,e7.Value];},c.Enumerate(false,e6.get_Tree()));},TryFind:function(e8,e9){return e9.TryFind(e8);},TryFindKey:function(e_,e$){return e.tryPick(function(fa){return(e_(fa.K))(fa.V)?{$:1,$0:fa.K}:{$:0};},e$);},TryPick:function(fb,fc){return e.tryPick(function(fd){return(fb(fd.K))(fd.V);},fc);}},MapUtil:{fromSeq:function(fe){var ff;ff=e.toArray(e.delay(function(){return e.collect($.Tupled(function(fh){return[$.New(p,{Key:fh[0],Value:fh[1]})];}),e.distinctBy($.Tupled(function(fi){return fi[0];}),fe));}));h.sortInPlace(ff);return c.Build(ff,0,ff.length-1);}},Pair:$.Class({CompareTo:function(fj){return d.Compare(this.Key,fj.Key);},Equals:function(fk){return n.Equals(this.Key,fk.Key);},GetHashCode:function(){return n.Hash(this.Key);}}),ResizeArray:{ResizeArrayProxy:$.Class({Add:function(fl){return this.arr.push(fl);},AddRange:function(fm){var fo=this;return e.iter(function(fn){return fo.Add(fn);},fm);},Clear:function(){y.splice(this.arr,0,i.GetLength(this.arr),[]);},CopyTo:function(fp){return this.CopyTo1(fp,0);},CopyTo1:function(fq,fr){return this.CopyTo2(0,fq,fr,this.get_Count());},CopyTo2:function(fs,ft,fu,fv){return h.blit(this.arr,fs,ft,fu,fv);},GetEnumerator:function(){return j.Get(this.arr);},GetRange:function(fw,fx){return C.New(h.sub(this.arr,fw,fx));},Insert:function(fy,fz){y.splice(this.arr,fy,0,[fz]);},InsertRange:function(fA,fB){y.splice(this.arr,fA,0,e.toArray(fB));},RemoveAt:function(fC){y.splice(this.arr,fC,1,[]);},RemoveRange:function(fD,fE){y.splice(this.arr,fD,fE,[]);},Reverse:function(){return this.arr.reverse();},Reverse1:function(fF,fG){return h.reverse(this.arr,fF,fG);},ToArray:function(){return this.arr.slice();},get_Count:function(){return i.GetLength(this.arr);},get_Item:function(fH){return this.arr[fH];},set_Item:function(fI,fJ){this.arr[fI]=fJ;}},{New:function(fK){var fL;fL=$.New(this,{});fL.arr=fK;return fL;},New1:function(){return $.New(this,C.New([]));},New11:function(fM){return $.New(this,C.New(e.toArray(fM)));},New2:function(){return $.New(this,C.New([]));}}),splice:function($arr,$index,$howMany,$items){var $0=this,$this=this;return $$.Array.prototype.splice.apply($arr,[$index,$howMany].concat($items));}},SetModule:{Filter:function(fO,fP){var fQ;fQ=e.toArray(e.filter(fO,fP));return s.New1(c.Build(fQ,0,fQ.length-1));},FoldBack:function(fR,fS,fT){return e.fold(function(fU){return function(fV){return(fR(fV))(fU);};},fT,c.Enumerate(true,fS.get_Tree()));},Partition:function(fW,fX){var fY,fZ;fY=h.partition(fW,e.toArray(fX));fZ=fY[1];return[s.New1(c.OfSeq(fY[0])),s.New1(c.OfSeq(fZ))];}},SetUtil:{ofSeq:function(f0){var f1;f1=e.toArray(f0);h.sortInPlace(f1);return c.Build(f1,0,f1.length-1);}}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Collections);c=$.Safe(b.BalancedTree);d=$.Safe(a.Operators);e=$.Safe(a.Seq);f=$.Safe(a.List);g=$.Safe(f.T);h=$.Safe(a.Arrays);i=$.Safe(a.IntrinsicFunctionProxy);j=$.Safe(a.Enumerator);k=$.Safe(a.JavaScript);l=$.Safe(b.DictionaryUtil);m=$.Safe(b.Dictionary);n=$.Safe(a.Unchecked);o=$.Safe(b.FSharpMap);p=$.Safe(b.Pair);q=$.Safe(a.Option);r=$.Safe(b.MapUtil);s=$.Safe(b.FSharpSet);t=$.Safe(b.SetModule);u=$.Safe(b.SetUtil);v=$.Safe(b.HashSet);w=$.Safe(v.HashSetUtil);x=$.Safe(v.HashSet);y=$.Safe(b.ResizeArray);z=$.Safe(b.LinkedList);A=$.Safe(z.EnumeratorProxy);B=$.Safe(z.ListProxy);return C=$.Safe(y.ResizeArrayProxy);});$.OnLoad(function(){return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;$.Define($$,{IntelliFactory:{Reactive:{Disposable:$.Class({Dispose:function(){return this.Dispose1.call(null,null);}},{New:function(r){return $.New(b,{Dispose1:r});}}),HotStream:$.Class({Subscribe:function(s){if(this.Latest.contents.$==1){s.OnNext(this.Latest.contents.$0);}return this.Event.event.Subscribe(s);},Trigger:function(t){this.Latest.contents={$:1,$0:t};return this.Event.event.Trigger(t);}},{New:function(u){return $.New(c,{Latest:{contents:{$:1,$0:u}},Event:f.New()});},New1:function(){return $.New(c,{Latest:{contents:{$:0}},Event:f.New()});}}),Observable:$.Class({Subscribe:function(v){return this.OnSubscribe.call(null,v);},SubscribeWith:function(w,x){return this.OnSubscribe.call(null,g.New(w,x));}},{New:function(y){return $.New(h,{OnSubscribe:y});}}),Observer:$.Class({OnCompleted:function(){return this.OnCompleted1.call(null,null);},OnError:function(){return null;},OnNext:function(A){return this.OnNext1.call(null,A);}},{New:function(B,C){return $.New(g,{OnNext1:B,OnCompleted1:C});}}),Reactive:{Aggregate:function(D,E,F){return h.New(function(G){var H;H={contents:E};return i.subscribeTo(D,function(I){H.contents=(F(H.contents))(I);return G.OnNext(H.contents);});});},Choose:function(J,K){return h.New(function(L){return i.subscribeTo(J,function(M){var N;N=K(M);return N.$==0?null:L.OnNext(N.$0);});});},CollectLatest:function(O){return h.New(function(P){var Q,R;Q=k.New2();R={contents:0};return i.subscribeTo(O,function(S){var T;l.Increment(R);T=R.contents;i.subscribeTo(S,function(U){Q.set_Item(T,U);return P.OnNext(m.delay(function(){return m.map(function(W){return W.V;},Q);}));});return;});});},CombineLatest:function(X,Y,Z){return h.New(function(_0){var _1,_2,_3,_7,_,bb,bc;_1={contents:{$:0}};_2={contents:{$:0}};_3=function(){var _5,_6;_5=[_1.contents,_2.contents];if(_5[0].$==1){if(_5[1].$==1){_6=_5[1].$0;return _0.OnNext((Z(_5[0].$0))(_6));}else{return null;}}else{return null;}};_7=g.New(function(_8){_1.contents={$:1,$0:_8};return _3(null);},function(){});_=g.New(function(ba){_2.contents={$:1,$0:ba};return _3(null);},function(){});bb=X.Subscribe(_7);bc=Y.Subscribe(_);return b.New(function(){bb.Dispose();return bc.Dispose();});});},Concat:function(be,bf){return h.New(function(bg){var bh,bi;bh={contents:{$:0}};bi=be.Subscribe(g.New(function(bj){return bg.OnNext(bj);},function(){bh.contents={$:1,$0:bf.Subscribe(bg)};}));return b.New(function(){if(bh.contents.$==1){bh.contents.$0.Dispose();}return bi.Dispose();});});},Default:$.Field(function(){return o.New();}),Drop:function(bm,bn){return h.New(function(bo){var bp;bp={contents:0};return i.subscribeTo(bm,function(bq){l.Increment(bp);return bp.contents>bn?bo.OnNext(bq):null;});});},Heat:function(br){var bs;bs=c.New1();i.subscribeTo(br,function(bt){return bs.Trigger(bt);});return bs;},Merge:function(bu,bv){return h.New(function(bw){var bx,by,bz,bC;bx={contents:false};by={contents:false};bz=bu.Subscribe(g.New(function(bA){return bw.OnNext(bA);},function(){bx.contents=true;return(bx.contents?by.contents:false)?bw.OnCompleted():null;}));bC=bv.Subscribe(g.New(function(bD){return bw.OnNext(bD);},function(){by.contents=true;return(bx.contents?by.contents:false)?bw.OnCompleted():null;}));return b.New(function(){bz.Dispose();return bC.Dispose();});});},Never:function(){return h.New(function(){return b.New(function(){});});},Range:function(bI,bJ){return h.New(function(bK){var bL;for(bL=bI;bL<=bI+bJ;bL++){bK.OnNext(bL);}return b.New(function(){});});},Reactive:$.Class({Aggregate:function(bN,bO,bP){return n.Aggregate(bN,bO,bP);},Choose:function(bQ,bR){return n.Choose(bQ,bR);},CollectLatest:function(bS){return n.CollectLatest(bS);},CombineLatest:function(bT,bU,bV){return n.CombineLatest(bT,bU,bV);},Concat:function(bW,bX){return n.Concat(bW,bX);},Drop:function(bY,bZ){return n.Drop(bY,bZ);},Heat:function(b0){return n.Heat(b0);},Merge:function(b1,b2){return n.Merge(b1,b2);},Never:function(){return n.Never();},Return:function(b3){return n.Return(b3);},Select:function(b4,b5){return n.Select(b4,b5);},SelectMany:function(b6){return n.SelectMany(b6);},Sequence:function(b7){return n.Sequence(b7);},Switch:function(b8){return n.Switch(b8);},Where:function(b9,b_){return n.Where(b9,b_);}},{New:function(){return $.New(this,{});}}),Return:function(b$){return h.New(function(ca){ca.OnNext(b$);ca.OnCompleted();return b.New(function(){});});},Select:function(cc,cd){return h.New(function(ce){return i.subscribeTo(cc,function(cf){return ce.OnNext(cd(cf));});});},SelectMany:function(cg){return h.New(function(ch){var ci,ck;ci={contents:function(){}};ck=i.subscribeTo(cg,function(cl){var cm;cm=i.subscribeTo(cl,function(cn){return ch.OnNext(cn);});ci.contents=function(){ci.contents.call(null,null);return cm.Dispose();};return;});return b.New(function(){ci.contents.call(null,null);return ck.Dispose();});});},Sequence:function(cq){var cr;cr=function(cs){return cs.$==1?n.CombineLatest(cs.$0,cr(cs.$1),function(ct){return function(cu){return $.New(q,{$:1,$0:ct,$1:cu});};}):n.Return($.New(q,{$:0}));};return n.Select(cr(p.ofSeq(cq)),function(cv){return cv;});},Switch:function(cw){return h.New(function(cx){var cy,cz;cy={contents:0};cz={contents:{$:0}};return i.subscribeTo(cw,function(cA){var cB;l.Increment(cy);if(cz.contents.$==1){cz.contents.$0.Dispose();}cB=cy.contents;cz.contents={$:1,$0:i.subscribeTo(cA,function(cC){return cB===cy.contents?cx.OnNext(cC):null;})};return;});});},Where:function(cD,cE){return h.New(function(cF){return i.subscribeTo(cD,function(cG){return cE(cG)?cF.OnNext(cG):null;});});}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.Reactive);b=$.Safe(a.Disposable);c=$.Safe(a.HotStream);d=$.Safe($$.IntelliFactory.WebSharper);e=$.Safe(d.Control);f=$.Safe(e.FSharpEvent);g=$.Safe(a.Observer);h=$.Safe(a.Observable);i=$.Safe(d.Util);j=$.Safe(d.Collections);k=$.Safe(j.Dictionary);l=$.Safe(d.Operators);m=$.Safe(d.Seq);n=$.Safe(a.Reactive);o=$.Safe(n.Reactive);p=$.Safe(d.List);return q=$.Safe(p.T);});$.OnLoad(function(){n.Default();return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;$.Define($$,{IntelliFactory:{Formlet:{Base:{D:$.Class({Dispose:function(){return null;}},{New:function(){return $.New(this,{});}}),Form:$.Class({Dispose:function(){return this.Dispose1.call(null,null);}}),Formlet:$.Class({Build:function(){return this.Build1.call(null,null);},MapResult:function(q){var t=this;return $.New(c,{Layout:this.Layout,Build1:function(){var s;s=t.Build1.call(null,null);t.Utils.Reactive.Select(s.State,function(u){return q(u);});return $.New(d,{Body:s.Body,Dispose1:s.Dispose1,Notify:s.Notify,State:s.State});},Utils:t.Utils});},get_Layout:function(){return this.Layout;}}),FormletBuilder:$.Class({Bind:function(v,w){return this.F.Bind(v,w);},Delay:function(x){return this.F.Delay(x);},Return:function(y){return this.F.Return(y);},ReturnFrom:function(z){return z;}},{New:function(A){var B;B=$.New(this,{});B.F=A;return B;}}),FormletProvider:$.Class({AppendLayout:function(C,D){return this.WithLayout(C,this.ApplyLayout(D));},Apply:function(E,F){var I=this;return this.New(function(){var H,J,K,L;H=I.BuildForm(E);J=I.BuildForm(F);K=I.U.Reactive;L=H.Body;return $.New(d,{Body:I.U.Reactive.Merge(K.Select(L,function(M){return $.New(f,{$:1,$0:M});}),I.U.Reactive.Select(J.Body,function(N){return $.New(f,{$:2,$0:N});})),Dispose1:function(){J.Dispose1.call(null,null);return H.Dispose1.call(null,null);},Notify:function(P){J.Notify.call(null,P);return H.Notify.call(null,P);},State:I.U.Reactive.CombineLatest(J.State,H.State,function(Q){return function(R){return g.Apply(R,Q);};})});});},ApplyLayout:function(S){var W=this;return this.New(function(){var U,V;U=S.Build();V=S.get_Layout().Apply.call(null,U.Body);return $.New(d,{Body:V.$==0?U.Body:W.U.Reactive.Return(e.Set(V.$0[0])),Dispose1:U.Dispose1,Notify:U.Notify,State:U.State});});},Bind:function(X,Y){return this.Join(this.Map(Y,X));},BindWith:function(Z,_0,_1){var _4=this;return this.New(function(){var _3,_5,_6,_7,_9,_,ba,bc,bd,be,bf;_3=_4.Bind(_0,_1);_5=_3.Build();_6=_4.U.Reactive;_7=_6.Where(_5.Body,function(_8){return _8.$==1?true:false;});_9=_4.U.DefaultLayout.Apply.call(null,_7);_=_4.U.Reactive;ba=_.Where(_5.Body,function(bb){return bb.$==2?true:false;});bc=_4.U.DefaultLayout.Apply.call(null,ba);bd=[_9,bc];if(bd[0].$==1){if(bd[1].$==1){bf=bd[1].$0[0];be=_4.U.Reactive.Return(e.Set((Z(bd[0].$0[0]))(bf)));}else{be=_4.U.Reactive.Never();}}else{be=_4.U.Reactive.Never();}return $.New(d,{Body:be,Dispose1:_5.Dispose1,Notify:_5.Notify,State:_5.State});});},BuildForm:function(bf){var bg,bh,bi;bg=bf.Build();bh=bf.get_Layout().Apply.call(null,bg.Body);if(bh.$==1){bi=bh.$0[1];return $.New(d,{Body:this.U.Reactive.Return(e.Set(bh.$0[0])),Dispose1:function(){bg.Dispose1.call(null,null);return bi.Dispose();},Notify:bg.Notify,State:bg.State});}else{return bg;}},Delay:function(bk){var bl,bn=this;bl=function(){return bn.BuildForm(bk(null));};return $.New(c,{Layout:bn.L.Delay(function(){return bk(null).get_Layout();}),Build1:bl,Utils:bn.U});},Deletable:function(bp){var br=this;return this.Replace(bp,function(bq){return bq.$==1?br.Return({$:1,$0:bq.$0}):br.ReturnEmpty({$:0});});},Empty:function(){var bt=this;return this.New(function(){return $.New(d,{Body:bt.U.Reactive.Return(e.Delete()),Dispose1:function(){},Notify:function(){},State:bt.U.Reactive.Never()});});},EmptyForm:function(){return $.New(d,{Body:this.U.Reactive.Never(),Dispose1:function(){},Notify:function(){},State:this.U.Reactive.Never()});},Fail:function(by){return $.New(d,{Body:this.U.Reactive.Never(),Dispose1:function(bz){return bz;},Notify:function(){},State:this.U.Reactive.Return($.New(g,{$:1,$0:by}))});},FailWith:function(bB){var bD=this;return this.New(function(){return bD.Fail(bB);});},FlipBody:function(bE){var bF,bI=this;bF=this.New(function(){var bH;bH=bE.Build();return $.New(d,{Body:bI.U.Reactive.Select(bH.Body,function(bJ){return e.FlipEdit(bJ);}),Dispose1:bH.Dispose1,Notify:bH.Notify,State:bH.State});});return bI.WithLayout(bE.get_Layout(),bF);},FromState:function(bK){var bM=this;return this.New(function(){return $.New(d,{Body:bM.U.Reactive.Never(),Dispose1:function(){},Notify:function(){},State:bK});});},InitWith:function(bP,bQ){var bR,bV=this;bR=this.New(function(){var bT,bU;bT=bQ.Build();bU=bT.State;return $.New(d,{Body:bT.Body,Dispose1:bT.Dispose1,Notify:bT.Notify,State:bV.U.Reactive.Concat(bV.U.Reactive.Return($.New(g,{$:0,$0:bP})),bU)});});return bV.WithLayout(bQ.get_Layout(),bR);},InitWithFailure:function(bW){var bX,b1=this;bX=this.New(function(){var bZ,b0;bZ=bW.Build();b0=bZ.State;return $.New(d,{Body:bZ.Body,Dispose1:bZ.Dispose1,Notify:bZ.Notify,State:b1.U.Reactive.Concat(b1.U.Reactive.Return($.New(g,{$:1,$0:$.New(j,{$:0})})),b0)});});return b1.WithLayout(bW.get_Layout(),bX);},Join:function(b2){var b5=this;return this.New(function(){var b4,b6,b7,b9,b_,b$,ca,cc;b4=b5.BuildForm(b2);b6=b5.U.Reactive;b7=b6.Select(b4.State,function(b8){return b8.$==1?b5.Fail(b8.$0):b5.BuildForm(b8.$0);});b9=b5.U.Reactive;b_=b9.Heat(b7);b$=b5.U.Reactive;ca=function(cb){return $.New(f,{$:2,$0:cb});};cc=b5.U.Reactive.Select(b5.U.Reactive.Switch(b$.Select(b_,function(cd){var ce;ce=cd.Body;return b5.U.Reactive.Concat(b5.U.Reactive.Return(e.Delete()),ce);})),ca);return $.New(d,{Body:b5.U.Reactive.Merge(b5.U.Reactive.Select(b4.Body,function(cf){return $.New(f,{$:1,$0:cf});}),cc),Dispose1:function(){return b4.Dispose1.call(null,null);},Notify:function(ch){return b4.Notify.call(null,ch);},State:b5.U.Reactive.Switch(b5.U.Reactive.Select(b_,function(ci){return ci.State;}))});});},LiftResult:function(cj){return this.MapResult(function(ck){return $.New(g,{$:0,$0:ck});},cj);},Map:function(cl,cm){return this.MapResult(function(cn){return g.Map(cl,cn);},cm);},MapBody:function(co,cp){var ct=this;return this.WithLayout({Apply:function(cq){var cr,cs,cu,cv;cr=cp.get_Layout().Apply.call(null,cq);if(cr.$==0){cs=ct.U.DefaultLayout.Apply.call(null,cq);if(cs.$==0){return{$:0};}else{cu=cs.$0[1];return{$:1,$0:[co(cs.$0[0]),cu]};}}else{cv=cr.$0[1];return{$:1,$0:[co(cr.$0[0]),cv]};}}},cp);},MapResult:function(cw,cx){var cy,cB=this;cy=function(){var cA;cA=cx.Build();return $.New(d,{Body:cA.Body,Dispose1:cA.Dispose1,Notify:cA.Notify,State:cB.U.Reactive.Select(cA.State,function(cC){return cw(cC);})});};return $.New(c,{Layout:cx.get_Layout(),Build1:cy,Utils:cB.U});},Never:function(){var cE=this;return this.New(function(){return $.New(d,{Body:cE.U.Reactive.Never(),Dispose1:function(){},Notify:function(){},State:cE.U.Reactive.Never()});});},New:function(cH){return $.New(c,{Layout:this.L.Default(),Build1:cH,Utils:this.U});},Replace:function(cI,cJ){return this.Switch(this.Map(function(cK){return cJ(cK);},cI));},ReplaceFirstWithFailure:function(cL){var cM,cQ=this;cM=this.New(function(){var cO,cP;cO=cL.Build();cP=cQ.U.Reactive.Drop(cO.State,1);return $.New(d,{Body:cO.Body,Dispose1:cO.Dispose1,Notify:cO.Notify,State:cQ.U.Reactive.Concat(cQ.U.Reactive.Return($.New(g,{$:1,$0:$.New(j,{$:0})})),cP)});});return cQ.WithLayout(cL.get_Layout(),cM);},Return:function(cR){var cT=this;return this.New(function(){return $.New(d,{Body:cT.U.Reactive.Never(),Dispose1:function(cU){return cU;},Notify:function(){},State:cT.U.Reactive.Return($.New(g,{$:0,$0:cR}))});});},ReturnEmpty:function(cW){var cY=this;return this.New(function(){return $.New(d,{Body:cY.U.Reactive.Return(e.Delete()),Dispose1:function(cZ){return cZ;},Notify:function(){},State:cY.U.Reactive.Return($.New(g,{$:0,$0:cW}))});});},SelectMany:function(c1){var c4=this;return this.New(function(){var c3,c5,c6,c8,c9,c_,c$,da,dc,de;c3=c4.BuildForm(c1);c5=c4.U.Reactive;c6=c5.Choose(c3.State,function(c7){return c7.$==1?{$:0}:{$:1,$0:c4.BuildForm(c7.$0)};});c8=c4.U.Reactive;c9=c8.Heat(c6);c_=c4.U.Reactive;c$=c3.Body;da=c_.Select(c$,function(db){return $.New(f,{$:1,$0:db});});dc={contents:function(dd){return $.New(f,{$:1,$0:dd});}};de=function(df){return g.Sequence(df);};return $.New(d,{Body:c4.U.Reactive.Merge(da,c4.U.Reactive.SelectMany(c4.U.Reactive.Select(c9,function(dg){var dh;dh=dc.contents;dc.contents=function(di){return $.New(f,{$:2,$0:dh(di)});};return c4.U.Reactive.Select(dg.Body,dc.contents);}))),Dispose1:function(){return c3.Dispose1.call(null,null);},Notify:function(dk){return c3.Notify.call(null,dk);},State:c4.U.Reactive.Select(c4.U.Reactive.CollectLatest(c4.U.Reactive.Select(c9,function(dl){return dl.State;})),de)});});},Sequence:function(dm){var dn,_do,dp,dq,dt;dn=i.ofSeq(dm);if(dn.$==1){_do=dn.$1;dp=dn.$0;dq=this.Return(function(dr){return function(ds){return $.New(j,{$:1,$0:dr,$1:ds});};});dt=this.Sequence(_do);return this.Apply(this.Apply(dq,dp),dt);}else{return this.Return($.New(j,{$:0}));}},Switch:function(du){var dx=this;return this.New(function(){var dw,dy,dz,dA,dB,dD,dE;dw=dx.WithLayoutOrDefault(du);dy=dx.ApplyLayout(dw);dz=dx.BuildForm(dy);dA=dx.U.Reactive;dB=dA.Choose(dz.State,function(dC){return dC.$==1?{$:0}:{$:1,$0:dx.BuildForm(dC.$0)};});dD=dx.U.Reactive;dE=dD.Heat(dB);return $.New(d,{Body:dx.U.Reactive.Concat(dz.Body,dx.U.Reactive.Switch(dx.U.Reactive.Select(dE,function(dF){return dF.Body;}))),Dispose1:function(){return dz.Dispose1.call(null,null);},Notify:function(dH){return dz.Notify.call(null,dH);},State:dx.U.Reactive.Switch(dx.U.Reactive.Select(dE,function(dI){return dI.State;}))});});},WithCancelation:function(dJ,dK){var dL,dP,dQ;dL=this.Return(function(dM){return function(dN){var dO;dO=[dM,dN];return dO[1].$==0?$.New(g,{$:0,$0:{$:0}}):dO[0].$==1?$.New(g,{$:1,$0:dO[0].$0}):$.New(g,{$:0,$0:{$:1,$0:dO[0].$0}});};});dP=this.LiftResult(dJ);dQ=this.LiftResult(dK);return this.MapResult(function(dR){return g.Join(dR);},this.Apply(this.Apply(dL,dP),dQ));},WithLayout:function(dS,dT){return $.New(c,{Layout:dS,Build1:function(){return dT.Build();},Utils:this.U});},WithLayoutOrDefault:function(dV){return this.MapBody(function(dW){return dW;},dV);},WithNotification:function(dX,dY){var dZ,d2=this;dZ=this.New(function(){var d1;d1=d2.BuildForm(dY);return $.New(d,{Body:d1.Body,Dispose1:d1.Dispose1,Notify:function(d3){d1.Notify.call(null,d3);return dX(d3);},State:d1.State});});return d2.WithLayout(dY.get_Layout(),dZ);},WithNotificationChannel:function(d4){var d5,d_=this;d5=this.New(function(){var d7,d8;d7=d4.Build();d8=function(d9){return[d9,d7.Notify];};return $.New(d,{Body:d7.Body,Dispose1:d7.Dispose1,Notify:d7.Notify,State:d_.U.Reactive.Select(d7.State,function(d$){return g.Map(d8,d$);})});});return d_.WithLayout(d4.get_Layout(),d5);}},{New:function(ea){var eb;eb=$.New(this,{});eb.U=ea;eb.L=k.New({Reactive:eb.U.Reactive});return eb;}}),LayoutUtils:$.Class({Default:function(){return{Apply:function(){return{$:0};}};},Delay:function(ed){return{Apply:function(ee){return ed(null).Apply.call(null,ee);}};},New:function(ef){return{Apply:function(eg){var eh,ei;eh=ef(null);ei={contents:$.New(l,{$:0})};return{$:1,$0:[eh.Body,m.subscribeTo(eg,function(ej){var ek,el;ek=e.ReplacedTree(ej,ei.contents);ei.contents=e.Apply(ej,ei.contents);el=(e.Range(ej,ei.contents))[0];eh.Remove.call(null,ek.get_Sequence());return n.iteri(function(em){return function(en){return(eh.Insert.call(null,el+em))(en);};},ej);})]};}};}},{New:function(){return $.New(this,{});}}),Result:$.Class({},{Apply:function(ep,eq){var er;er=[ep,eq];return er[0].$==1?er[1].$==1?$.New(g,{$:1,$0:i.append(er[0].$0,er[1].$0)}):$.New(g,{$:1,$0:er[0].$0}):er[1].$==1?$.New(g,{$:1,$0:er[1].$0}):$.New(g,{$:0,$0:er[0].$0.call(null,er[1].$0)});},Join:function(es){return es.$==1?$.New(g,{$:1,$0:es.$0}):es.$0;},Map:function(et,eu){return eu.$==1?$.New(g,{$:1,$0:eu.$0}):$.New(g,{$:0,$0:et(eu.$0)});},OfOption:function(ev){return ev.$==0?$.New(g,{$:1,$0:$.New(j,{$:0})}):$.New(g,{$:0,$0:ev.$0});},Sequence:function(ew){return n.fold(function(ex){return function(ey){var ez,eA;if(ex.$==1){ez=ex.$0;return ey.$==1?$.New(g,{$:1,$0:i.append(ez,ey.$0)}):$.New(g,{$:1,$0:ez});}else{eA=ex.$0;return ey.$==1?$.New(g,{$:1,$0:ey.$0}):$.New(g,{$:0,$0:i.append(eA,i.ofArray([ey.$0]))});}};},$.New(g,{$:0,$0:$.New(j,{$:0})}),ew);}}),Tree:{Apply:function(eB,eC){var eD;eD=function(eE,eF){var eG,eH,eI;if(eE.$==1){eG=eE.$0;if(eF.$==2){eH=eF.$1;return $.New(l,{$:2,$0:eD(eG,eF.$0),$1:eH});}else{return eD($.New(f,{$:1,$0:eG}),$.New(l,{$:2,$0:$.New(l,{$:0}),$1:eF}));}}else{if(eE.$==2){eI=eE.$0;return eF.$==2?$.New(l,{$:2,$0:eF.$0,$1:eD(eI,eF.$1)}):eD($.New(f,{$:2,$0:eI}),$.New(l,{$:2,$0:eF,$1:$.New(l,{$:0})}));}else{return eE.$0;}}};return eD(eB,eC);},Count:function(eJ){var eK,eL,eM,eN,eO,eP,eQ,eR,eS;eK=[];eL=$.New(j,{$:0});eK[3]=eJ;eK[2]=eL;eK[1]=0;eK[0]=1;while(eK[0]){if(eK[3].$==2){eM=eK[3].$0;eN=$.New(j,{$:1,$0:eK[3].$1,$1:eK[2]});eO=eK[1];eK[3]=eM;eK[2]=eN;eK[1]=eO;eK[0]=1;}else{eP=eK[3];eQ=eP.$==0?0:1;if(eK[2].$==1){eR=eK[2].$1;eS=eK[1]+eQ;eK[3]=eK[2].$0;eK[2]=eR;eK[1]=eS;eK[0]=1;}else{eK[0]=0;eK[1]=eK[1]+eQ;}}}return eK[1];},DeepFlipEdit:function(eT){return eT.$==1?$.New(f,{$:2,$0:e.DeepFlipEdit(eT.$0)}):eT.$==2?$.New(f,{$:1,$0:e.DeepFlipEdit(eT.$0)}):$.New(f,{$:0,$0:eT.$0});},Delete:function(){return $.New(f,{$:0,$0:$.New(l,{$:0})});},Edit:$.Class({GetEnumerator:function(){return o.Get(this.get_Sequence());},GetEnumerator1:function(){return o.Get(this.get_Sequence());},get_Sequence:function(){return this.$==1?this.$0.get_Sequence():this.$==2?this.$0.get_Sequence():this.$0.get_Sequence();}}),FlipEdit:function(eU){return eU.$==1?$.New(f,{$:2,$0:eU.$0}):eU.$==2?$.New(f,{$:1,$0:eU.$0}):$.New(f,{$:0,$0:eU.$0});},FromSequence:function(eV){return n.fold(function(eW){return function(eX){return $.New(l,{$:2,$0:eW,$1:$.New(l,{$:1,$0:eX})});};},$.New(l,{$:0}),eV);},Range:function(eY,eZ){var e0,e1,e2,e3,e4,e5,e6,e7,e8;e0=[];e0[3]=0;e0[2]=eZ;e0[1]=eY;e0[0]=1;while(e0[0]){if(e0[1].$==1){e1=e0[1].$0;if(e0[2].$==2){e2=e0[2].$0;e0[3]=e0[3];e0[2]=e2;e0[1]=e1;e0[0]=1;}else{e3=e0[3];e4=$.New(l,{$:0});e0[3]=e3;e0[2]=e4;e0[1]=e1;e0[0]=1;}}else{if(e0[1].$==2){e5=e0[1].$0;if(e0[2].$==2){e6=e0[2].$1;e0[3]=e0[3]+e.Count(e0[2].$0);e0[2]=e6;e0[1]=e5;e0[0]=1;}else{e7=e0[3]+e.Count(e0[2]);e8=$.New(l,{$:0});e0[3]=e7;e0[2]=e8;e0[1]=e5;e0[0]=1;}}else{e0[0]=0;e0[1]=[e0[3],e.Count(e0[2])];}}}return e0[1];},ReplacedTree:function(e9,e_){var e$,fa;if(e9.$==1){e$=e9.$0;return e_.$==2?e.ReplacedTree(e$,e_.$0):e.ReplacedTree($.New(f,{$:1,$0:e$}),$.New(l,{$:2,$0:$.New(l,{$:0}),$1:e_}));}else{if(e9.$==2){fa=e9.$0;return e_.$==2?e.ReplacedTree(fa,e_.$1):e.ReplacedTree($.New(f,{$:2,$0:fa}),$.New(l,{$:2,$0:e_,$1:$.New(l,{$:0})}));}else{return e_;}}},Set:function(fb){return $.New(f,{$:0,$0:$.New(l,{$:1,$0:fb})});},ShowEdit:function(fc){var fd;fd=function(fe){return fe.$==1?"Left > "+fd(fe.$0):fe.$==2?"Right > "+fd(fe.$0):"Replace";};return fd(fc);},Transform:function(ff,fg){return fg.$==1?$.New(f,{$:1,$0:e.Transform(ff,fg.$0)}):fg.$==2?$.New(f,{$:2,$0:e.Transform(ff,fg.$0)}):$.New(f,{$:0,$0:ff(fg.$0)});},Tree:$.Class({GetEnumerator:function(){return o.Get(this.get_Sequence());},GetEnumerator1:function(){return o.Get(this.get_Sequence());},Map:function(fh){var fi;if(this.$==1){return $.New(l,{$:1,$0:fh(this.$0)});}else{if(this.$==2){fi=this.$1;return $.New(l,{$:2,$0:this.$0.Map(fh),$1:fi.Map(fh)});}else{return $.New(l,{$:0});}}},get_Sequence:function(){var fj;if(this.$==1){return[this.$0];}else{if(this.$==2){fj=this.$1;return n.append(this.$0.get_Sequence(),fj.get_Sequence());}else{return n.empty();}}}})},Validator:$.Class({Is:function(fk,fl,fm){return this.Validate(fk,fl,fm);},IsEmail:function(fn){var fp=this;return function(fo){return fp.IsRegexMatch("^[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?\\.)+[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?$",fn,fo);};},IsEqual:function(fq,fr,fs){return this.Validate(function(ft){return p.Equals(ft,fq);},fr,fs);},IsFloat:function(fu){var fw=this;return function(fv){return fw.IsRegexMatch("^\\s*(\\+|-)?((\\d+(\\.\\d+)?)|(\\.\\d+))\\s*$",fu,fv);};},IsGreaterThan:function(fx,fy,fz){return this.Validate(function(fA){return p.Compare(fA,fx)===1;},fy,fz);},IsInt:function(fB){var fD=this;return function(fC){return fD.IsRegexMatch("^-?\\d+$",fB,fC);};},IsLessThan:function(fE,fF,fG){return this.Validate(function(fH){return p.Compare(fH,fE)===-1;},fF,fG);},IsNotEmpty:function(fI,fJ){return this.Validate(function(fK){return fK!=="";},fI,fJ);},IsNotEqual:function(fL,fM,fN){return this.Validate(function(fO){return!p.Equals(fO,fL);},fM,fN);},IsRegexMatch:function(fP,fQ,fR){var fT=this;return this.Validate(function(fS){return fT.VP.Matches(fP,fS);},fQ,fR);},IsTrue:function(fU,fV){return this.Validate(function(fW){return fW;},fU,fV);},Validate:function(fX,fY,fZ){return fZ.MapResult(function(f0){var f1;if(f0.$==1){return $.New(g,{$:1,$0:f0.$0});}else{f1=f0.$0;return fX(f1)?$.New(g,{$:0,$0:f1}):$.New(g,{$:1,$0:i.ofArray([fY])});}});}},{New:function(f2){var f3;f3=$.New(this,{});f3.VP=f2;return f3;}})}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.Formlet);b=$.Safe(a.Base);c=$.Safe(b.Formlet);d=$.Safe(b.Form);e=$.Safe(b.Tree);f=$.Safe(e.Edit);g=$.Safe(b.Result);h=$.Safe($$.IntelliFactory.WebSharper);i=$.Safe(h.List);j=$.Safe(i.T);k=$.Safe(b.LayoutUtils);l=$.Safe(e.Tree);m=$.Safe(h.Util);n=$.Safe(h.Seq);o=$.Safe(h.Enumerator);return p=$.Safe(h.Unchecked);});$.OnLoad(function(){return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0;$.Define($$,{IntelliFactory:{WebSharper:{Formlet:{Body:$.Class({},{New:function(_1,_2){return $.New(c,{Element:_1,Label:_2});}}),Controls:{Button:function(_3){return d.ElementButton(function(){return f.Button(g.ofArray([f.Text(_3)]));});},Checkbox:function(_5){return d.CheckboxControl(false,_5);},CheckboxControl:function(_6,_7){return h.MkFormlet(function(){var _9,_,ba,bb,be,bf;_9=j.New($.New(m,{$:0,$0:_7}));_=_6?g.ofArray([f.Attr().NewAttr("disabled","disabled")]):$.New(n,{$:0});ba=o.add(f.Input(g.ofArray([f.Attr().NewAttr("type","checkbox"),f.Attr().Class("inputCheckbox")])),_);bb=function(bc){return function(){return!_6?_9.Trigger($.New(m,{$:0,$0:p(bc.Body).prop("checked")})):null;};};q.Events().OnClick(bb,ba);be=ba;if(_7){be["HtmlProvider@32"].SetAttribute(be.Body,"defaultChecked","true");}else{be["HtmlProvider@32"].RemoveAttribute(be.Body,"checked");}bf=function(){if(_7){be["HtmlProvider@32"].SetProperty(be.Body,"checked",true);}else{be["HtmlProvider@32"].RemoveAttribute(be.Body,"checked");be["HtmlProvider@32"].SetProperty(be.Body,"checked",false);}return _9.Trigger($.New(m,{$:0,$0:_7}));};bf(null);return[be,bf,_9];});},CheckboxGroup:function(bg){return d.CheckboxGroupControl(false,bg);},CheckboxGroupControl:function(bh,bi){var bj,br;bj=r.Sequence(g.map($.Tupled(function(bk){var bl,bm,bn;bl=bk[0];bm=bk[1];bn=d.CheckboxControl(bh,bk[2]);return r.Map(function(bo){return[bo,bm];},r.WithLabel({$:1,$0:function(){var bq;bq=g.ofArray([f.Text(bl)]);return f.Tags().NewTag("label",bq);}},bn));}),bi));br=$.Tupled(function(bs){var bt;bt=bs[1];return bs[0]?{$:1,$0:bt}:{$:0};});return r.Map(function(bu){return g.choose(br,bu);},bj);},ElementButton:function(bv){return h.MkFormlet(function(){var bx,by,bz,bA;bx=j.New($.New(m,{$:1,$0:$.New(n,{$:0})}));by={contents:0};bz=bv(null);bA=function(){return function(){bx.Trigger($.New(m,{$:0,$0:by.contents}));return s.Increment(by);};};q.Events().OnClick(bA,bz);return[bz,function(){by.contents=0;return bx.Trigger($.New(m,{$:1,$0:$.New(n,{$:0})}));},bx];});},Input:function(bE){return d.InputField(false,"text",t.InputTextClass(),bE);},InputControl:function(bF,bG){return h.MkFormlet(function(){var bI,bJ;bI=j.New($.New(m,{$:0,$0:bF}));bJ=bG(bI);bJ.set_Value(bF);return[bJ,function(){bJ.set_Value(bF);return bI.Trigger($.New(m,{$:0,$0:bF}));},bI];});},InputField:function(bL,bM,bN,bO){return d.InputControl(bO,function(bP){var bQ,bR;bQ=bL?g.ofArray([f.Attr().NewAttr("readonly","readonly")]):$.New(n,{$:0});bR=f.Input(g.append(g.ofArray([f.Attr().NewAttr("type",bM),f.Attr().Class(bN)]),bQ));d.OnTextChange(function(){return!bL?bP.Trigger($.New(m,{$:0,$0:bR.get_Value()})):null;},bR);return bR;});},OnTextChange:function(bT,bU){var bV,bW,bY,b0;bV={contents:bU.get_Value()};bW=function(){if(bU.get_Value()!==bV.contents){bV.contents=bU.get_Value();return bT(null);}else{return null;}};bY=function(){return bW(null);};q.Events().OnChange(bY,bU);b0=function(){return function(){return bW(null);};};q.Events().OnKeyUp(b0,bU);bU.Body.oninput=bW;return;},Password:function(b3){return d.InputField(false,"password","inputPassword",b3);},RadioButtonGroup:function(b4,b5){return d.RadioButtonGroupControl(false,b4,b5);},RadioButtonGroupControl:function(b6,b7,b8){return r.New(function(){var b_,b$,ca,cg,ch,cj,cn,co,cs;b_="id"+u.round(u.random()*100000000);if(b7.$==0){b$={$:0};}else{ca=g.mapi(function(cb){return $.Tupled(function(cc){return[cb,cc[1]];});},b8);b$=v.tryPick($.Tupled(function(cd){var ce,cf;ce=cd[0];cf=cd[1];return b7.$==0?{$:0}:b7.$0===ce?{$:1,$0:$.New(m,{$:0,$0:cf})}:{$:0};}),ca);}cg=j.New($.New(m,{$:1,$0:$.New(n,{$:0})}));ch=w.Maybe(cg,function(ci){return j.New(ci);},b$);cj=$.Tupled(function(ck){var cl,cm;cl=ck[0];cm=ck[1];return[o.add(f.Input(g.ofArray([f.Attr().Class("inputRadio"),f.Attr().NewAttr("type","radio"),f.Attr().NewAttr("name",b_)])),b6?g.ofArray([f.Attr().NewAttr("disabled","disabled")]):$.New(n,{$:0})),cl,cm];});cn=g.map(cj,b8);co=function(cp,cq,cr){if(b7.$==0){cp["HtmlProvider@32"].RemoveAttribute(cp.Body,"checked");return ch.Trigger($.New(m,{$:1,$0:$.New(n,{$:0})}));}else{if(b7.$0===cr){cp["HtmlProvider@32"].SetProperty(cp.Body,"checked",true);return ch.Trigger($.New(m,{$:0,$0:cq}));}else{return cp["HtmlProvider@32"].SetProperty(cp.Body,"checked",false);}}};cs=$.New(y,{$:0,$0:x.FromSequence(g.mapi(function(ct){return $.Tupled(function(cu){var cv,cw,cx,cy;cv=cu[0];cw=cu[1];cx=cu[2];co(cv,cx,ct);cy=function(){return function(){return!b6?ch.Trigger($.New(m,{$:0,$0:cx})):null;};};q.Events().OnClick(cy,cv);return $.New(c,{Element:cv,Label:{$:1,$0:function(){var cC;cC=g.ofArray([f.Text(cw)]);return f.Tags().NewTag("label",cC);}}});});},cn))});return $.New(z,{Body:h.RX().Return(cs),Dispose1:function(){},Notify:function(){return v.iteri(function(cF){return $.Tupled(function(cG){return co(cG[0],cG[2],cF);});},cn);},State:ch});});},ReadOnlyCheckbox:function(cH){return d.CheckboxControl(true,cH);},ReadOnlyInput:function(cI){return d.InputField(true,"text",t.InputTextClass(),cI);},ReadOnlyRadioButtonGroup:function(cJ,cK){return d.RadioButtonGroupControl(true,cJ,cK);},ReadOnlySelect:function(cL,cM){return d.SelectControl(true,cL,cM);},ReadOnlyTextArea:function(cN){return d.TextAreaControl(true,cN);},Select:function(cO,cP){return d.SelectControl(false,cO,cP);},SelectControl:function(cQ,cR,cS){return h.MkFormlet(function(){var cU,cW,cX,cY,cZ,c3,c4,c5,c6,c7,c9;cU=$.Tupled(function(cV){return cV[1];});cW=g.map(cU,cS);cX=A.ofSeq(cW);cY=(cR>=0?cR<cS.get_Length():false)?cR:0;cZ=g.mapi(function(c0){return $.Tupled(function(c1){var c2;c2=c1[0];return f.Tags().NewTag("option",g.ofArray([f.Text(c2),f.Attr().NewAttr("value",$$.String(c0))]));});},cS);c3=f.Select(cZ);c4=cQ?o.add(c3,g.ofArray([f.Attr().NewAttr("disabled","disabled")])):c3;c5=$.New(m,{$:0,$0:cX[cY]});c6=j.New(c5);c7=function(){c4["HtmlProvider@32"].SetProperty(c4.Body,"value",$$.String(cY));return c6.Trigger(c5);};c7(null);c9=function(){return!cQ?c6.Trigger($.New(m,{$:0,$0:cX[c4.get_Value()<<0]})):null;};q.Events().OnChange(c9,c4);c7(null);return[c4,c7,c6];});},TextArea:function(c$){return d.TextAreaControl(false,c$);},TextAreaControl:function(da,db){return d.InputControl(db,function(dc){var dd;dd=f.TextArea(da?g.ofArray([f.Attr().NewAttr("readonly","readonly")]):$.New(n,{$:0}));d.OnTextChange(function(){return!da?dc.Trigger($.New(m,{$:0,$0:dd.get_Value()})):null;},dd);return dd;});}},CssConstants:{InputTextClass:$.Field(function(){return"inputText";})},Data:{$:function(df,dg){return h.OfIFormlet(h.BaseFormlet().Apply(df,dg));},BaseFormlet:function(){return B.New(h.UtilsProvider());},DefaultLayout:$.Field(function(){return h.Layout().get_Vertical();}),Formlet:$.Class({Build:function(){return this.BuildInternal.call(null,null);},MapResult:function(dh){var dk=this;return $.New(C,{BuildInternal:function(){var dj;dj=dk.BuildInternal.call(null,null);return $.New(z,{Body:dj.Body,Dispose1:dj.Dispose1,Notify:dj.Notify,State:dk.Utils.Reactive.Select(dj.State,function(dl){return dh(dl);})});},LayoutInternal:dk.LayoutInternal,ElementInternal:{$:0},FormletBase:dk.FormletBase,Utils:dk.Utils});},Render:function(){return this.Run(function(){}).Render();},Run:function(dn){var _do,dp,dq,ds,dt;_do=this.ElementInternal;if(_do.$==0){dp=this.FormletBase.ApplyLayout(this);dq=dp.Build();D.subscribeTo(dq.State,function(dr){m.Map(dn,dr);});ds=dp.get_Layout().Apply.call(null,dq.Body);dt=ds.$==0?h.DefaultLayout().Apply.call(null,dq.Body).$0[0].Element:ds.$0[0].Element;this.ElementInternal={$:1,$0:dt};return dt;}else{return _do.$0;}},get_Body:function(){return this.Run(function(){}).get_Body();},get_Layout:function(){return this.LayoutInternal;}}),Layout:$.Field(function(){return E.New(F.New({Reactive:G.Default()}));}),MkFormlet:function(dv){var dw;dw=function(){var dy,dz,dA,dB,dD;dy=dv(null);dz=dy[2];dA=dy[1];dB=function(){return dA(null);};dD=x.Set(h.NewBody(dy[0],{$:0}));return $.New(z,{Body:h.RX().Return(dD),Dispose1:function(){return null;},Notify:dB,State:dz});};return h.OfIFormlet(h.BaseFormlet().New(dw));},NewBody:function(dF,dG){return c.New(dF,dG);},OfIFormlet:function(dH){return h.PropagateRenderFrom(dH,$.New(C,{BuildInternal:function(){return dH.Build();},LayoutInternal:dH.get_Layout(),ElementInternal:{$:0},FormletBase:h.BaseFormlet(),Utils:h.UtilsProvider()}));},PropagateRenderFrom:function(dJ,dK){if(dJ.hasOwnProperty("Render")){dK.Render=dJ.Render;}return dK;},RX:$.Field(function(){return G.Default();}),UtilsProvider:function(){return{Reactive:h.RX(),DefaultLayout:h.DefaultLayout()};},Validator:$.Field(function(){return H.New(I.New());}),ValidatorProvidor:$.Class({Matches:function(dL,dM){return dM.match(new J(dL));}},{New:function(){return $.New(this,{});}})},ElementStore:$.Class({Init:function(){this.store=L.New2();return;},RegisterElement:function(dN,dO){return!this.store.ContainsKey(dN)?this.store.set_Item(dN,dO):null;},Remove:function(dP){if(this.store.ContainsKey(dP)){(this.store.get_Item(dP))(null);this.store.Remove(dP);return;}else{return null;}}},{New:function(){return $.New(this,{});},NewElementStore:function(){var dQ;dQ=M.New();dQ.Init();return dQ;}}),Enhance:{Cancel:function(dR,dS){return r.Replace(dR,function(dT){return dS(dT)?r.Empty():r.Return(dT);});},CustomMany:function(dU,dV){var dW,dY,dZ,d1,d3,d4,d5,d6,d7,d8,d9,d$;dW=d.ElementButton(function(){return o.add(f.Div(g.ofArray([f.Attr().Class(dU.AddIconClass)])),g.ofArray([f.Div($.New(n,{$:0}))]));});dY=r.InitWith(1,dW);dZ=function(){};d1=d.ElementButton(function(){return o.add(f.Div(g.ofArray([f.Attr().Class(dU.RemoveIconClass)])),g.ofArray([f.Div($.New(n,{$:0}))]));});d3=r.Map(dZ,d1);d4=r.WithCancelation(dV,d3);d5=r.WithLayout(h.Layout().get_Horizontal(),d4);d6=N.Deletable(d5);d7=j.New($.New(m,{$:0,$0:null}));d8=h.OfIFormlet(h.BaseFormlet().FromState(d7));d9=function(){return d7.Trigger($.New(m,{$:0,$0:null}));};d$=r.Do();return r.WithNotification(d9,d$.Delay(function(){return d$.Bind(d8,function(){return d$.ReturnFrom(r.ApplyLayout(r.WithLayoutOrDefault(r.Map(function(ec){return g.ofSeq(ec);},N.Many_(dY,function(){return d6;})))));});}));},Deletable:function(ee){return N.Replace(ee,function(ef){return ef.$==1?r.Return({$:1,$0:ef.$0}):r.ReturnEmpty({$:0});});},FormButtonConfiguration:$.Class({},{get_Default:function(){return $.New(O,{Label:{$:0},Style:{$:0},Class:{$:0}});}}),FormContainerConfiguration:$.Class({},{get_Default:function(){var eg;eg={$:0};return $.New(P,{Header:{$:0},Padding:Q.get_Default(),Description:eg,BackgroundColor:{$:0},BorderColor:{$:0},CssClass:{$:0},Style:{$:0}});}}),InputButton:function(eh,ei){return h.MkFormlet(function(){var ek,el,em,eo,ep,es,et,eu,ev,ew;ek=j.New($.New(m,{$:1,$0:$.New(n,{$:0})}));el={contents:0};em=w.Maybe("Submit",function(en){return en;},eh.Label);eo=o.add(f.Input(g.ofArray([f.Attr().NewAttr("type","button")])),g.ofArray([f.Attr().Class("submitButton"),f.Attr().NewAttr("value",em)]));ep=function(){return function(){s.Increment(el);return ek.Trigger($.New(m,{$:0,$0:el.contents}));};};q.Events().OnClick(ep,eo);es=eo;if(!ei){es["HtmlProvider@32"].AddClass(es.Body,"disabledButton");}eu=eh.Style;if(eu.$==1){es["HtmlProvider@32"].SetStyle(es.Body,eu.$0);}ev=eh.Class;if(ev.$==1){es["HtmlProvider@32"].AddClass(es.Body,ev.$0);}et=es;ew=function(){el.contents=0;return ek.Trigger($.New(m,{$:1,$0:$.New(n,{$:0})}));};ek.Trigger($.New(m,{$:1,$0:$.New(n,{$:0})}));return[et,ew,ek];});},Many:function(ey){return N.CustomMany(R.get_Default(),ey);},ManyConfiguration:$.Class({},{get_Default:function(){return $.New(R,{AddIconClass:"addIcon",RemoveIconClass:"removeIcon"});}}),Many_:function(ez,eA){var eB;eB=function(eC){return eC;};return r.Map(function(eD){return v.choose(eB,eD);},r.FlipBody(r.SelectMany(r.Map(function(eE){return eA(eE);},ez))));},Padding:$.Class({},{get_Default:function(){return $.New(Q,{Left:{$:0},Right:{$:0},Top:{$:0},Bottom:{$:0}});}}),Replace:function(eF,eG){return r.Switch(r.MapResult(function(eH){return eH.$==1?$.New(m,{$:0,$0:r.FailWith(eH.$0)}):$.New(m,{$:0,$0:eG(eH.$0)});},eF));},ValidationFrameConfiguration:$.Class({},{get_Default:function(){return $.New(S,{ValidClass:{$:1,$0:"successFormlet"},ValidStyle:{$:0},ErrorClass:{$:1,$0:"errorFormlet"},ErrorStyle:{$:0}});}}),ValidationIconConfiguration:$.Class({},{get_Default:function(){return $.New(T,{ValidIconClass:"validIcon",ErrorIconClass:"errorIcon"});}}),WithCssClass:function(eI,eJ){return r.MapElement(function(eK){eK["HtmlProvider@32"].AddClass(eK.Body,eI);return eK;},eJ);},WithCustomFormContainer:function(eL,eM){var eN;eN=r.ApplyLayout(eM);return r.MapElement(function(eO){var eP,eQ,eR,eU,eV,eW,e0,e2,e$,fa;eP=eL.Description;eQ=$.New(n,{$:0});eR=w.Maybe(eQ,function(eS){var eT;if(eS.$==1){return g.ofArray([eS.$0.call(null,null)]);}else{eT=eS.$0;return g.ofArray([f.P(g.ofArray([f.Tags().text(eT)]))]);}},eP);eU=eL.Header;eV=w.InTable(g.ofArray([g.ofArray([o.add(f.Div(g.ofArray([f.Attr().Class("headerPanel")])),eR)]),g.ofArray([eO])]));eW=w.Maybe(eV,function(eX){var eY,eZ;if(eX.$==1){eY=eX.$0.call(null,null);}else{eZ=eX.$0;eY=f.H1(g.ofArray([f.Tags().text(eZ)]));}return w.InTable(g.ofArray([g.ofArray([o.add(f.Div(g.ofArray([f.Attr().Class("headerPanel")])),$.New(n,{$:1,$0:eY,$1:eR}))]),g.ofArray([eO])]));},eU);e0=o.add(f.TD(g.ofArray([f.Attr().Class("formlet")])),g.ofArray([eW]));w.Maybe(null,function(e1){return e0["HtmlProvider@32"].SetStyle(e0.Body,"border-color: "+e1);},eL.BorderColor);e2=g.ofArray([["background-color",w.MapOption(function(e3){return e3;},eL.BackgroundColor)],["padding-left",w.MapOption(function(e4){return $$.String(e4)+"px";},eL.Padding.Left)],["padding-right",w.MapOption(function(e5){return $$.String(e5)+"px";},eL.Padding.Right)],["padding-top",w.MapOption(function(e6){return $$.String(e6)+"px";},eL.Padding.Top)],["padding-bottom",w.MapOption(function(e7){return $$.String(e7)+"px";},eL.Padding.Bottom)]]);v.iter($.Tupled(function(e8){var e9,e_;e9=e8[0];e_=e8[1];return e_.$==0?null:e0["HtmlProvider@32"].SetCss(e0.Body,e9,e_.$0);}),e2);e$=eL.Style;if(e$.$==0){}else{e0["HtmlProvider@32"].SetStyle(e0.Body,e$.$0);}fa=eL.CssClass;if(fa.$==0){}else{e0["HtmlProvider@32"].AddClass(e0.Body,fa.$0);}return f.Table(g.ofArray([f.TBody(g.ofArray([f.TR(g.ofArray([e0]))]))]));},eN);},WithCustomResetButton:function(fb,fc){return N.WithResetFormlet(fc,N.InputButton(fb.Label.$==0?$.New(O,{Label:{$:1,$0:"Reset"},Style:fb.Style,Class:fb.Class}):fb,true));},WithCustomSubmitAndResetButtons:function(fd,fe,ff){return N.WithSubmitAndReset(ff,function(fg){return function(fh){var fi,fj,fl,fn,fo,fr;if(fh.$==1){fj=fh.$0;fi=r.MapResult(function(){return $.New(m,{$:1,$0:fj});},N.InputButton(fd,false));}else{fl=fh.$0;fi=r.Map(function(){return fl;},N.InputButton(fd,true));}fn=r.Do();fo=fn.Delay(function(){return fn.Bind(r.LiftResult(N.InputButton(fe,true)),function(fq){if(fq.$==0){fg(null);}return fn.Return(null);});});fr=h.$(h.$(r.Return(function(fs){return function(){return fs;};}),fi),fo);return r.WithLayout(h.Layout().get_Horizontal(),fr);};});},WithCustomSubmitButton:function(fu,fv){var fw;fw=fu.Label.$==0?$.New(O,{Label:{$:1,$0:"Submit"},Style:fu.Style,Class:fu.Class}):fu;return N.WithSubmitFormlet(fv,function(fx){return r.Map(function(){},N.InputButton(fw,fx.$==0?true:false));});},WithCustomValidationFrame:function(fz,fA){return N.WrapFormlet(function(fB){return function(fC){var fD;fD=f.Div(g.ofArray([fC.Element]));o.OnAfterRender(function(fE){D.subscribeTo(fB,function(fF){var fG,fH,fI,fJ,fK,fL,fM;if(fF.$==1){fG=fF.$0;fH=fz.ValidClass;if(fH.$==1){fE["HtmlProvider@32"].RemoveClass(fE.Body,fH.$0);}fI=fz.ErrorClass;if(fI.$==1){fE["HtmlProvider@32"].AddClass(fE.Body,fI.$0);}fJ=fz.ErrorStyle;return fJ.$==1?fE["HtmlProvider@32"].SetStyle(fE.Body,fJ.$0):fE["HtmlProvider@32"].SetStyle(fE.Body,"");}else{fK=fz.ErrorClass;if(fK.$==1){fE["HtmlProvider@32"].RemoveClass(fE.Body,fK.$0);}fL=fz.ValidClass;if(fL.$==1){fE["HtmlProvider@32"].AddClass(fE.Body,fL.$0);}fM=fz.ValidStyle;return fM.$==1?fE["HtmlProvider@32"].SetStyle(fE.Body,fM.$0):fE["HtmlProvider@32"].SetStyle(fE.Body,"");}});},fD);return fD;};},fA);},WithCustomValidationIcon:function(fN,fO){var fP,fQ,fR;fP=r.WithLayoutOrDefault(fO);fQ=r.Do();fR=r.MapResult(function(fS){return m.Join(fS);},fQ.Delay(function(){return fQ.Bind(r.LiftResult(fP),function(fU){return fQ.Bind(r.OfElement(function(){var fW;if(fU.$==1){fW=v.fold(function(fX){return function(fY){return fX+" "+fY;};},"",fU.$0);return o.add(f.Div(g.ofArray([f.Attr().Class(fN.ErrorIconClass),f.Attr().NewAttr("title",fW)])),g.ofArray([f.Div($.New(n,{$:0}))]));}else{return o.add(f.Div(g.ofArray([f.Attr().Class(fN.ValidIconClass),f.Attr().NewAttr("title","")])),g.ofArray([f.Div($.New(n,{$:0}))]));}}),function(){return fQ.Return(fU);});});}));return r.WithLayout(h.Layout().get_Horizontal(),fR);},WithErrorFormlet:function(f0,f1){var f2;f2=r.Do();return r.MapResult(function(f3){return m.Join(f3);},f2.Delay(function(){return f2.Bind(r.LiftResult(f1),function(f5){var f6,f7,f8;if(f5.$==1){f7=f5.$0;f8=r.Do();f6=f8.Delay(function(){return f8.Bind(f0(f7),function(){return f8.Return(f5);});});}else{f6=r.Return(f5);}return f2.ReturnFrom(f6);});}));},WithErrorSummary:function(f$,ga){var gb;gb=r.Do();return r.MapResult(function(gc){return m.Join(gc);},gb.Delay(function(){return gb.Bind(r.LiftResult(ga),function(ge){var gf,gg;if(ge.$==1){gg=ge.$0;gf=r.Map(function(){return ge;},r.OfElement(function(){var gj,gk;gk=g.ofArray([f.Text(f$)]);gj=g.ofArray([f.Tags().NewTag("legend",gk),f.UL(g.map(function(gl){return f.LI(g.ofArray([f.Text(gl)]));},gg))]);return f.Tags().NewTag("fieldset",gj);}));}else{gf=r.Return(ge);}return gb.ReturnFrom(gf);});}));},WithFormContainer:function(gm){return N.WithCustomFormContainer(P.get_Default(),gm);},WithJsonPost:function(gn,go){var gp,gq,gr,gs,gt,gu,gv,gw,gx,gy,gz,gA,gB,gC,gD;gp=gn.PostUrl;if(gp.$==0){gq=$.New(n,{$:0});}else{gr=gp.$0;gq=g.ofArray([f.Attr().NewAttr("action",gr)]);}gs=gn.EncodingType;if(gs.$==0){gt=$.New(n,{$:0});}else{gu=gs.$0;gt=g.ofArray([f.Attr().NewAttr("enctype",gu)]);}gv=f.Tags();gx=gn.ParameterName;gw=g.ofArray([f.Attr().NewAttr("type","hidden"),f.Attr().NewAttr("name",gx)]);gy=gv.NewTag("input",gw);gz=f.Tags();gA=g.ofArray([f.Attr().NewAttr("type","submit"),f.Attr().NewAttr("value","Submit")]);gB=gz.NewTag("input",gA);gC=o.add(f.Form(g.append($.New(n,{$:1,$0:f.Attr().NewAttr("method","POST"),$1:$.New(n,{$:1,$0:f.Attr().NewAttr("style","display:none"),$1:gq})}),gt)),g.ofArray([gy,gB]));gD=function(gE){var gF;gF=U.stringify(gE);p(gy.Body).val(gF);return p(gB.Body).click();};o.OnAfterRender(function(gG){var gH;gH=gn.EncodingType;return gH.$==0?null:gH.$0==="multipart/form-data"?void p(gG.Body).attr("encoding","multipart/form-data"):null;},gC);return f.Div(g.ofArray([gC,r.Map(gD,go)]));},WithLabel:function(gI,gJ){return r.WithLabel({$:1,$0:gI},gJ);},WithLabelAbove:function(gK){return r.MapBody(function(gL){var gM;gM=gL.Label;return $.New(c,{Element:f.Table(g.ofArray([f.TBody(g.ofArray([f.TR(g.ofArray([f.TD(g.ofArray([gM.$==0?f.Span($.New(n,{$:0})):gM.$0.call(null,null)]))])),f.TR(g.ofArray([f.TD(g.ofArray([gL.Element]))]))]))])),Label:{$:0}});},gK);},WithLabelAndInfo:function(gN,gO,gP){return N.WithLabel(function(){var gR;gR=g.ofArray([f.Text(gN)]);return w.InTable(g.ofArray([g.ofArray([f.Tags().NewTag("label",gR),f.Span(g.ofArray([f.Attr().NewAttr("title",gO),f.Attr().Class("infoIcon")]))])]));},gP);},WithLabelConfiguration:function(gS,gT){var gU;gU=r.ApplyLayout(gT);return r.WithLayout(h.Layout().LabelLayout(gS),gU);},WithLabelLeft:function(gV){return r.MapBody(function(gW){var gX,gY;gX=gW.Label;gY=gX.$==0?f.Span($.New(n,{$:0})):gX.$0.call(null,null);return $.New(c,{Element:f.Table(g.ofArray([f.TBody(g.ofArray([f.TR(g.ofArray([f.TD(g.ofArray([gW.Element])),f.TD(g.ofArray([gY]))]))]))])),Label:{$:0}});},gV);},WithLegend:function(gZ,g0){return r.MapBody(function(g1){var g2,g3,g4;g3=g.ofArray([f.Tags().text(gZ)]);g4=g1.Label;g2=g.ofArray([f.Tags().NewTag("legend",g3),g4.$==0?g1.Element:w.InTable(g.ofArray([g.ofArray([g4.$0.call(null,null),g1.Element])]))]);return $.New(c,{Element:f.Tags().NewTag("fieldset",g2),Label:{$:0}});},g0);},WithResetAction:function(g5,g6){var g7;g7=r.New(function(){var g9;g9=g6.Build();return $.New(z,{Body:g9.Body,Dispose1:g9.Dispose1,Notify:function(g_){return g5(null)?g9.Notify.call(null,g_):null;},State:g9.State});});return h.OfIFormlet(h.PropagateRenderFrom(g6,r.WithLayout(g6.get_Layout(),g7)));},WithResetButton:function(g$){return N.WithCustomResetButton(O.get_Default(),g$);},WithResetFormlet:function(ha,hb){var hc,hd,he,hf,hg;hc=r.InitWithFailure(r.ApplyLayout(r.WithLayoutOrDefault(ha)));hd=r.LiftResult(hc);he=r.WithNotificationChannel(hd);hf=r.LiftResult(hb);hg=r.Do();return h.OfIFormlet(h.PropagateRenderFrom(he,r.MapResult(function(hh){return m.Join(hh);},hg.Delay(function(){return hg.Bind(he,$.Tupled(function(hj){var hk,hl;hk=hj[0];hl=hj[1];return hg.Bind(hf,function(hm){if(hm.$==0){hl(null);}return hg.Return(hk);});}));}))));},WithRowConfiguration:function(hn,ho){var hp;hp=r.ApplyLayout(ho);return r.WithLayout(h.Layout().RowLayout(hn),hp);},WithSubmitAndReset:function(hq,hr){var hs;hs=r.Do();return h.OfIFormlet(h.PropagateRenderFrom(hq,hs.Delay(function(){return hs.Bind(r.WithNotificationChannel(r.LiftResult(r.InitWithFailure(hq))),$.Tupled(function(hu){var hv,hw;hv=hu[0];hw=hu[1];return hs.ReturnFrom((hr(function(hx){return hw(hx);}))(hv));}));})));},WithSubmitAndResetButtons:function(hy){var hz,hA,hB;hz=O.get_Default();hA=$.New(O,{Label:{$:1,$0:"Submit"},Style:hz.Style,Class:hz.Class});hB=O.get_Default();return N.WithCustomSubmitAndResetButtons(hA,$.New(O,{Label:{$:1,$0:"Reset"},Style:hB.Style,Class:hB.Class}),hy);},WithSubmitButton:function(hC){return N.WithCustomSubmitButton(O.get_Default(),hC);},WithSubmitFormlet:function(hD,hE){var hF;hF=r.Do();return h.OfIFormlet(h.PropagateRenderFrom(hD,r.MapResult(function(hG){return m.Join(hG);},hF.Delay(function(){return hF.Bind(r.LiftResult(r.InitWithFailure(hD)),function(hI){return hF.Bind(hE(hI),function(){return hF.Return(hI);});});}))));},WithTextLabel:function(hK,hL){return N.WithLabel(function(){var hN;hN=g.ofArray([f.Text(hK)]);return f.Tags().NewTag("label",hN);},hL);},WithValidationFrame:function(hO){return N.WithCustomValidationFrame(S.get_Default(),hO);},WithValidationIcon:function(hP){return N.WithCustomValidationIcon(T.get_Default(),hP);},WrapFormlet:function(hQ,hR){return h.MkFormlet(function(){var hT,hU,hV;hT=r.WithLayoutOrDefault(hR);hU=r.BuildForm(hT);hV=hT.get_Layout().Apply.call(null,hU.Body).$0[0];return[(hQ(hU.State))(hV),function(){return hU.Notify.call(null,null);},hU.State];});}},Formlet:{ApplyLayout:function(hX){return h.OfIFormlet(h.PropagateRenderFrom(hX,h.BaseFormlet().ApplyLayout(hX)));},Bind:function(hY,hZ){var h0;h0=function(h1){return hZ(h1);};return h.OfIFormlet(h.PropagateRenderFrom(hY,h.BaseFormlet().Bind(hY,h0)));},BindWith:function(h2,h3,h4){var h5;h5=function(h6){return h4(h6);};return h.OfIFormlet(h.PropagateRenderFrom(h3,h.BaseFormlet().BindWith(h2,h3,h5)));},BuildForm:function(h7){return h.BaseFormlet().BuildForm(h7);},BuildFormlet:function(h8){return h.MkFormlet(h8);},Choose:function(h9){var h_,h$,ic,id,ik;h_={contents:0};h$=v.map(function(ia){return r.LiftResult(r.InitWithFailure(r.Map(function(ib){s.Increment(h_);return[ib,h_.contents];},ia)));},h9);ic=r.Sequence(h$);id=r.Map(function(ie){var _if,ih;_if=g.choose(function(ig){return ig.$==0?{$:1,$0:ig.$0}:{$:0};},ie);ih=g.rev(g.sortBy($.Tupled(function(ii){return ii[1];}),_if));return v.tryPick($.Tupled(function(ij){return{$:1,$0:ij[0]};}),ih);},ic);ik=function(il){return il.$==1;};return r.Map(function(im){return im.$0;},h.Validator().Is(ik,"",id));},Delay:function(_in){return h.OfIFormlet(h.BaseFormlet().Delay(function(){return _in(null);}));},Deletable:function(ip){return h.OfIFormlet(h.PropagateRenderFrom(ip,h.BaseFormlet().Deletable(ip)));},Do:$.Field(function(){return V.New();}),Empty:function(){return h.OfIFormlet(h.BaseFormlet().Empty());},FailWith:function(iq){return h.OfIFormlet(h.BaseFormlet().FailWith(iq));},FlipBody:function(ir){return h.OfIFormlet(h.PropagateRenderFrom(ir,h.BaseFormlet().FlipBody(ir)));},Flowlet:function(is){return h.OfIFormlet(h.PropagateRenderFrom(is,h.BaseFormlet().WithLayout(h.Layout().get_Flowlet(),is)));},Horizontal:function(it){return h.OfIFormlet(h.PropagateRenderFrom(it,h.BaseFormlet().WithLayout(h.Layout().get_Horizontal(),it)));},InitWith:function(iu,iv){return h.OfIFormlet(h.PropagateRenderFrom(iv,h.BaseFormlet().InitWith(iu,iv)));},InitWithFailure:function(iw){return h.OfIFormlet(h.PropagateRenderFrom(iw,h.BaseFormlet().InitWithFailure(iw)));},Join:function(ix){var iy;iy=r.Map(function(iz){return iz;},ix);return h.OfIFormlet(h.PropagateRenderFrom(ix,h.BaseFormlet().Join(iy)));},LiftResult:function(iA){return h.OfIFormlet(h.PropagateRenderFrom(iA,h.BaseFormlet().LiftResult(iA)));},Map:function(iB,iC){return h.OfIFormlet(h.PropagateRenderFrom(iC,h.BaseFormlet().Map(iB,iC)));},MapBody:function(iD,iE){return h.OfIFormlet(h.PropagateRenderFrom(iE,h.BaseFormlet().MapBody(iD,iE)));},MapElement:function(iF,iG){return h.OfIFormlet(h.PropagateRenderFrom(iG,h.BaseFormlet().MapBody(function(iH){return $.New(c,{Element:iF(iH.Element),Label:iH.Label});},iG)));},MapResult:function(iI,iJ){return h.OfIFormlet(h.PropagateRenderFrom(iJ,h.BaseFormlet().MapResult(iI,iJ)));},Never:function(){return h.OfIFormlet(h.BaseFormlet().Never());},New:function(iK){return h.OfIFormlet(h.BaseFormlet().New(iK));},OfElement:function(iL){return h.MkFormlet(function(){return[iL(null),function(){},h.RX().Return($.New(m,{$:0,$0:null}))];});},Render:function(iO){return h.PropagateRenderFrom(iO,iO.Run(function(){}));},Replace:function(iQ,iR){var iS;iS=function(iT){return iR(iT);};return h.OfIFormlet(h.PropagateRenderFrom(iQ,h.BaseFormlet().Replace(iQ,iS)));},ReplaceFirstWithFailure:function(iU){return h.OfIFormlet(h.PropagateRenderFrom(iU,h.BaseFormlet().ReplaceFirstWithFailure(iU)));},Return:function(iV){return h.OfIFormlet(h.BaseFormlet().Return(iV));},ReturnEmpty:function(iW){return h.OfIFormlet(h.BaseFormlet().ReturnEmpty(iW));},Run:function(iX,iY){return iY.Run(iX);},SelectMany:function(iZ){var i0;i0=r.Map(function(i1){return i1;},iZ);return h.OfIFormlet(h.PropagateRenderFrom(iZ,h.BaseFormlet().SelectMany(i0)));},Sequence:function(i2){var i3;i3=v.map(function(i4){return i4;},i2);return h.OfIFormlet(h.BaseFormlet().Sequence(i3));},Switch:function(i5){var i6;i6=r.Map(function(i7){return i7;},i5);return h.OfIFormlet(h.PropagateRenderFrom(i5,h.BaseFormlet().Switch(i6)));},Vertical:function(i8){return h.OfIFormlet(h.PropagateRenderFrom(i8,h.BaseFormlet().WithLayout(h.Layout().get_Vertical(),i8)));},WithCancelation:function(i9,i_){return h.OfIFormlet(h.PropagateRenderFrom(i9,h.BaseFormlet().WithCancelation(i9,i_)));},WithLabel:function(i$,ja){return h.OfIFormlet(h.PropagateRenderFrom(ja,h.BaseFormlet().MapBody(function(jb){return $.New(c,{Element:jb.Element,Label:i$});},ja)));},WithLayout:function(jc,jd){return h.OfIFormlet(h.PropagateRenderFrom(jd,h.BaseFormlet().WithLayout(jc,jd)));},WithLayoutOrDefault:function(je){return h.OfIFormlet(h.PropagateRenderFrom(je,h.BaseFormlet().WithLayoutOrDefault(je)));},WithNotification:function(jf,jg){return h.OfIFormlet(h.PropagateRenderFrom(jg,h.BaseFormlet().WithNotification(jf,jg)));},WithNotificationChannel:function(jh){return h.OfIFormlet(h.PropagateRenderFrom(jh,h.BaseFormlet().WithNotificationChannel(jh)));}},FormletBuilder:$.Class({Bind:function(ji,jj){var jk;jk=function(jl){return jj(jl);};return h.OfIFormlet(h.PropagateRenderFrom(ji,h.BaseFormlet().Bind(ji,jk)));},Delay:function(jm){return h.OfIFormlet(h.BaseFormlet().Delay(function(jn){return jm(jn);}));},Return:function(jo){return h.OfIFormlet(h.BaseFormlet().Return(jo));},ReturnFrom:function(jp){return h.OfIFormlet(jp);}},{New:function(){return $.New(this,{});}}),Layout:{FormRowConfiguration:$.Class({},{get_Default:function(){return $.New(X,{Padding:{$:0},Color:{$:0},Class:{$:0},Style:{$:0},LabelConfiguration:{$:0}});}}),LabelConfiguration:$.Class({},{get_Default:function(){return $.New(Y,{Align:{$:0},VerticalAlign:{$:1},Placement:{$:0}});}}),Padding:$.Class({},{get_Default:function(){return $.New(Z,{Left:{$:0},Right:{$:0},Top:{$:0},Bottom:{$:0}});}})},LayoutProvider:$.Class({ColumnLayout:function(jq){var jr,jB=this;jr=this.LayoutUtils;return jr.New(function(){var jt,ju,jv,jw,jH;jt=f.TR($.New(n,{$:0}));ju=f.Table(g.ofArray([f.TBody(g.ofArray([jt]))]));jv=M.NewElementStore();jw=function(jx){return function(jy){var jz,jA,jC,jD,jE;jz=jy.Element.get_Id();jA=f.TD(g.ofArray([f.Table(g.ofArray([f.TBody(g.ofArray([jB.MakeRow(jq,jx,jy)]))]))]));jC=p(jt.Body);jD={contents:0};jE={contents:false};jC.children().each(function(){var jF;jF=p(this);if(jx===jD.contents){p(jA.Body).insertBefore(jF);jA.Render();jE.contents=true;}return s.Increment(jD);});if(!jE.contents){jt.AppendI(jA);}return jv.RegisterElement(jz,function(){return jA["HtmlProvider@32"].Remove(jA.Body);});};};jH=function(jI){var jJ;jJ=_0.Get(jI);while(jJ.MoveNext()){jv.Remove(jJ.get_Current().Element.get_Id());}return;};return{Body:$.New(c,{Element:ju,Label:{$:0}}),SyncRoot:null,Insert:jw,Remove:jH};});},HorizontalAlignElem:function(jK,jL){var jM;jM="float:"+(jK.$==0?"left":"right")+";";return o.add(f.Div(g.ofArray([f.Attr().NewAttr("style",jM)])),g.ofArray([jL]));},LabelLayout:function(jN){var jO;jO=X.get_Default();return this.RowLayout($.New(X,{Padding:jO.Padding,Color:jO.Color,Class:jO.Class,Style:jO.Style,LabelConfiguration:{$:1,$0:jN}}));},MakeLayout:function(jP){var jQ;jQ=this.LayoutUtils;return jQ.New(function(){var jS,jT,jU,j2;jS=jP(null);jT=M.NewElementStore();jU=function(jV){return function(jW){var jX,jY;jX=jW.Element.get_Id();jY=(jS.Insert.call(null,jV))(jW);return jT.RegisterElement(jX,function(){var j0,j1;j0=_0.Get(jY);while(j0.MoveNext()){j1=j0.get_Current();j1["HtmlProvider@32"].Remove(j1.Body);}return;});};};j2=function(j3){var j4;j4=_0.Get(j3);while(j4.MoveNext()){jT.Remove(j4.get_Current().Element.get_Id());}return;};return{Body:$.New(c,{Element:jS.Panel,Label:{$:0}}),SyncRoot:null,Insert:jU,Remove:j2};});},MakeRow:function(j5,j6,j7){var j8,j9,j_,ka,kb,kd,ke,kg,kh,kj,kk,km,kD,kE,kF,kG,kH,kI,kJ,kL,kM,kN,kO,kP,kQ,kR,kS,kT,kW,kX,kY,k0,k1,k2,k4,k5;j8=j5.Padding;j9=Z.get_Default();j_=w.Maybe(j9,function(j$){return j$;},j8);ka=j_.Left;kb=w.Maybe(0,function(kc){return kc;},ka);kd=j_.Top;ke=w.Maybe(0,function(kf){return kf;},kd);kg=j_.Right;kh=w.Maybe(0,function(ki){return ki;},kg);kj=j_.Bottom;kk=w.Maybe(0,function(kl){return kl;},kj);km=function(kn){return function(ko){return function(kp){return function(kq){return function(kr){return function(ks){return function(kt){var ku,kv,kx,ky,kB;ku=g.ofArray([["padding-left: ",kn],["padding-top: ",ko],["padding-right: ",kp],["padding-bottom: ",kq]]);kv=$.Tupled(function(kw){return kw[0]+$$.String(kw[1])+"px;";});kx=g.map(kv,ku);ky=v.reduce(function(kz){return function(kA){return kz+kA;};},kx);kB=ky+";"+w.Maybe("",function(kC){return"vertical-align: "+(kC.$==1?"middle":kC.$==2?"bottom":"top")+";";},ks);return f.TD(g.append($.New(n,{$:1,$0:f.Attr().NewAttr("style",kB),$1:kr?g.ofArray([f.Attr().NewAttr("colspan","2")]):$.New(n,{$:0})}),g.ofArray([kt])));};};};};};};};kD=j7.Element;kE=j7.Label;if(kE.$==1){kG=kE.$0;kH=j5.LabelConfiguration;kI=Y.get_Default();kJ=w.Maybe(kI,function(kK){return kK;},kH);kL=kG(null);kM=kJ.Align;kN=this.HorizontalAlignElem(kM,kL);kO=kJ.Placement;if(kO.$==3){kP=w.InTable(g.ofArray([g.ofArray([kD]),g.ofArray([kN])]));kF=g.ofArray([((((((km(kb))(ke))(kh))(kk))(true))({$:0}))(kP)]);}else{if(kO.$==0){kF=g.ofArray([((((((km(kb))(ke))(0))(kk))(false))({$:1,$0:kJ.VerticalAlign}))(kN),((((((km(0))(ke))(kh))(kk))(false))({$:0}))(kD)]);}else{if(kO.$==1){kF=g.ofArray([((((((km(kb))(ke))(0))(kk))(false))({$:1,$0:kJ.VerticalAlign}))(kD),((((((km(0))(ke))(kh))(kk))(false))({$:0}))(kN)]);}else{kQ=w.InTable(g.ofArray([g.ofArray([kN]),g.ofArray([kD])]));kF=g.ofArray([((((((km(kb))(ke))(kh))(kk))(true))({$:0}))(kQ)]);}}}}else{kF=g.ofArray([((((((km(kb))(ke))(kh))(kk))(true))({$:0}))(kD)]);}kR=j5.Class;kS=$.New(n,{$:0});kT=w.Maybe(kS,function(kU){var kV;kV=kU(j6);return g.ofArray([f.Attr().Class(kV)]);},kR);kW=j5.Color;kX=$.New(n,{$:0});kY=w.Maybe(kX,function(kZ){return g.ofArray(["background-color: "+kZ(j6)]);},kW);k0=j5.Style;k1=$.New(n,{$:0});k2=g.append(kY,w.Maybe(k1,function(k3){return g.ofArray([k3(j6)]);},k0));if(k2.$==0){k4=$.New(n,{$:0});}else{k5=v.reduce(function(k6){return function(k7){return k6+";"+k7;};},k2);k4=g.ofArray([f.Attr().NewAttr("style",k5)]);}return f.TR(g.append(kT,g.append(k4,g.append(k4,kF))));},RowLayout:function(k8){var k9,lh=this;k9=this.LayoutUtils;return k9.New(function(){var k$,la,lb,lc,ln;k$=f.TBody($.New(n,{$:0}));la=f.Table(g.ofArray([k$]));lb=M.NewElementStore();lc=function(ld){return function(le){var lf,lg,li,lj,lk;lf=le.Element.get_Id();lg=lh.MakeRow(k8,ld,le);li=p(k$.Body);lj={contents:0};lk={contents:false};li.children().each(function(){var ll;ll=p(this);if(ld===lj.contents){p(lg.Body).insertBefore(ll);lg.Render();lk.contents=true;}return s.Increment(lj);});if(!lk.contents){k$.AppendI(lg);}return lb.RegisterElement(lf,function(){return lg["HtmlProvider@32"].Remove(lg.Body);});};};ln=function(lo){var lp;lp=_0.Get(lo);while(lp.MoveNext()){lb.Remove(lp.get_Current().Element.get_Id());}return;};return{Body:$.New(c,{Element:la,Label:{$:0}}),SyncRoot:null,Insert:lc,Remove:ln};});},VerticalAlignedTD:function(lq,lr){var ls,lt;ls=lq.$==1?"middle":lq.$==2?"bottom":"top";lt=f.TD(g.ofArray([lr]));lt["HtmlProvider@32"].SetCss(lt.Body,"vertical-align",ls);return lt;},get_Flowlet:function(){return this.MakeLayout(function(){var lv;lv=f.Div($.New(n,{$:0}));return{Insert:function(){return function(lx){var ly;ly=w.InTable(g.ofArray([g.ofArray([lx.Label.$==1?lx.Label.$0.call(null,null):f.Span($.New(n,{$:0})),f.Div(g.ofArray([lx.Element]))])]));lv["HtmlProvider@32"].Clear(lv.Body);lv.AppendI(ly);return g.ofArray([ly]);};},Panel:lv};});},get_Horizontal:function(){return this.ColumnLayout(X.get_Default());},get_Vertical:function(){return this.RowLayout(X.get_Default());}},{New:function(lz){var lA;lA=$.New(this,{});lA.LayoutUtils=lz;return lA;}}),Utils:{InTable:function(lB){return f.Table(g.ofArray([f.TBody(g.map(function(lC){return f.TR(g.map(function(lD){return f.TD(g.ofArray([lD]));},lC));},lB))]));},MapOption:function(lE,lF){return lF.$==1?{$:1,$0:lE(lF.$0)}:{$:0};},Maybe:function(lG,lH,lI){return lI.$==0?lG:lH(lI.$0);}}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Formlet);c=$.Safe(b.Body);d=$.Safe(b.Controls);e=$.Safe(a.Html);f=$.Safe(e.Default);g=$.Safe(a.List);h=$.Safe(b.Data);i=$.Safe($$.IntelliFactory.Reactive);j=$.Safe(i.HotStream);k=$.Safe($$.IntelliFactory.Formlet);l=$.Safe(k.Base);m=$.Safe(l.Result);n=$.Safe(g.T);o=$.Safe(e.Operators);p=$.Safe($$.jQuery);q=$.Safe(e.EventsPervasives);r=$.Safe(b.Formlet);s=$.Safe(a.Operators);t=$.Safe(b.CssConstants);u=$.Safe($$.Math);v=$.Safe(a.Seq);w=$.Safe(b.Utils);x=$.Safe(l.Tree);y=$.Safe(x.Edit);z=$.Safe(l.Form);A=$.Safe(a.Arrays);B=$.Safe(l.FormletProvider);C=$.Safe(h.Formlet);D=$.Safe(a.Util);E=$.Safe(b.LayoutProvider);F=$.Safe(l.LayoutUtils);G=$.Safe(i.Reactive);H=$.Safe(l.Validator);I=$.Safe(h.ValidatorProvidor);J=$.Safe($$.RegExp);K=$.Safe(a.Collections);L=$.Safe(K.Dictionary);M=$.Safe(b.ElementStore);N=$.Safe(b.Enhance);O=$.Safe(N.FormButtonConfiguration);P=$.Safe(N.FormContainerConfiguration);Q=$.Safe(N.Padding);R=$.Safe(N.ManyConfiguration);S=$.Safe(N.ValidationFrameConfiguration);T=$.Safe(N.ValidationIconConfiguration);U=$.Safe($$.JSON);V=$.Safe(b.FormletBuilder);W=$.Safe(b.Layout);X=$.Safe(W.FormRowConfiguration);Y=$.Safe(W.LabelConfiguration);Z=$.Safe(W.Padding);return _0=$.Safe(a.Enumerator);});$.OnLoad(function(){r.Do();h.Validator();h.RX();h.Layout();h.DefaultLayout();t.InputTextClass();return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp;$.Define($$,{IntelliFactory:{WebSharper:{UI:{Next:{Abbrev:{Array:{MapReduce:function(bq,br,bs,bt){var bu;bu=function(bv,bw){var bx,by,bz,bA,bB,bC;if(bw<=0){return br;}else{if(bw===1){if(bv>=0?bv<b.GetLength(bt):false){return bq(bt[bv]);}else{bx=bw/2>>0;by=bu(bv,bx);bz=bu(bv+bx,bw-bx);return(bs(by))(bz);}}else{bA=bw/2>>0;bB=bu(bv,bA);bC=bu(bv+bA,bw-bA);return(bs(bB))(bC);}}};return bu(0,b.GetLength(bt));}},Async:{Schedule:function(bC){return c.Start(c.Delay(function(){return c.Return(bC(null));}));},StartTo:function(bE,bF){var bG;bG=function(){};return c.StartWithContinuations(bE,bF,function(){});}},Dict:{ToKeyArray:function(bJ){var bK;bK=d(bJ.count);e.iteri(function(bL){return function(bM){bK[bL]=bM.K;};},bJ);return bK;},ToValueArray:function(bN){var bO;bO=d(bN.count);e.iteri(function(bP){return function(bQ){bO[bP]=bQ.V;};},bN);return bO;}},Fresh:{Id:function(){var bR;bR=i.counter()+1;i.counter=function(){return bR;};return"uid"+$$.String(i.counter());},Int:function(){var bS;bS=i.counter()+1;i.counter=function(){return bS;};return i.counter();},counter:$.Field(function(){return 0;})},HashSet:{Except:function(bT,bU){var bV;bV=l.New11(m.ToArray(bU));bV.ExceptWith(m.ToArray(bT));return bV;},Filter:function(bW,bX){return l.New11(n.filter(bW,m.ToArray(bX)));},Intersect:function(bY,bZ){var b0;b0=l.New11(m.ToArray(bY));b0.IntersectWith(m.ToArray(bZ));return b0;},ToArray:function(b1){var b2;b2=d(b1.get_Count());b1.CopyTo(b2);return b2;}},JQueue:{Add:function($x,$q){var $0=this,$this=this;return $q.push($x);},Count:function(b3){return b3.length;},Dequeue:function($q){var $0=this,$this=this;return $q.shift();},Iter:function(b4,b5){return n.iter(b4,o.ToArray(b5));},ToArray:function(b6){return b6.slice();}},Mailbox:{StartProcessor:function(b7){var b8,b9,b_;b8=[];b9={contents:false};b_=c.Delay(function(){var ca,ce;ca=c.While(function(){return o.Count(b8)>0;},c.Delay(function(){return c.Bind(b7(o.Dequeue(b8)),function(){return c.Return(null);});}));ce=c.Delay(function(){return c.Return(void(b9.contents=false));});return c.Bind(ca,function(){return ce;});});return function(ch){o.Add(ch,b8);if(!b9.contents){b9.contents=true;return c.Start(b_);}else{return null;}};}},Slot:$.Class({Equals:function(ci){return p.Equals(this.key.call(null,this.value),this.key.call(null,ci.get_Value()));},GetHashCode:function(){return p.Hash(this.key.call(null,this.value));},get_Value:function(){return this.value;}},{New:function(cj,ck){var cl;cl=$.New(this,{});cl.key=cj;cl.value=ck;return cl;}}),Slot1:$.Class({},{Create:function(cm,cn){return q.New(cm,cn);}}),U:function(){return;}},An:$.Class({},{Append:function(co,cp){return $.New(r,{$:0,$0:s.Append(co.$0,cp.$0)});},Concat:function(cq){return $.New(r,{$:0,$0:s.Concat(e.map(function(cr){return t.List(cr);},cq))});},Const:function(cs){return t.Const(cs);},Delayed:function(ct,cu,cv,cw,cx,cy){return{Compute:function(cz){return cz<=cw?cx:ct.Interpolate(cu.TransformTime.call(null,(cz-cw)/cv),cx,cy);},Duration:cv+cw};},Map:function(cA,cB){var cC;cC=cB.Compute;return t.Def(cB.Duration,function(cD){return cA(cC(cD));});},Pack:function(cE){return $.New(r,{$:0,$0:s.Single({$:1,$0:cE})});},Play:function(cF){return c.Delay(function(){return c.Bind(r.Run(function(){},t.Actions(cF)),function(){return c.Return(t.Finalize(cF));});});},Run:function(cJ,cK){var cL,cM;cL=cK.Duration;cM=$.Tupled(function(cN){var cO,cP,cQ;cO=cN[0];cP=function(){u.requestAnimationFrame(function(cS){return cQ(cS,cS);});};cQ=function(cT,cU){var cV;cV=cU-cT;cJ(cK.Compute.call(null,cV));return cV<=cL?void u.requestAnimationFrame(function(cW){return cQ(cT,cW);}):cO(null);};return cP(null);});return c.FromContinuations(function(cX){return function(cY){return cM([cX,cY,function(){}]);};});},Simple:function(c0,c1,c2,c3,c4){return{Compute:function(c5){return c0.Interpolate(c1.TransformTime.call(null,c5/c2),c3,c4);},Duration:c2};},WhenDone:function(c6,c7){return r.Append($.New(r,{$:0,$0:s.Single({$:0,$0:c6})}),c7);},get_Empty:function(){return $.New(r,{$:0,$0:s.Empty()});}}),AnimatedAttrNode:$.Class({GetChangeAnim:function(c8){var c9,c$=this;c9=[this.visible,this.logical];return r.WhenDone(function(){return c$.sync(c8);},c9[0].$==1?c9[1].$==1?c$.dirty?r.Pack(r.Map(function(da){return c$.pushVisible(c8,da);},v.AnimateChange(c$.tr,c9[0].$0,c9[1].$0))):r.get_Empty():r.get_Empty():r.get_Empty());},GetEnterAnim:function(db){var dc,de=this;dc=[this.visible,this.logical];return r.WhenDone(function(){return de.sync(db);},dc[0].$==1?dc[1].$==1?de.dirty?r.Pack(r.Map(function(df){return de.pushVisible(db,df);},v.AnimateChange(de.tr,dc[0].$0,dc[1].$0))):dc[0].$==0?dc[1].$==1?r.Pack(r.Map(function(dg){return de.pushVisible(db,dg);},v.AnimateEnter(de.tr,dc[1].$0))):r.get_Empty():r.get_Empty():dc[0].$==0?dc[1].$==1?r.Pack(r.Map(function(dh){return de.pushVisible(db,dh);},v.AnimateEnter(de.tr,dc[1].$0))):r.get_Empty():r.get_Empty():dc[0].$==0?dc[1].$==1?r.Pack(r.Map(function(di){return de.pushVisible(db,di);},v.AnimateEnter(de.tr,dc[1].$0))):r.get_Empty():r.get_Empty());},GetExitAnim:function(dj){var dk,dm=this;dk=this.visible;return r.WhenDone(function(){dm.dirty=true;dm.visible={$:0};return;},dk.$==1?r.Pack(r.Map(function(dn){return dm.pushVisible(dj,dn);},v.AnimateExit(dm.tr,dk.$0))):r.get_Empty());},Sync:function(){return null;},get_Changed:function(){return this.updates;},pushVisible:function(dp,dq){this.visible={$:1,$0:dq};this.dirty=true;return(this.push.call(null,dp))(dq);},sync:function(dr){if(this.dirty){w.iter(this.push.call(null,dr),this.logical);this.visible=this.logical;this.dirty=false;return;}else{return null;}}},{New:function(ds,dt,du){var dv;dv=$.New(this,{});dv.tr=ds;dv.push=du;dv.logical={$:0};dv.visible={$:0};dv.dirty=true;dv.updates=x.Map(function(dw){dv.logical={$:1,$0:dw};dv.dirty=true;return;},dt);return dv;}}),Anims:{Actions:function(dx){return t.ConcatActions(n.choose(function(dy){return dy.$==1?{$:1,$0:dy.$0}:{$:0};},s.ToArray(dx.$0)));},ConcatActions:function(dz){var dA,dB,dC,dE;dA=e.toArray(dz);dB=b.GetLength(dA);if(dB===0){return t.Const(null);}else{if(dB===1){return dA[0];}else{dC=e.max(e.map(function(dD){return dD.Duration;},dA));dE=n.map(function(dF){return t.Prolong(dC,dF);},dA);return t.Def(dC,function(dG){return n.iter(function(dH){return dH.Compute.call(null,dG);},dE);});}}},Const:function(dI){return t.Def(0,function(){return dI;});},Def:function(dK,dL){return{Compute:dL,Duration:dK};},Finalize:function(dM){return n.iter(function(dN){return dN.$==0?dN.$0.call(null,null):null;},s.ToArray(dM.$0));},List:function(dO){return dO.$0;},Prolong:function(dP,dQ){var dR,dS,dT;dR=dQ.Compute;dS=dQ.Duration;dT=y.Create(function(){return dQ.Compute.call(null,dQ.Duration);});return{Compute:function(dV){return dV>=dS?dT.eval():dR(dV);},Duration:dP};}},AppendList:{Append:function(dW,dX){var dY;dY=[dW,dX];return dY[0].$==0?dY[1]:dY[1].$==0?dY[0]:{$:2,$0:dW,$1:dX};},Concat:function(dZ){var d0;d0=e.toArray(dZ);return z.MapReduce(function(d1){return d1;},s.Empty(),function(d2){return function(d3){return s.Append(d2,d3);};},d0);},Empty:function(){return{$:0};},FromArray:function(d4){var d5;d5=d4.length;return d5===0?{$:0}:d5===1?{$:1,$0:d4[0]}:{$:3,$0:d4.slice()};},Single:function(d6){return{$:1,$0:d6};},ToArray:function(d7){var d8,d9;d8=[];d9=function(d_){var d$;if(d_.$==1){return o.Add(d_.$0,d8);}else{if(d_.$==2){d$=d_.$1;d9(d_.$0);return d9(d$);}else{return d_.$==3?n.iter(function(ea){return o.Add(ea,d8);},d_.$0):null;}}};d9(d7);return o.ToArray(d8);}},Attr:$.Class({},{Animated:function(eb,ec,ed,ee){return A.Animated(ec,ed,function(ef){return function(eg){return B.SetAttr(ef,eb,ee(eg));};});},AnimatedStyle:function(eh,ei,ej,ek){return A.Animated(ei,ej,function(el){return function(em){return B.SetStyle(el,eh,ek(em));};});},Append:function(en,eo){return A.Mk(en.Flags|eo.Flags,A.AppendTree(en.Tree,eo.Tree));},Class:function(ep){return A.Static(function(eq){return B.AddClass(eq,ep);});},Concat:function(er){var es,eu,ex;es=function(et){return et;};eu=function(ev){return function(ew){return C.Append(ev,ew);};};ex=e.toArray(er);return z.MapReduce(es,A.EmptyAttr(),eu,ex);},Create:function(ey,ez){return A.Static(function(eA){return B.SetAttr(eA,ey,ez);});},Dynamic:function(eB,eC){return A.Dynamic(eC,function(eD){return function(eE){return B.SetAttr(eD,eB,eE);};});},DynamicClass:function(eF,eG,eH){return A.Dynamic(eG,function(eI){return function(eJ){return eH(eJ)?B.AddClass(eI,eF):B.RemoveClass(eI,eF);};});},DynamicCustom:function(eK,eL){return A.Dynamic(eL,eK);},DynamicPred:function(eM,eN,eO){var eP;eP=function(eQ){return $.Tupled(function(eR){var eS;eS=eR[1];return eR[0]?B.SetAttr(eQ,eM,eS):B.RemoveAttr(eQ,eM);});};return A.Dynamic(x.Map2(function(eT){return function(eU){return[eT,eU];};},eN,eO),eP);},DynamicStyle:function(eV,eW){return A.Dynamic(eW,function(eX){return function(eY){return B.SetStyle(eX,eV,eY);};});},Handler:function(eZ,e0){return A.Static(function(e1){return e1.addEventListener(eZ,e0,false);});},Style:function(e2,e3){return A.Static(function(e4){return B.SetStyle(e4,e2,e3);});},get_Empty:function(){return A.EmptyAttr();}}),Attrs:{Animated:function(e5,e6,e7){var e8,e9;e8=D.New(e5,e6,e7);e9=4;if(v.CanAnimateEnter(e5)){e9=e9|1;}if(v.CanAnimateExit(e5)){e9=e9|2;}return A.Mk(e9,{$:1,$0:e8});},AppendTree:function(e_,e$){var fa;fa=[e_,e$];return fa[0].$==0?fa[1]:fa[1].$==0?fa[0]:{$:2,$0:e_,$1:e$};},Dynamic:function(fb,fc){return A.Mk(0,{$:1,$0:E.New(fb,fc)});},EmptyAttr:$.Field(function(){return A.Mk(0,{$:0});}),GetAnim:function(fd,fe){return r.Concat(n.map(function(ff){return(fe(ff))(fd.DynElem);},fd.DynNodes));},GetChangeAnim:function(fg){return A.GetAnim(fg,function(fh){return function(fi){return fh.GetChangeAnim(fi);};});},GetEnterAnim:function(fj){return A.GetAnim(fj,function(fk){return function(fl){return fk.GetEnterAnim(fl);};});},GetExitAnim:function(fm){return A.GetAnim(fm,function(fn){return function(fo){return fn.GetExitAnim(fo);};});},HasChangeAnim:function(fp){return(fp.DynFlags&4)!==0;},HasEnterAnim:function(fq){return(fq.DynFlags&1)!==0;},HasExitAnim:function(fr){return(fr.DynFlags&2)!==0;},Insert:function(fs,ft){var fu,fv;fu=[];fv=function(fw){var fx;if(fw.$==1){return o.Add(fw.$0,fu);}else{if(fw.$==2){fx=fw.$1;fv(fw.$0);return fv(fx);}else{return fw.$==3?fw.$0.call(null,fs):null;}}};fv(ft.Tree);return{DynElem:fs,DynFlags:ft.Flags,DynNodes:o.ToArray(fu)};},Mk:function(fy,fz){return $.New(C,{Flags:fy,Tree:fz});},Static:function(fA){return A.Mk(0,{$:3,$0:fA});},Sync:function(fB,fC){return n.iter(function(fD){return fD.Sync(fB);},fC.DynNodes);},Updates:function(fE){var fF,fK;fF=function(fG){return function(fH){return x.Map2(function(){return function(){return null;};},fG,fH);};};fK=fE.DynNodes;return z.MapReduce(function(fL){return fL.get_Changed();},F.Const(null),fF,fK);}},Doc:$.Class({},{Append:function(fM,fN){var fO;fO=x.Map2(function(){return function(){return null;};},fM.Updates,fN.Updates);return G.Mk({$:0,$0:fM.DocNode,$1:fN.DocNode},fO);},AsPagelet:function(fR){return H.New(fR);},Button:function(fS,fT,fU){var fV;fV=C.Concat(fT);return I.Elem(I.Clickable("button",fU),fV,I.TextNode(fS));},CheckBox:function(fW,fX,fY){var fZ,f0,f2,f4,f5,f6,f7;fZ=x.FromVar(fY);f0=function(f1){return p.Equals(f1,fX);};f2=x.Map(function(f3){return e.exists(f0,f3);},fZ);f4=F.Const("checked");f5=C.DynamicPred("checked",f2,f4);f6=C.Concat(J.append(J.ofArray([C.Create("type","checkbox"),C.Create("name",$$.String(K.GetId(fY))),C.Create("value",i.Id()),f5]),J.ofSeq(fW)));f7=B.CreateElement("input");f7.addEventListener("click",function(){var f9;f9=f7.checked;return K.Update(fY,function(f_){return e.toList(e.distinct(f9?J.append(f_,J.ofArray([fX])):J.filter(function(f$){return!p.Equals(f$,fX);},f_)));});},false);return I.Elem(f7,f6,I.get_Empty());},Clickable:function(ga,gb){var gc;gc=B.CreateElement(ga);gc.addEventListener("click",function(gd){gd.preventDefault();return gb(null);},false);return gc;},Concat:function(ge){var gf;gf=e.toArray(ge);return z.MapReduce(function(gg){return gg;},I.get_Empty(),function(gh){return function(gi){return I.Append(gh,gi);};},gf);},Convert:function(gj,gk){return I.Flatten(x.Convert(gj,gk));},ConvertBy:function(gl,gm,gn){return I.Flatten(x.ConvertBy(gl,gm,gn));},ConvertSeq:function(go,gp){return I.Flatten(F.ConvertSeq(go,gp));},ConvertSeqBy:function(gq,gr,gs){return I.Flatten(x.ConvertSeqBy(gq,gr,gs));},Elem:function(gt,gu,gv){var gw,gx,gy;gw=G.CreateElemNode(gt,gu,gv.DocNode);gx=gv.Updates;gy=x.Map2(function(){return function(){return null;};},A.Updates(gw.Attr),gx);return G.Mk({$:1,$0:gw},gy);},Element:function(gB,gC,gD){var gE,gF;gE=C.Concat(gC);gF=I.Concat(gD);return I.Elem(B.CreateElement(gB),gE,gF);},EmbedView:function(gG){var gH,gI;gH=G.CreateEmbedNode();gI=x.Map(function(){},F.Bind(function(gK){G.UpdateEmbedNode(gH,gK.DocNode);return gK.Updates;},gG));return G.Mk({$:2,$0:gH},gI);},Flatten:function(gL){return I.EmbedView(x.Map(function(gM){return I.Concat(gM);},gL));},Input:function(gN,gO){return I.InputInternal(gN,gO,{$:0});},InputArea:function(gP,gQ){return I.InputInternal(gP,gQ,{$:2});},InputInternal:function(gR,gS,gT){var gU,gV,gW,gX;gU=gT.$==1?[C.Append(C.Create("type","password"),C.Concat(gR)),"input"]:gT.$==2?[C.Concat(gR),"textarea"]:[C.Concat(gR),"input"];gV=gU[0];gW=B.CreateElement(gU[1]);gX=C.DynamicCustom(function(gY){return function(gZ){gY.value=gZ;};},x.FromVar(gS));gW.addEventListener("input",function(){return L.Set(gS,gW.value);},false);return I.Elem(gW,C.Append(gV,gX),I.get_Empty());},Link:function(g1,g2,g3){var g4,g5;g4=C.Concat(g2);g5=C.Append(C.Create("href","#"),g4);return I.Elem(I.Clickable("a",g3),g5,I.TextNode(g1));},PasswordBox:function(g6,g7){return I.InputInternal(g6,g7,{$:1});},Radio:function(g8,g9,g_){var g$,hb,hd;g$=B.CreateElement("input");g$.addEventListener("click",function(){return L.Set(g_,g9);},false);hb=C.DynamicPred("checked",x.Map(function(hc){return p.Equals(hc,g9);},g_.get_View()),F.Const("checked"));hd=function(he,hf){return C.Create(he,hf);};return I.Elem(g$,C.Concat(J.append(J.ofArray([hd("type","radio"),hd("name",$$.String(K.GetId(g_))),hb]),J.ofSeq(g8))),I.get_Empty());},Run:function(hg,hh){var hi,hj,hk;hi=hh.DocNode;G.LinkElement(hg,hi);hj=G.CreateRunState(hg,hi);hk=hh.Updates;return F.Sink(M.StartProcessor(function(){return G.PerformAnimatedUpdate(hj,hg,hi);}),hk);},RunById:function(hm,hn){var ho;ho=B.Doc().getElementById(hm);return p.Equals(ho,null)?N.FailWith("invalid id: "+hm):I.Run(ho,hn);},Select:function(hp,hq,hr,hs){var ht,hx,hy,hz,hB;ht=function(hu){return function(hv){hu.selectedIndex=e.findIndex(function(hw){return p.Equals(hv,hw);},hr);};};hx=B.CreateElement("select");hy=x.FromVar(hs);hz=C.DynamicCustom(ht,hy);hx.addEventListener("change",function(){return L.Set(hs,hr.get_Item(hx.selectedIndex));},false);hB=I.Concat(J.mapi(function(hC){return function(hD){var hE;hE=I.TextNode(hq(hD));return I.Element("option",J.ofArray([C.Create("value",$$.String(hC))]),J.ofArray([hE]));};},hr));return I.Elem(hx,C.Append(hz,C.Concat(hp)),hB);},Static:function(hF){return I.Elem(hF,C.get_Empty(),I.get_Empty());},SvgElement:function(hG,hH,hI){var hJ,hK;hJ=C.Concat(hH);hK=I.Concat(hI);return I.Elem(B.CreateSvgElement(hG),hJ,hK);},TextNode:function(hL){return I.TextView(F.Const(hL));},TextView:function(hM){var hN,hO;hN=G.CreateTextNode();hO=x.Map(function(hP){return G.UpdateTextNode(hN,hP);},hM);return G.Mk({$:4,$0:hN},hO);},get_Empty:function(){return G.Mk({$:3},F.Const(null));}}),DocElemNode:$.Class({Equals:function(hQ){return this.ElKey===hQ.ElKey;},GetHashCode:function(){return this.ElKey;}}),Docs:{ComputeChangeAnim:function(hR,hS){var hT,hV;hT=function(hU){return A.HasChangeAnim(hU.Attr);};hV=function(hW){return O.Filter(hT,hW);};return r.Concat(n.map(function(hX){return A.GetChangeAnim(hX.Attr);},O.ToArray(O.Intersect(hV(hR.PreviousNodes),hV(hS)))));},ComputeEnterAnim:function(hY,hZ){return r.Concat(n.map(function(h0){return A.GetEnterAnim(h0.Attr);},O.ToArray(O.Except(hY.PreviousNodes,O.Filter(function(h1){return A.HasEnterAnim(h1.Attr);},hZ)))));},ComputeExitAnim:function(h2,h3){return r.Concat(n.map(function(h4){return A.GetExitAnim(h4.Attr);},O.ToArray(O.Except(h3,O.Filter(function(h5){return A.HasExitAnim(h5.Attr);},h2.PreviousNodes)))));},CreateElemNode:function(h6,h7,h8){G.LinkElement(h6,h8);return $.New(P,{Attr:A.Insert(h6,h7),Children:h8,El:h6,ElKey:i.Int()});},CreateEmbedNode:function(){return{Current:{$:3},Dirty:false};},CreateRunState:function(h9,h_){return{PreviousNodes:O.get_Empty(),Top:G.CreateElemNode(h9,C.get_Empty(),h_)};},CreateTextNode:function(){return{Text:B.CreateText(""),Dirty:false,Value:""};},DoSyncElement:function(h$){var ia,ib,_if;ia=h$.El;ib=function(ic,id){var ie;if(ic.$==1){return{$:1,$0:ic.$0.El};}else{if(ic.$==2){ie=ic.$0;if(ie.Dirty){ie.Dirty=false;return G.InsertDoc(ia,ie.Current,id);}else{return ib(ie.Current,id);}}else{return ic.$==3?id:ic.$==4?{$:1,$0:ic.$0.Text}:ib(ic.$0,ib(ic.$1,id));}}};_if=h$.El;Q.Iter(function(ig){return B.RemoveNode(_if,ig);},Q.Except(Q.DocChildren(h$),Q.Children(h$.El)));ib(h$.Children,{$:0});return;},DomNodes:$.Class({},{Children:function(ih){var ii;ii=ih.childNodes;return $.New(Q,{$:0,$0:n.init(ih.childNodes.length,function(ij){return ii[ij];})});},DocChildren:function(ik){var il,im;il=[];im=function(_in){var io;if(_in.$==2){return im(_in.$0.Current);}else{if(_in.$==1){return o.Add(_in.$0.El,il);}else{if(_in.$==3){return null;}else{if(_in.$==4){return o.Add(_in.$0.Text,il);}else{io=_in.$1;im(_in.$0);return im(io);}}}}};im(ik.Children);return $.New(Q,{$:0,$0:o.ToArray(il)});},Except:function(ip,iq){var ir;ir=ip.$0;return $.New(Q,{$:0,$0:n.filter(function(is){return e.forall(function(it){return!(is===it);},ir);},iq.$0)});},FoldBack:function(iu,iv,iw){return n.foldBack(iu,iv.$0,iw);},Iter:function(ix,iy){return n.iter(ix,iy.$0);}}),InsertDoc:function(iz,iA,iB){var iC;if(iA.$==1){return G.InsertNode(iz,iA.$0.El,iB);}else{if(iA.$==2){iC=iA.$0;iC.Dirty=false;return G.InsertDoc(iz,iC.Current,iB);}else{return iA.$==3?iB:iA.$==4?G.InsertNode(iz,iA.$0.Text,iB):G.InsertDoc(iz,iA.$0,G.InsertDoc(iz,iA.$1,iB));}}},InsertNode:function(iD,iE,iF){B.InsertAt(iD,iF,iE);return{$:1,$0:iE};},LinkElement:function(iG,iH){G.InsertDoc(iG,iH,{$:0});},Mk:function(iI,iJ){return $.New(I,{DocNode:iI,Updates:iJ});},NodeSet:$.Class({},{Except:function(iK,iL){return $.New(O,{$:0,$0:m.Except(iK.$0,iL.$0)});},Filter:function(iM,iN){return $.New(O,{$:0,$0:m.Filter(iM,iN.$0)});},FindAll:function(iO){var iP,iQ;iP=[];iQ=function(iR){var iS,iT;if(iR.$==0){iS=iR.$1;iQ(iR.$0);return iQ(iS);}else{if(iR.$==1){iT=iR.$0;o.Add(iT,iP);return iQ(iT.Children);}else{return iR.$==2?iQ(iR.$0.Current):null;}}};iQ(iO);return $.New(O,{$:0,$0:l.New11(o.ToArray(iP))});},Intersect:function(iU,iV){return $.New(O,{$:0,$0:m.Intersect(iU.$0,iV.$0)});},IsEmpty:function(iW){return iW.$0.get_Count()===0;},ToArray:function(iX){return m.ToArray(iX.$0);},get_Empty:function(){return $.New(O,{$:0,$0:l.New2()});}}),PerformAnimatedUpdate:function(iY,iZ,i0){return c.Delay(function(){var i2,i3,i4;i2=O.FindAll(i0);i3=G.ComputeChangeAnim(iY,i2);i4=G.ComputeEnterAnim(iY,i2);return c.Bind(r.Play(r.Append(i3,G.ComputeExitAnim(iY,i2))),function(){G.SyncElemNode(iY.Top);return c.Bind(r.Play(i4),function(){return c.Return(void(iY.PreviousNodes=i2));});});});},Sync:function(i7){var i8;i8=function(i9){var i_,i$,ja;if(i9.$==1){i_=i9.$0;G.SyncElement(i_);return i8(i_.Children);}else{if(i9.$==2){return i8(i9.$0.Current);}else{if(i9.$==3){return null;}else{if(i9.$==4){i$=i9.$0;if(i$.Dirty){i$.Text.nodeValue=i$.Value;i$.Dirty=false;return;}else{return null;}}else{ja=i9.$1;i8(i9.$0);return i8(ja);}}}}};return i8(i7);},SyncElemNode:function(jb){G.SyncElement(jb);return G.Sync(jb.Children);},SyncElement:function(jc){var jd;A.Sync(jc.El,jc.Attr);jd=function(je){var jf,jg;if(je.$==0){jf=je.$1;return jd(je.$0)?true:jd(jf);}else{if(je.$==2){jg=je.$0;return jg.Dirty?true:jd(jg.Current);}else{return false;}}};return jd(jc.Children)?G.DoSyncElement(jc):null;},UpdateEmbedNode:function(jh,ji){jh.Current=ji;jh.Dirty=true;return;},UpdateTextNode:function(jj,jk){jj.Value=jk;jj.Dirty=true;return;}},DomUtility:{AddClass:function(jl,jm){R(jl).addClass(jm);},AppendTo:function(jn,jo){jn.appendChild(jo);},Clear:function(jp){while(jp.hasChildNodes()){jp.removeChild(jp.firstChild);}return;},ClearAttrs:function(jq){while(jq.hasAttributes()){jq.removeAttributeNode(jq.attributes.item(0));}return;},CreateAttr:function(jr,js){var jt;jt=B.Doc().createAttribute(jr);jt.value=js;return jt;},CreateElement:function(ju){return B.Doc().createElement(ju);},CreateSvgElement:function(jv){return B.Doc().createElementNS("http://www.w3.org/2000/svg",jv);},CreateText:function(jw){return B.Doc().createTextNode(jw);},Doc:$.Field(function(){return S;}),InsertAt:function(jx,jy,jz){var jA,jB,jC;if(jz.parentNode===jx){jB=jz.nextSibling;jC=[jy,p.Equals(jB,null)?{$:0}:{$:1,$0:jB}];jA=jC[0].$==1?jC[1].$==1?jC[0].$0===jC[1].$0:false:jC[1].$==0?true:false;}else{jA=false;}return!jA?jy.$==1?void jx.insertBefore(jz,jy.$0):void jx.appendChild(jz):null;},RemoveAttr:function(jD,jE){return jD.removeAttribute(jE);},RemoveClass:function(jF,jG){R(jF).removeClass(jG);},RemoveNode:function(jH,jI){return jI.parentNode===jH?void jH.removeChild(jI):null;},SetAttr:function(jJ,jK,jL){return jJ.setAttribute(jK,jL);},SetProperty:function($target,$name,$value){var $0=this,$this=this;return $target.setProperty($name,$value);},SetStyle:function(jM,jN,jO){return B.SetProperty(jM.style,jN,jO);}},DoubleInterpolation:$.Class({Interpolate:function(jP,jQ,jR){return jQ+jP*(jR-jQ);}}),DynamicAttrNode:$.Class({GetChangeAnim:function(){return r.get_Empty();},GetEnterAnim:function(){return r.get_Empty();},GetExitAnim:function(){return r.get_Empty();},Sync:function(jV){if(this.dirty){(this.push.call(null,jV))(this.value);this.dirty=false;return;}else{return null;}},get_Changed:function(){return this.updates;}},{New:function(jW,jX){var jY;jY=$.New(this,{});jY.push=jX;jY.value=h.U();jY.dirty=true;jY.updates=x.Map(function(jZ){jY.value=jZ;jY.dirty=true;return;},jW);return jY;}}),Easing:$.Class({},{Custom:function(j0){return $.New(T,{TransformTime:j0});},get_CubicInOut:function(){return U.CubicInOut();}}),Easings:{CubicInOut:$.Field(function(){return $.New(T,{TransformTime:function(j1){var j2;j2=j1*j1;return 3*j2-2*(j2*j1);}});})},Flow:$.Class({},{Bind:function(j3,j4){return{Render:function(j5){return function(j6){return(j3.Render.call(null,j5))(function(j7){return(j4(j7).Render.call(null,j5))(j6);});};}};},Define:function(j8){return{Render:function(j9){return function(j_){return L.Set(j9,j8(j_));};}};},Embed:function(j$){var ka;ka=L.Create(I.get_Empty());(j$.Render.call(null,ka))(function(){});return I.EmbedView(ka.get_View());},Map:function(kc,kd){return{Render:function(ke){return function(kf){return(kd.Render.call(null,ke))(function(kg){return kf(kc(kg));});};}};},Return:function(kh){return{Render:function(){return function(kj){return kj(kh);};}};},Static:function(kk){return{Render:function(kl){return function(km){L.Set(kl,kk);return km(null);};}};}}),Flow1:$.Class({},{get_Do:function(){return V.New();}}),FlowBuilder:$.Class({Bind:function(kn,ko){return W.Bind(kn,ko);},Return:function(kp){return W.Return(kp);},ReturnFrom:function(kq){return kq;}},{New:function(){return $.New(this,{});}}),Html:{A:function(kr,ks){return Y.A(kr,ks);},A0:function(kt){return Y.A($.New(Z,{$:0}),kt);},Attributes:{Accept:$.Field(function(){return"accept";}),AcceptCharset:$.Field(function(){return"accept-charset";}),Accesskey:$.Field(function(){return"accesskey";}),Action:$.Field(function(){return"action";}),Align:$.Field(function(){return"align";}),Alt:$.Field(function(){return"alt";}),Async:$.Field(function(){return"async";}),AutoComplete:$.Field(function(){return"autocomplete";}),AutoFocus:$.Field(function(){return"autofocus";}),AutoPlay:$.Field(function(){return"autoplay";}),AutoSave:$.Field(function(){return"autosave";}),BgColor:$.Field(function(){return"bgcolor";}),Border:$.Field(function(){return"border";}),Buffered:$.Field(function(){return"buffered";}),Challenge:$.Field(function(){return"challenge";}),Charset:$.Field(function(){return"charset";}),Checked:$.Field(function(){return"checked";}),Cite:$.Field(function(){return"cite";}),Class:$.Field(function(){return"class";}),Code:$.Field(function(){return"code";}),Codebase:$.Field(function(){return"codebase";}),ColSpan:$.Field(function(){return"colspan";}),Color:$.Field(function(){return"color";}),Cols:$.Field(function(){return"cols";}),Content:$.Field(function(){return"content";}),ContentEditable:$.Field(function(){return"contenteditable";}),ContextMenu:$.Field(function(){return"contextmenu";}),Controls:$.Field(function(){return"controls";}),Coords:$.Field(function(){return"coords";}),Datetime:$.Field(function(){return"datetime";}),Default:$.Field(function(){return"default";}),Defer:$.Field(function(){return"defer";}),Dir:$.Field(function(){return"dir";}),DirName:$.Field(function(){return"dirname";}),Disabled:$.Field(function(){return"disabled";}),Download:$.Field(function(){return"download";}),Draggable:$.Field(function(){return"draggable";}),Dropzone:$.Field(function(){return"dropzone";}),EncType:$.Field(function(){return"enctype";}),For:$.Field(function(){return"for";}),Form:$.Field(function(){return"form";}),FormAction:$.Field(function(){return"formaction";}),Headers:$.Field(function(){return"headers";}),Height:$.Field(function(){return"height";}),Hidden:$.Field(function(){return"hidden";}),High:$.Field(function(){return"high";}),Href:$.Field(function(){return"href";}),HrefLang:$.Field(function(){return"hreflang";}),HttpEquiv:$.Field(function(){return"http-equiv";}),ID:$.Field(function(){return"id";}),Icon:$.Field(function(){return"icon";}),IsMap:$.Field(function(){return"ismap";}),ItemProp:$.Field(function(){return"itemprop";}),KeyType:$.Field(function(){return"keytype";}),Kind:$.Field(function(){return"kind";}),Label:$.Field(function(){return"label";}),Lang:$.Field(function(){return"lang";}),Language:$.Field(function(){return"language";}),List:$.Field(function(){return"list";}),Loop:$.Field(function(){return"loop";}),Low:$.Field(function(){return"low";}),Manifest:$.Field(function(){return"manifest";}),Max:$.Field(function(){return"max";}),MaxLength:$.Field(function(){return"maxlength";}),Media:$.Field(function(){return"media";}),Method:$.Field(function(){return"method";}),Min:$.Field(function(){return"min";}),Multiple:$.Field(function(){return"multiple";}),Name:$.Field(function(){return"name";}),NoValidate:$.Field(function(){return"novalidate";}),Open:$.Field(function(){return"open";}),Optimum:$.Field(function(){return"optimum";}),Pattern:$.Field(function(){return"pattern";}),Ping:$.Field(function(){return"ping";}),Placeholder:$.Field(function(){return"placeholder";}),Poster:$.Field(function(){return"poster";}),Preload:$.Field(function(){return"preload";}),PubDate:$.Field(function(){return"pubdate";}),RadioGroup:$.Field(function(){return"radiogroup";}),Readonly:$.Field(function(){return"readonly";}),Rel:$.Field(function(){return"rel";}),Required:$.Field(function(){return"required";}),Reversed:$.Field(function(){return"reversed";}),RowSpan:$.Field(function(){return"rowspan";}),Rows:$.Field(function(){return"rows";}),Sandbox:$.Field(function(){return"sandbox";}),Scope:$.Field(function(){return"scope";}),Scoped:$.Field(function(){return"scoped";}),Seamless:$.Field(function(){return"seamless";}),Selected:$.Field(function(){return"selected";}),Shape:$.Field(function(){return"shape";}),Size:$.Field(function(){return"size";}),Sizes:$.Field(function(){return"sizes";}),Span:$.Field(function(){return"span";}),Spellcheck:$.Field(function(){return"spellcheck";}),Src:$.Field(function(){return"src";}),SrcLang:$.Field(function(){return"srclang";}),Srcdoc:$.Field(function(){return"srcdoc";}),Start:$.Field(function(){return"start";}),Step:$.Field(function(){return"step";}),Style:$.Field(function(){return"style";}),Summary:$.Field(function(){return"summary";}),TabIndex:$.Field(function(){return"tabindex";}),Target:$.Field(function(){return"target";}),Title:$.Field(function(){return"title";}),Type:$.Field(function(){return"type";}),Usemap:$.Field(function(){return"usemap";}),Value:$.Field(function(){return"value";}),Width:$.Field(function(){return"width";}),Wrap:$.Field(function(){return"wrap";})},Del:function(ku,kv){return Y.Del(ku,kv);},Del0:function(kw){return Y.Del($.New(Z,{$:0}),kw);},Div:function(kx,ky){return Y.Div(kx,ky);},Div0:function(kz){return Y.Div($.New(Z,{$:0}),kz);},Elements:{A:function(kA,kB){return I.Element("a",kA,kB);},Abbr:function(kC,kD){return I.Element("abbr",kC,kD);},Address:function(kE,kF){return I.Element("address",kE,kF);},Area:function(kG,kH){return I.Element("area",kG,kH);},Article:function(kI,kJ){return I.Element("article",kI,kJ);},Aside:function(kK,kL){return I.Element("aside",kK,kL);},Audio:function(kM,kN){return I.Element("audio",kM,kN);},B:function(kO,kP){return I.Element("b",kO,kP);},BDI:function(kQ,kR){return I.Element("bdi",kQ,kR);},BDO:function(kS,kT){return I.Element("bdo",kS,kT);},Base:function(kU,kV){return I.Element("base",kU,kV);},BlockQuote:function(kW,kX){return I.Element("blockquote",kW,kX);},Body:function(kY,kZ){return I.Element("body",kY,kZ);},Br:function(k0,k1){return I.Element("br",k0,k1);},Button:function(k2,k3){return I.Element("button",k2,k3);},Canvas:function(k4,k5){return I.Element("canvas",k4,k5);},Caption:function(k6,k7){return I.Element("caption",k6,k7);},Cite:function(k8,k9){return I.Element("cite",k8,k9);},Code:function(k_,k$){return I.Element("code",k_,k$);},Col:function(la,lb){return I.Element("col",la,lb);},ColGroup:function(lc,ld){return I.Element("colgroup",lc,ld);},DD:function(le,lf){return I.Element("dd",le,lf);},DFN:function(lg,lh){return I.Element("dfn",lg,lh);},DL:function(li,lj){return I.Element("dl",li,lj);},DT:function(lk,ll){return I.Element("dt",lk,ll);},Data:function(lm,ln){return I.Element("data",lm,ln);},DataList:function(lo,lp){return I.Element("datalist",lo,lp);},Del:function(lq,lr){return I.Element("del",lq,lr);},Details:function(ls,lt){return I.Element("details",ls,lt);},Div:function(lu,lv){return I.Element("div",lu,lv);},Em:function(lw,lx){return I.Element("em",lw,lx);},Embed:function(ly,lz){return I.Element("embed",ly,lz);},FieldSet:function(lA,lB){return I.Element("fieldset",lA,lB);},FigCaption:function(lC,lD){return I.Element("figcaption",lC,lD);},Figure:function(lE,lF){return I.Element("figure",lE,lF);},Footer:function(lG,lH){return I.Element("footer",lG,lH);},Form:function(lI,lJ){return I.Element("form",lI,lJ);},H1:function(lK,lL){return I.Element("h1",lK,lL);},H2:function(lM,lN){return I.Element("h2",lM,lN);},H3:function(lO,lP){return I.Element("h3",lO,lP);},H4:function(lQ,lR){return I.Element("h4",lQ,lR);},H5:function(lS,lT){return I.Element("h5",lS,lT);},H6:function(lU,lV){return I.Element("h6",lU,lV);},HR:function(lW,lX){return I.Element("hr",lW,lX);},Head:function(lY,lZ){return I.Element("head",lY,lZ);},Header:function(l0,l1){return I.Element("header",l0,l1);},Html:function(l2,l3){return I.Element("html",l2,l3);},I:function(l4,l5){return I.Element("i",l4,l5);},IFrame:function(l6,l7){return I.Element("iframe",l6,l7);},Img:function(l8,l9){return I.Element("img",l8,l9);},Input:function(l_,l$){return I.Element("input",l_,l$);},Ins:function(ma,mb){return I.Element("ins",ma,mb);},Kbd:function(mc,md){return I.Element("kbd",mc,md);},Keygen:function(me,mf){return I.Element("keygen",me,mf);},LI:function(mg,mh){return I.Element("li",mg,mh);},Label:function(mi,mj){return I.Element("label",mi,mj);},Legend:function(mk,ml){return I.Element("legend",mk,ml);},Link:function(mm,mn){return I.Element("link",mm,mn);},Main:function(mo,mp){return I.Element("main",mo,mp);},Map:function(mq,mr){return I.Element("map",mq,mr);},Mark:function(ms,mt){return I.Element("mark",ms,mt);},Menu:function(mu,mv){return I.Element("menu",mu,mv);},MenuItem:function(mw,mx){return I.Element("menuitem",mw,mx);},Meta:function(my,mz){return I.Element("meta",my,mz);},Meter:function(mA,mB){return I.Element("meter",mA,mB);},Nav:function(mC,mD){return I.Element("nav",mC,mD);},NoScript:function(mE,mF){return I.Element("noscript",mE,mF);},OL:function(mG,mH){return I.Element("ol",mG,mH);},Object:function(mI,mJ){return I.Element("object",mI,mJ);},OptGroup:function(mK,mL){return I.Element("optgroup",mK,mL);},Option:function(mM,mN){return I.Element("option",mM,mN);},Output:function(mO,mP){return I.Element("output",mO,mP);},P:function(mQ,mR){return I.Element("p",mQ,mR);},Param:function(mS,mT){return I.Element("param",mS,mT);},Picture:function(mU,mV){return I.Element("picture",mU,mV);},Pre:function(mW,mX){return I.Element("pre",mW,mX);},Progress:function(mY,mZ){return I.Element("progress",mY,mZ);},Q:function(m0,m1){return I.Element("q",m0,m1);},RP:function(m2,m3){return I.Element("rp",m2,m3);},RT:function(m4,m5){return I.Element("rt",m4,m5);},Ruby:function(m6,m7){return I.Element("ruby",m6,m7);},S:function(m8,m9){return I.Element("s",m8,m9);},Samp:function(m_,m$){return I.Element("samp",m_,m$);},Script:function(na,nb){return I.Element("script",na,nb);},Section:function(nc,nd){return I.Element("section",nc,nd);},Select:function(ne,nf){return I.Element("select",ne,nf);},Small:function(ng,nh){return I.Element("small",ng,nh);},Source:function(ni,nj){return I.Element("source",ni,nj);},Span:function(nk,nl){return I.Element("span",nk,nl);},Strong:function(nm,nn){return I.Element("strong",nm,nn);},Style:function(no,np){return I.Element("style",no,np);},Sub:function(nq,nr){return I.Element("sub",nq,nr);},Summary:function(ns,nt){return I.Element("summary",ns,nt);},Sup:function(nu,nv){return I.Element("sup",nu,nv);},TBody:function(nw,nx){return I.Element("tbody",nw,nx);},TD:function(ny,nz){return I.Element("td",ny,nz);},TFoot:function(nA,nB){return I.Element("tfoot",nA,nB);},TH:function(nC,nD){return I.Element("th",nC,nD);},THead:function(nE,nF){return I.Element("thead",nE,nF);},TR:function(nG,nH){return I.Element("tr",nG,nH);},Table:function(nI,nJ){return I.Element("table",nI,nJ);},TextArea:function(nK,nL){return I.Element("textarea",nK,nL);},Time:function(nM,nN){return I.Element("time",nM,nN);},Title:function(nO,nP){return I.Element("title",nO,nP);},Track:function(nQ,nR){return I.Element("track",nQ,nR);},U:function(nS,nT){return I.Element("u",nS,nT);},UL:function(nU,nV){return I.Element("ul",nU,nV);},Var:function(nW,nX){return I.Element("var",nW,nX);},Video:function(nY,nZ){return I.Element("video",nY,nZ);},WBR:function(n0,n1){return I.Element("wbr",n0,n1);}},Form:function(n2,n3){return Y.Form(n2,n3);},Form0:function(n4){return Y.Form($.New(Z,{$:0}),n4);},H1:function(n5,n6){return Y.H1(n5,n6);},H10:function(n7){return Y.H1($.New(Z,{$:0}),n7);},H2:function(n8,n9){return Y.H2(n8,n9);},H20:function(n_){return Y.H2($.New(Z,{$:0}),n_);},H3:function(n$,oa){return Y.H3(n$,oa);},H30:function(ob){return Y.H3($.New(Z,{$:0}),ob);},H4:function(oc,od){return Y.H4(oc,od);},H40:function(oe){return Y.H4($.New(Z,{$:0}),oe);},H5:function(of,og){return Y.H5(of,og);},H50:function(oh){return Y.H5($.New(Z,{$:0}),oh);},H6:function(oi,oj){return Y.H6(oi,oj);},H60:function(ok){return Y.H6($.New(Z,{$:0}),ok);},LI:function(ol,om){return Y.LI(ol,om);},LI0:function(on){return Y.LI($.New(Z,{$:0}),on);},Label:function(oo,op){return Y.Label(oo,op);},Label0:function(oq){return Y.Label($.New(Z,{$:0}),oq);},Nav:function(or,os){return Y.Nav(or,os);},Nav0:function(ot){return Y.Nav($.New(Z,{$:0}),ot);},OL:function(ou,ov){return Y.OL(ou,ov);},OL0:function(ow){return Y.OL($.New(Z,{$:0}),ow);},P:function(ox,oy){return Y.P(ox,oy);},P0:function(oz){return Y.P($.New(Z,{$:0}),oz);},Span:function(oA,oB){return Y.Span(oA,oB);},Span0:function(oC){return Y.Span($.New(Z,{$:0}),oC);},SvgAttributes:{AccentHeight:$.Field(function(){return"accent-height";}),Accumulate:$.Field(function(){return"accumulate";}),Additive:$.Field(function(){return"additive";}),AlignmentBaseline:$.Field(function(){return"alignment-baseline";}),Ascent:$.Field(function(){return"ascent";}),AttributeName:$.Field(function(){return"attributeName";}),AttributeType:$.Field(function(){return"attributeType";}),Azimuth:$.Field(function(){return"azimuth";}),BaseFrequency:$.Field(function(){return"baseFrequency";}),BaselineShift:$.Field(function(){return"baseline-shift";}),Begin:$.Field(function(){return"begin";}),Bias:$.Field(function(){return"bias";}),CX:$.Field(function(){return"cx";}),CY:$.Field(function(){return"cy";}),CalcMode:$.Field(function(){return"calcMode";}),Class:$.Field(function(){return"class";}),Clip:$.Field(function(){return"clip";}),ClipPath:$.Field(function(){return"clip-path";}),ClipPathUnits:$.Field(function(){return"clipPathUnits";}),ClipRule:$.Field(function(){return"clip-rule";}),Color:$.Field(function(){return"color";}),ColorInterpolation:$.Field(function(){return"color-interpolation";}),ColorInterpolationFilters:$.Field(function(){return"color-interpolation-filters";}),ColorProfile:$.Field(function(){return"color-profile";}),ColorRendering:$.Field(function(){return"color-rendering";}),ContentScriptType:$.Field(function(){return"contentScriptType";}),ContentStyleType:$.Field(function(){return"contentStyleType";}),Cursor:$.Field(function(){return"cursor";}),D:$.Field(function(){return"d";}),DX:$.Field(function(){return"dx";}),DY:$.Field(function(){return"dy";}),DiffuseConstant:$.Field(function(){return"diffuseConstant";}),Direction:$.Field(function(){return"direction";}),Display:$.Field(function(){return"display";}),Divisor:$.Field(function(){return"divisor";}),DominantBaseline:$.Field(function(){return"dominant-baseline";}),Dur:$.Field(function(){return"dur";}),EdgeMode:$.Field(function(){return"edgeMode";}),Elevation:$.Field(function(){return"elevation";}),End:$.Field(function(){return"end";}),ExternalResourcesRequired:$.Field(function(){return"externalResourcesRequired";}),Fill:$.Field(function(){return"fill";}),FillOpacity:$.Field(function(){return"fill-opacity";}),FillRule:$.Field(function(){return"fill-rule";}),Filter:$.Field(function(){return"filter";}),FilterRes:$.Field(function(){return"filterRes";}),FilterUnits:$.Field(function(){return"filterUnits";}),FloodColor:$.Field(function(){return"flood-color";}),FloodOpacity:$.Field(function(){return"flood-opacity";}),FontFamily:$.Field(function(){return"font-family";}),FontSize:$.Field(function(){return"font-size";}),FontSizeAdjust:$.Field(function(){return"font-size-adjust";}),FontStretch:$.Field(function(){return"font-stretch";}),FontStyle:$.Field(function(){return"font-style";}),FontVariant:$.Field(function(){return"font-variant";}),FontWeight:$.Field(function(){return"font-weight";}),From:$.Field(function(){return"from";}),GradientTransform:$.Field(function(){return"gradientTransform";}),GradientUnits:$.Field(function(){return"gradientUnits";}),Height:$.Field(function(){return"height";}),IN:$.Field(function(){return"in";}),ImageRendering:$.Field(function(){return"image-rendering";}),In2:$.Field(function(){return"in2";}),K1:$.Field(function(){return"k1";}),K2:$.Field(function(){return"k2";}),K3:$.Field(function(){return"k3";}),K4:$.Field(function(){return"k4";}),KernelMatrix:$.Field(function(){return"kernelMatrix";}),KernelUnitLength:$.Field(function(){return"kernelUnitLength";}),Kerning:$.Field(function(){return"kerning";}),KeySplines:$.Field(function(){return"keySplines";}),KeyTimes:$.Field(function(){return"keyTimes";}),LetterSpacing:$.Field(function(){return"letter-spacing";}),LightingColor:$.Field(function(){return"lighting-color";}),LimitingConeAngle:$.Field(function(){return"limitingConeAngle";}),Local:$.Field(function(){return"local";}),MarkerEnd:$.Field(function(){return"marker-end";}),MarkerHeight:$.Field(function(){return"markerHeight";}),MarkerMid:$.Field(function(){return"marker-mid";}),MarkerStart:$.Field(function(){return"marker-start";}),MarkerUnits:$.Field(function(){return"markerUnits";}),MarkerWidth:$.Field(function(){return"markerWidth";}),Mask:$.Field(function(){return"mask";}),MaskContentUnits:$.Field(function(){return"maskContentUnits";}),MaskUnits:$.Field(function(){return"maskUnits";}),Max:$.Field(function(){return"max";}),Min:$.Field(function(){return"min";}),Mode:$.Field(function(){return"mode";}),NumOctaves:$.Field(function(){return"numOctaves";}),Opacity:$.Field(function(){return"opacity";}),Operator:$.Field(function(){return"operator";}),Order:$.Field(function(){return"order";}),Overflow:$.Field(function(){return"overflow";}),PaintOrder:$.Field(function(){return"paint-order";}),PathLength:$.Field(function(){return"pathLength";}),PatternContentUnits:$.Field(function(){return"patternContentUnits";}),PatternTransform:$.Field(function(){return"patternTransform";}),PatternUnits:$.Field(function(){return"patternUnits";}),PointerEvents:$.Field(function(){return"pointer-events";}),Points:$.Field(function(){return"points";}),PointsAtX:$.Field(function(){return"pointsAtX";}),PointsAtY:$.Field(function(){return"pointsAtY";}),PointsAtZ:$.Field(function(){return"pointsAtZ";}),PreserveAlpha:$.Field(function(){return"preserveAlpha";}),PreserveAspectRatio:$.Field(function(){return"preserveAspectRatio";}),PrimitiveUnits:$.Field(function(){return"primitiveUnits";}),R:$.Field(function(){return"r";}),RX:$.Field(function(){return"rx";}),RY:$.Field(function(){return"ry";}),Radius:$.Field(function(){return"radius";}),RepeatCount:$.Field(function(){return"repeatCount";}),RepeatDur:$.Field(function(){return"repeatDur";}),RequiredFeatures:$.Field(function(){return"requiredFeatures";}),Restart:$.Field(function(){return"restart";}),Result:$.Field(function(){return"result";}),Scale:$.Field(function(){return"scale";}),Seed:$.Field(function(){return"seed";}),ShapeRendering:$.Field(function(){return"shape-rendering";}),SpecularConstant:$.Field(function(){return"specularConstant";}),SpecularExponent:$.Field(function(){return"specularExponent";}),StdDeviation:$.Field(function(){return"stdDeviation";}),StitchTiles:$.Field(function(){return"stitchTiles";}),StopColor:$.Field(function(){return"stop-color";}),StopOpacity:$.Field(function(){return"stop-opacity";}),Stroke:$.Field(function(){return"stroke";}),StrokeDashArray:$.Field(function(){return"stroke-dasharray";}),StrokeDashOffset:$.Field(function(){return"stroke-dashoffset";}),StrokeLineCap:$.Field(function(){return"stroke-linecap";}),StrokeLineJoin:$.Field(function(){return"stroke-linejoin";}),StrokeMiterLimit:$.Field(function(){return"stroke-miterlimit";}),StrokeOpacity:$.Field(function(){return"stroke-opacity";}),StrokeWidth:$.Field(function(){return"stroke-width";}),Style:$.Field(function(){return"style";}),SurfaceScale:$.Field(function(){return"surfaceScale";}),TargetX:$.Field(function(){return"targetX";}),TargetY:$.Field(function(){return"targetY";}),TextAnchor:$.Field(function(){return"text-anchor";}),TextDecoration:$.Field(function(){return"text-decoration";}),TextRendering:$.Field(function(){return"text-rendering";}),To:$.Field(function(){return"to";}),Transform:$.Field(function(){return"transform";}),Type:$.Field(function(){return"type";}),Values:$.Field(function(){return"values";}),ViewBox:$.Field(function(){return"viewBox";}),Visibility:$.Field(function(){return"visibility";}),Width:$.Field(function(){return"width";}),WordSpacing:$.Field(function(){return"word-spacing";}),WritingMode:$.Field(function(){return"writing-mode";}),X:$.Field(function(){return"x";}),X1:$.Field(function(){return"x1";}),X2:$.Field(function(){return"x2";}),XChannelSelector:$.Field(function(){return"xChannelSelector";}),Y:$.Field(function(){return"y";}),Y1:$.Field(function(){return"y1";}),Y2:$.Field(function(){return"y2";}),YChannelSelector:$.Field(function(){return"yChannelSelector";}),Z:$.Field(function(){return"z";})},SvgElements:{A:function(oD,oE){return I.SvgElement("a",oD,oE);},AltGlyph:function(oF,oG){return I.SvgElement("altglyph",oF,oG);},AltGlyphDef:function(oH,oI){return I.SvgElement("altglyphdef",oH,oI);},AltGlyphItem:function(oJ,oK){return I.SvgElement("altglyphitem",oJ,oK);},Animate:function(oL,oM){return I.SvgElement("animate",oL,oM);},AnimateColor:function(oN,oO){return I.SvgElement("animatecolor",oN,oO);},AnimateMotion:function(oP,oQ){return I.SvgElement("animatemotion",oP,oQ);},AnimateTransform:function(oR,oS){return I.SvgElement("animatetransform",oR,oS);},Circle:function(oT,oU){return I.SvgElement("circle",oT,oU);},ClipPath:function(oV,oW){return I.SvgElement("clippath",oV,oW);},ColorProfile:function(oX,oY){return I.SvgElement("color-profile",oX,oY);},Cursor:function(oZ,o0){return I.SvgElement("cursor",oZ,o0);},Defs:function(o1,o2){return I.SvgElement("defs",o1,o2);},Desc:function(o3,o4){return I.SvgElement("desc",o3,o4);},Ellipse:function(o5,o6){return I.SvgElement("ellipse",o5,o6);},FeBlend:function(o7,o8){return I.SvgElement("feblend",o7,o8);},FeColorMatrix:function(o9,o_){return I.SvgElement("fecolormatrix",o9,o_);},FeComponentTransfer:function(o$,pa){return I.SvgElement("fecomponenttransfer",o$,pa);},FeComposite:function(pb,pc){return I.SvgElement("fecomposite",pb,pc);},FeConvolveMatrix:function(pd,pe){return I.SvgElement("feconvolvematrix",pd,pe);},FeDiffuseLighting:function(pf,pg){return I.SvgElement("fediffuselighting",pf,pg);},FeDisplacementMap:function(ph,pi){return I.SvgElement("fedisplacementmap",ph,pi);},FeDistantLight:function(pj,pk){return I.SvgElement("fedistantlight",pj,pk);},FeFlood:function(pl,pm){return I.SvgElement("feflood",pl,pm);},FeFuncA:function(pn,po){return I.SvgElement("fefunca",pn,po);},FeFuncB:function(pp,pq){return I.SvgElement("fefuncb",pp,pq);},FeFuncG:function(pr,ps){return I.SvgElement("fefuncg",pr,ps);},FeFuncR:function(pt,pu){return I.SvgElement("fefuncr",pt,pu);},FeGaussianBlur:function(pv,pw){return I.SvgElement("fegaussianblur",pv,pw);},FeImage:function(px,py){return I.SvgElement("feimage",px,py);},FeMerge:function(pz,pA){return I.SvgElement("femerge",pz,pA);},FeMergeNode:function(pB,pC){return I.SvgElement("femergenode",pB,pC);},FeMorphology:function(pD,pE){return I.SvgElement("femorphology",pD,pE);},FeOffset:function(pF,pG){return I.SvgElement("feoffset",pF,pG);},FePointLight:function(pH,pI){return I.SvgElement("fepointlight",pH,pI);},FeSpecularLighting:function(pJ,pK){return I.SvgElement("fespecularlighting",pJ,pK);},FeSpotLight:function(pL,pM){return I.SvgElement("fespotlight",pL,pM);},FeTile:function(pN,pO){return I.SvgElement("fetile",pN,pO);},FeTurbulence:function(pP,pQ){return I.SvgElement("feturbulence",pP,pQ);},Filter:function(pR,pS){return I.SvgElement("filter",pR,pS);},Font:function(pT,pU){return I.SvgElement("font",pT,pU);},FontFace:function(pV,pW){return I.SvgElement("font-face",pV,pW);},FontFaceFormat:function(pX,pY){return I.SvgElement("font-face-format",pX,pY);},FontFaceName:function(pZ,p0){return I.SvgElement("font-face-name",pZ,p0);},FontFaceSrc:function(p1,p2){return I.SvgElement("font-face-src",p1,p2);},FontFaceUri:function(p3,p4){return I.SvgElement("font-face-uri",p3,p4);},ForeignObject:function(p5,p6){return I.SvgElement("foreignobject",p5,p6);},G:function(p7,p8){return I.SvgElement("g",p7,p8);},Glyph:function(p9,p_){return I.SvgElement("glyph",p9,p_);},GlyphRef:function(p$,qa){return I.SvgElement("glyphref",p$,qa);},HKern:function(qb,qc){return I.SvgElement("hkern",qb,qc);},Image:function(qd,qe){return I.SvgElement("image",qd,qe);},Line:function(qf,qg){return I.SvgElement("line",qf,qg);},LinearGradient:function(qh,qi){return I.SvgElement("lineargradient",qh,qi);},MPath:function(qj,qk){return I.SvgElement("mpath",qj,qk);},Marker:function(ql,qm){return I.SvgElement("marker",ql,qm);},Mask:function(qn,qo){return I.SvgElement("mask",qn,qo);},Metadata:function(qp,qq){return I.SvgElement("metadata",qp,qq);},MissingGlyph:function(qr,qs){return I.SvgElement("missing-glyph",qr,qs);},Path:function(qt,qu){return I.SvgElement("path",qt,qu);},Pattern:function(qv,qw){return I.SvgElement("pattern",qv,qw);},Polygon:function(qx,qy){return I.SvgElement("polygon",qx,qy);},Polyline:function(qz,qA){return I.SvgElement("polyline",qz,qA);},RadialGradient:function(qB,qC){return I.SvgElement("radialgradient",qB,qC);},Rect:function(qD,qE){return I.SvgElement("rect",qD,qE);},Script:function(qF,qG){return I.SvgElement("script",qF,qG);},Set:function(qH,qI){return I.SvgElement("set",qH,qI);},Stop:function(qJ,qK){return I.SvgElement("stop",qJ,qK);},Style:function(qL,qM){return I.SvgElement("style",qL,qM);},Svg:function(qN,qO){return I.SvgElement("svg",qN,qO);},Switch:function(qP,qQ){return I.SvgElement("switch",qP,qQ);},Symbol:function(qR,qS){return I.SvgElement("symbol",qR,qS);},TRef:function(qT,qU){return I.SvgElement("tref",qT,qU);},TSpan:function(qV,qW){return I.SvgElement("tspan",qV,qW);},Text:function(qX,qY){return I.SvgElement("text",qX,qY);},TextPath:function(qZ,q0){return I.SvgElement("textpath",qZ,q0);},Title:function(q1,q2){return I.SvgElement("title",q1,q2);},Use:function(q3,q4){return I.SvgElement("use",q3,q4);},VKern:function(q5,q6){return I.SvgElement("vkern",q5,q6);},View:function(q7,q8){return I.SvgElement("view",q7,q8);}},TBody:function(q9,q_){return Y.TBody(q9,q_);},TBody0:function(q$){return Y.TBody($.New(Z,{$:0}),q$);},TD:function(ra,rb){return Y.TD(ra,rb);},TD0:function(rc){return Y.TD($.New(Z,{$:0}),rc);},THead:function(rd,re){return Y.THead(rd,re);},THead0:function(rf){return Y.THead($.New(Z,{$:0}),rf);},TR:function(rg,rh){return Y.TR(rg,rh);},TR0:function(ri){return Y.TR($.New(Z,{$:0}),ri);},Table:function(rj,rk){return Y.Table(rj,rk);},Table0:function(rl){return Y.Table($.New(Z,{$:0}),rl);},UL:function(rm,rn){return Y.UL(rm,rn);},UL0:function(ro){return Y.UL($.New(Z,{$:0}),ro);}},Input:{ActivateButtonListener:$.Field(function(){var rp;rp=function(rq,rr){var rs;rs=rq.button;return rs===0?L.Set(_0.MouseBtnSt().Left,rr):rs===1?L.Set(_0.MouseBtnSt().Middle,rr):rs===2?L.Set(_0.MouseBtnSt().Right,rr):null;};if(!_0.MouseBtnSt().Active){_0.MouseBtnSt().Active=true;S.addEventListener("mousedown",function(rt){return rp(rt,true);},false);return S.addEventListener("mouseup",function(ru){return rp(ru,false);},false);}else{return null;}}),ActivateKeyListener:$.Field(function(){if(!_0.KeyListenerState().KeyListenerActive){R(S).keydown(function(rv){var rw,rx;rw=rv.which;L.Set(_0.KeyListenerState().LastPressed,rw);rx=L.Get(_0.KeyListenerState().KeysPressed);return!e.exists(function(ry){return ry===rw;},rx)?_0.KeyListenerState().KeysPressed.set_Value(J.append(rx,J.ofArray([rw]))):null;});R(S).keyup(function(rz){var rA,rB,rD;rA=rz.which;rB=function(rC){return rC!==rA;};rD=function(rE){return J.filter(rB,rE);};return K.Update(_0.KeyListenerState().KeysPressed,rD);});return;}else{return null;}}),KeyListenerState:$.Field(function(){return{KeysPressed:L.Create($.New(Z,{$:0})),KeyListenerActive:false,LastPressed:L.Create(-1)};}),Keyboard:$.Class({},{IsPressed:function(rF){var rG;_0.ActivateKeyListener();rG=function(rH){return rH===rF;};return x.Map(function(rI){return e.exists(rG,rI);},_0.KeyListenerState().KeysPressed.get_View());},get_KeysPressed:function(){_0.ActivateKeyListener();return _0.KeyListenerState().KeysPressed.get_View();},get_LastPressed:function(){_0.ActivateKeyListener();return _0.KeyListenerState().LastPressed.get_View();}}),Mouse:$.Class({},{get_LeftPressed:function(){_0.ActivateButtonListener();return _0.MouseBtnSt().Left.get_View();},get_MiddlePressed:function(){_0.ActivateButtonListener();return _0.MouseBtnSt().Middle.get_View();},get_MousePressed:function(){_0.ActivateButtonListener();return F.Apply(F.Apply(F.Apply(F.Const(function(rJ){return function(rK){return function(rL){return(rJ?true:rK)?true:rL;};};}),_0.MouseBtnSt().Left.get_View()),_0.MouseBtnSt().Middle.get_View()),_0.MouseBtnSt().Right.get_View());},get_Position:function(){var rM;rM=function(rN){var rO;rO=_0.MousePosSt().PosV;return($.Tupled(function(rP){return L.Set(rO,rP);}))([rN.clientX,rN.clientY]);};if(!_0.MousePosSt().Active){S.addEventListener("mousemove",rM,false);_0.MousePosSt().Active=true;}return x.FromVar(_0.MousePosSt().PosV);},get_RightPressed:function(){_0.ActivateButtonListener();return _0.MouseBtnSt().Right.get_View();}}),MouseBtnSt:$.Field(function(){return{Active:false,Left:L.Create(false),Middle:L.Create(false),Right:L.Create(false)};}),MousePosSt:$.Field(function(){return{Active:false,PosV:L.Create([0,0])};})},Interpolation:$.Class({},{get_Double:function(){return $.New(_1,{$:0});}}),Key:$.Class({},{Fresh:function(){return $.New(_2,{$:0,$0:i.Int()});}}),ListModel:$.Class({},{View:function(rQ){return rQ.View;}}),ListModel1:$.Class({Add:function(rR){var rS,rU=this;rS=this.Var.get_Value();if(!_3.Contains(this.Key,rR,rS)){rS.push(rR);return this.Var.set_Value(rS);}else{rS[n.FindIndex(function(rT){return p.Equals(rU.Key.call(null,rT),rU.Key.call(null,rR));},rS)]=rR;return rU.Var.set_Value(rS);}},Iter:function(rV){return n.iter(rV,this.Var.get_Value());},Remove:function(rW){var rX,rY,rZ;rX=this.Var.get_Value();if(_3.Contains(this.Key,rW,rX)){rY=this.Key;rZ=rY(rW);return this.Var.set_Value(n.filter(function(r0){return!p.Equals(rY(r0),rZ);},rX));}else{return null;}}},{Create:function(r1,r2){var r3;r3=L.Create(e.toArray(e.distinctBy(r1,r2)));return $.New(_4,{Key:r1,Var:r3,View:x.Map(function(r4){return r4.slice();},r3.get_View())});},FromSeq:function(r5){return _4.Create(function(r6){return r6;},r5);}}),ListModels:{Contains:function(r7,r8,r9){var r_;r_=r7(r8);return e.exists(function(r$){return p.Equals(r7(r$),r_);},r9);}},Model1:$.Class({get_View:function(){return _5.View(this);}},{Create:function(sa,sb){var sc;sc=L.Create(sb);return $.New(_5,{$:0,$0:sc,$1:x.Map(sa,sc.get_View())});},Update:function(sd,se){return K.Update(se.$0,function(sf){sd(sf);return sf;});},View:function(sg){return sg.$1;}}),Route:{Append:function(sh,si){return{$:0,$0:s.Append(sh.$0,si.$0)};},FromList:function(sj){return{$:0,$0:s.FromArray(n.ofSeq(sj))};},MakeHash:function(sk){return _6.concat("/",n.map(function(sl){return _7(sl);},s.ToArray(sk.$0)));},NoHash:function(sm){return _6.StartsWith(sm,"#")?sm.substring(1):sm;},ParseHash:function(sn){return{$:0,$0:s.FromArray(n.map(function(so){return _8(so);},_6.SplitChars(_9.NoHash(sn),[47],1)))};},SameHash:function(sp,sq){return _9.NoHash(sp)===_9.NoHash(sq);},ToList:function(sr){return J.ofArray(s.ToArray(sr.$0));}},RouteMap:$.Class({},{Create:function(ss,st){return{Des:st,Ser:ss};},Install:function(su){return _.InstallMap(su);}}),Router:$.Class({},{Prefix:function(sv,sw){return{$:0,$0:sw.$0,$1:ba.Prefix(sv,sw.$1)};},Route:function(sx,sy,sz){return _.DefineRoute(sx,sy,sz);}}),Router1:$.Class({},{Dir:function(sA,sB){return bb.Prefix(sA,bc.Merge(sB));},Install:function(sC,sD){return _.Install(sC,sD);},Merge:function(sE){return _.MergeRouters(sE);}}),Routing:{ComputeBodies:function(sF){var sG;sG=bd.New2();n.iter(function(sH){return sG.set_Item(sH.RouteId,sH);},ba.ToArray(sF));return sG;},DefineRoute:function(sI,sJ,sK){var sL,sM,sN,sO;sL=L.Create(sJ);sM=i.Int();sN=(sK({$:0,$0:sM}))(sL);sO=ba.Leaf({$:0,$0:sM,$1:function(sP){F.Sink(function(sQ){return sP.UpdateRoute.call(null,_.DoLink(sI,sQ));},sL.get_View());return{OnRouteChanged:function(sR){return sL.set_Value(_.DoRoute(sI,sR));},OnSelect:function(){return sP.UpdateRoute.call(null,_.DoLink(sI,sL.get_Value()));},RouteId:sM,RouteValue:sN};}});return{$:0,$0:{$:1,$0:sN},$1:sO};},DoLink:function(sT,sU){return _9.FromList(sT.Ser.call(null,sU));},DoRoute:function(sV,sW){return sV.Des.call(null,_9.ToList(sW));},Install:function(sX,sY){var sZ,s0,s1,s4,s5,s_,ta,tb,tc,te;sZ=sY.$0;s0=sY.$1;s1=_.InstallMap({Des:function(s2){return _9.FromList(s2);},Ser:function(s3){return _9.ToList(s3);}});s4={Bodies:h.U(),CurrentRoute:s1,CurrentSite:0,Selection:h.U()};s5=ba.Map(function(s6){return function(s7){var s8;s8=s7.$0;return s7.$1.call(null,{UpdateRoute:function(s9){return _.OnInternalSiteUpdate(s4,s8,s6,s9);}});};},s0);s4.Bodies=_.ComputeBodies(s5);s_=function(s$){return ba.Lookup(s5,_9.ToList(s$));};ta=s_(s1.get_Value());if(ta.$==0){tc=ta.$0;s4.CurrentSite=tc.RouteId;tb=L.Create(tc.RouteValue);}else{tb=L.Create(sZ.$==1?sZ.$0:N.FailWith("Site.Install fails on empty site"));}s4.Selection=tb;F.Sink(function(td){return _.OnSelectSite(s4,sX(td));},tb.get_View());te=function(tf){var tg;tg=s_(tf);return tg.$==1?null:_.OnGlobalRouteChange(s4,tg.$0,_9.FromList(tg.$1));};te(s1.get_Value());F.Sink(te,s1.get_View());return tb;},InstallMap:function(th){var ti,tk,tl;ti=function(){return th.Des.call(null,_9.ToList(_9.ParseHash(u.location.hash)));};tk=L.Create(ti(null));tl=function(){var tn;tn=ti(null);return!p.Equals(th.Ser.call(null,tk.get_Value()),th.Ser.call(null,tn))?tk.set_Value(tn):null;};u.onpopstate=tl;u.onhashchange=tl;F.Sink(function(to){var tp;tp=_9.MakeHash(_9.FromList(th.Ser.call(null,to)));return!_9.SameHash(u.location.hash,tp)?void(u.location.hash=tp):null;},tk.get_View());return tk;},MergeRouters:function(tq){var tr,ts,tu;tr=e.toArray(tq);ts=ba.Merge(e.map(function(tt){return tt.$1;},tr));tu=e.tryPick(function(tv){return tv.$0;},tr);return ts.$==1?{$:0,$0:tu,$1:ts.$0}:N.FailWith("Invalid Site.Merge: need more prefix disambiguation");},OnGlobalRouteChange:function(tw,tx,ty){if(tw.CurrentSite!==tx.RouteId){tw.CurrentSite=tx.RouteId;tw.Selection.set_Value(tx.RouteValue);}return tx.OnRouteChanged.call(null,ty);},OnInternalSiteUpdate:function(tz,tA,tB,tC){return tz.CurrentSite===tA?_.SetCurrentRoute(tz,_9.Append(_9.FromList(tB),tC)):null;},OnSelectSite:function(tD,tE){var tF;tF=tE.$0;if(tD.CurrentSite!==tF){tD.CurrentSite=tF;return tD.Bodies.get_Item(tF).OnSelect.call(null,null);}else{return null;}},SetCurrentRoute:function(tG,tH){return!p.Equals(tG.CurrentRoute.get_Value(),tH)?tG.CurrentRoute.set_Value(tH):null;}},Snap:{Bind:function(tI,tJ){var tK,tL;tK=be.Create();tL=function(){return be.MarkObsolete(tK);};be.When(tJ,function(tN){var tO;tO=tI(tN);return be.When(tO,function(tP){return(be.IsForever(tO)?be.IsForever(tJ):false)?be.MarkForever(tK,tP):be.MarkReady(tK,tP);},tL);},tL);return tK;},Create:function(){return be.Make({$:3,$0:[],$1:[]});},CreateForever:function(tQ){return be.Make({$:0,$0:tQ});},CreateWithValue:function(tR){return be.Make({$:2,$0:tR,$1:[]});},IsForever:function(tS){return tS.State.$==0?true:false;},IsObsolete:function(tT){return tT.State.$==1?true:false;},Make:function(tU){return{State:tU};},Map:function(tV,tW){var tX,tY;tX=tW.State;if(tX.$==0){return be.CreateForever(tV(tX.$0));}else{tY=be.Create();be.When(tW,function(tZ){return be.MarkDone(tY,tW,tV(tZ));},function(){return be.MarkObsolete(tY);});return tY;}},Map2:function(t1,t2,t3){var t4,t5,t6,t8,t9,t_,t$,ub;t4=[t2.State,t3.State];if(t4[0].$==0){if(t4[1].$==0){t5=t4[1].$0;return be.CreateForever((t1(t4[0].$0))(t5));}else{return be.Map(t1(t4[0].$0),t3);}}else{if(t4[1].$==0){t6=t4[1].$0;return be.Map(function(t7){return(t1(t7))(t6);},t2);}else{t8=be.Create();t9={contents:{$:0}};t_={contents:{$:0}};t$=function(){t9.contents={$:0};t_.contents={$:0};return be.MarkObsolete(t8);};ub=function(){var ud,ue,uf;ud=[t9.contents,t_.contents];if(ud[0].$==1){if(ud[1].$==1){ue=ud[0].$0;uf=ud[1].$0;return(be.IsForever(t2)?be.IsForever(t3):false)?be.MarkForever(t8,(t1(ue))(uf)):be.MarkReady(t8,(t1(ue))(uf));}else{return null;}}else{return null;}};be.When(t2,function(ug){t9.contents={$:1,$0:ug};return ub(null);},t$);be.When(t3,function(uh){t_.contents={$:1,$0:uh};return ub(null);},t$);return t8;}}},MapAsync:function(ui,uj){var uk;uk=be.Create();be.When(uj,function(ul){return bf.StartTo(ui(ul),function(um){return be.MarkDone(uk,uj,um);});},function(){return be.MarkObsolete(uk);});return uk;},MarkDone:function(uo,up,uq){return be.IsForever(up)?be.MarkForever(uo,uq):be.MarkReady(uo,uq);},MarkForever:function(ur,us){var ut,uu;ut=ur.State;if(ut.$==3){uu=ut.$0;ur.State={$:0,$0:us};return o.Iter(function(uv){return uv(us);},uu);}else{return null;}},MarkObsolete:function(uw){var ux,uy,uA;ux=uw.State;if(ux.$==1){return null;}else{if(ux.$==2){uy=ux.$1;uw.State={$:1};return o.Iter(function(uz){return uz(null);},uy);}else{if(ux.$==3){uA=ux.$1;uw.State={$:1};return o.Iter(function(uB){return uB(null);},uA);}else{return null;}}}},MarkReady:function(uC,uD){var uE,uF;uE=uC.State;if(uE.$==3){uF=uE.$0;uC.State={$:2,$0:uD,$1:uE.$1};return o.Iter(function(uG){return uG(uD);},uF);}else{return null;}},SnapshotOn:function(uH,uI){var uJ,uK,uL,uM,uN;uJ=[uH.State,uI.State];if(uJ[1].$==0){return be.CreateForever(uJ[1].$0);}else{uK=be.Create();uL={contents:{$:0}};uM={contents:false};uN=function(){var uP;if(uM.contents){uP=uL.contents;return uP.$==1?be.IsForever(uI)?be.MarkForever(uK,uP.$0):uP.$==1?be.MarkReady(uK,uP.$0):null:uP.$==1?be.MarkReady(uK,uP.$0):null;}else{return null;}};be.When(uH,function(){uM.contents=true;return uN(null);},function(){uL.contents={$:0};return be.MarkObsolete(uK);});be.When(uI,function(uS){uL.contents={$:1,$0:uS};return uN(null);},function(){});return uK;}},When:function(uU,uV,uW){var uX,uY,uZ;uX=uU.State;if(uX.$==1){return uW(null);}else{if(uX.$==2){uY=uX.$0;o.Add(uW,uX.$1);return uV(uY);}else{if(uX.$==3){uZ=uX.$1;o.Add(uV,uX.$0);return o.Add(uW,uZ);}else{return uV(uX.$0);}}}}},Trans1:$.Class({},{AnimateChange:function(u0,u1,u2){return(u0.TChange.call(null,u1))(u2);},AnimateEnter:function(u3,u4){return u3.TEnter.call(null,u4);},AnimateExit:function(u5,u6){return u5.TExit.call(null,u6);},CanAnimateChange:function(u7){return(u7.TFlags&1)!==0;},CanAnimateEnter:function(u8){return(u8.TFlags&2)!==0;},CanAnimateExit:function(u9){return(u9.TFlags&4)!==0;},Change:function(u_,u$){return{TChange:u_,TEnter:u$.TEnter,TExit:u$.TExit,TFlags:u$.TFlags|1};},Create:function(va){return{TChange:va,TEnter:function(vb){return r.Const(vb);},TExit:function(vc){return r.Const(vc);},TFlags:1};},Enter:function(vd,ve){return{TChange:ve.TChange,TEnter:vd,TExit:ve.TExit,TFlags:ve.TFlags|2};},Exit:function(vf,vg){return{TChange:vg.TChange,TEnter:vg.TEnter,TExit:vf,TFlags:vg.TFlags|4};},Trivial:function(){return{TChange:function(){return function(vi){return r.Const(vi);};},TEnter:function(vj){return r.Const(vj);},TExit:function(vk){return r.Const(vk);},TFlags:0};}}),Trie:{AllSome:function(vl){var vm,vn,vo,vp;vm=bg.Get(vl);vn=bi.New1();vo=true;while(vo?vm.MoveNext():false){vp=vm.get_Current();if(vp.$==1){vn.Add(vp.$0);}else{vo=false;}}return vo?{$:1,$0:vn.ToArray()}:{$:0};},Empty:function(){return{$:1};},IsLeaf:function(vq){return vq.$==2?true:false;},Leaf:function(vr){return{$:2,$0:vr};},Look:function(vs,vt){var vu,vv,vw;vu=[vt,vs];if(vu[0].$==2){return{$:0,$0:vu[0].$0,$1:vs};}else{if(vu[0].$==0){if(vu[1].$==1){vv=vu[1].$1;vw=bj.TryFind(vu[1].$0,vu[0].$0);return vw.$==0?{$:1}:ba.Look(vv,vw.$0);}else{return{$:1};}}else{return{$:1};}}},Lookup:function(vx,vy){return ba.Look(e.toList(vy),vx);},Map:function(vz,vA){return ba.MapLoop($.New(Z,{$:0}),vz,vA);},MapLoop:function(vB,vC,vD){var vE;if(vD.$==1){return{$:1};}else{if(vD.$==2){vE=vD.$0;return{$:2,$0:(vC(vB))(vE)};}else{return ba.TrieBranch(bj.Map(function(vF){return function(vG){return ba.MapLoop(J.append(vB,J.ofArray([vF])),vC,vG);};},vD.$0));}}},Mapi:function(vH,vI){var vJ;vJ={contents:0};return ba.Map(function(vK){var vL;vL=vJ.contents;vJ.contents=vL+1;return(vH(vL))(vK);},vI);},Merge:function(vM){var vN,vO;vN=e.toArray(vM);vO=b.GetLength(vN);return vO===0?{$:1,$0:{$:1}}:vO===1?{$:1,$0:vN[0]}:e.exists(function(vP){return ba.IsLeaf(vP);},vN)?{$:0}:w.map(function(vQ){return ba.TrieBranch(vQ);},ba.MergeMaps(function(vR){return ba.Merge(vR);},e.choose(function(vS){return vS.$==0?{$:1,$0:vS.$0}:{$:0};},vN)));},MergeMaps:function(vT,vU){var vV,vX;vV=e.collect(function(vW){return bj.ToSeq(vW);},vU);vX=bj.ToSeq(e.fold(function(vY){return $.Tupled(function(vZ){return ba.MultiAdd(vZ[0],vZ[1],vY);});},bk.New([]),vV));return w.map(function(v0){return bj.OfArray(e.toArray(v0));},ba.AllSome(e.map($.Tupled(function(v1){var v2;v2=v1[0];return w.map(function(v3){return[v2,v3];},vT(v1[1]));}),vX)));},MultiAdd:function(v4,v5,v6){return v6.Add(v4,$.New(Z,{$:1,$0:v5,$1:ba.MultiFind(v4,v6)}));},MultiFind:function(v7,v8){return N.DefaultArg(bj.TryFind(v7,v8),$.New(Z,{$:0}));},Prefix:function(v9,v_){return ba.TrieBranch(bk.New(J.ofArray([[v9,v_]])));},ToArray:function(v$){var wa;wa=[];ba.Map(function(){return function(wc){return o.Add(wc,wa);};},v$);return o.ToArray(wa);},TrieBranch:function(wd){return wd.get_IsEmpty()?{$:1}:{$:0,$0:wd};}},UINextPagelet:$.Class({Render:function(){return I.RunById(this.divId,this.doc);},get_Body:function(){return this.body;}},{New:function(we){var wf;wf=$.New(this,{});wf.doc=we;wf.divId=i.Id();wf.body=bm.Div(J.ofArray([bm.Id(wf.divId)])).Body;return wf;}}),Var:$.Class({},{GetId:function(wg){return wg.Id;},Observe:function(wh){return wh.Snap;},SetFinal:function(wi,wj){if(wi.Const){return null;}else{wi.Const=true;wi.Current=wj;wi.Snap=be.CreateForever(wj);return;}},Update:function(wk,wl){return L.Set(wk,wl(L.Get(wk)));}}),Var1:$.Class({get_Value:function(){return L.Get(this);},get_View:function(){return x.FromVar(this);},set_Value:function(wm){return L.Set(this,wm);}},{Create:function(wn){return $.New(L,{Const:false,Current:wn,Snap:be.CreateWithValue(wn),Id:i.Int()});},Get:function(wo){return wo.Current;},Set:function(wp,wq){if(wp.Const){return null;}else{be.MarkObsolete(wp.Snap);wp.Current=wq;wp.Snap=be.CreateWithValue(wq);return;}}}),View:$.Class({},{Apply:function(wr,ws){return x.Map2(function(wt){return function(wu){return wt(wu);};},wr,ws);},Bind:function(wv,ww){return F.Join(x.Map(wv,ww));},Const:function(wx){var wy;wy=be.CreateForever(wx);return{$:0,$0:function(){return wy;}};},ConvertSeq:function(wA,wB){return x.ConvertSeqBy(function(wC){return wC;},wA,wB);},Join:function(wD){var wE;wE=wD.$0;return x.CreateLazy(function(){return be.Bind(function(wG){return wG.$0.call(null,null);},wE(null));});},Sink:function(wH,wI){var wJ,wK;wJ=wI.$0;wK=function(){return be.When(wJ(null),wH,function(){return bf.Schedule(wK);});};return bf.Schedule(wK);}}),View1:$.Class({},{Convert:function(wN,wO){return x.ConvertBy(function(wP){return wP;},wN,wO);},ConvertBy:function(wQ,wR,wS){var wT;wT={contents:bd.New2()};return x.Map(function(wU){var wV,wW,wX;wV=wT.contents;wW=bd.New2();wX=n.map(function(wY){var wZ,w0;wZ=wQ(wY);w0=wV.ContainsKey(wZ)?wV.get_Item(wZ):wR(wY);wW.set_Item(wZ,w0);return w0;},e.toArray(wU));wT.contents=wW;return wX;},wS);},ConvertSeqBy:function(w1,w2,w3){var w4;w4={contents:bd.New2()};return x.Map(function(w5){var w6,w7,w8;w6=w4.contents;w7=bd.New2();w8=n.map(function(w9){var w_,w$,xa;w_=w1(w9);if(w6.ContainsKey(w_)){xa=w6.get_Item(w_);L.Set(xa.NVar,w9);w$=xa;}else{w$=x.ConvertSeqNode(w2,w9);}w7.set_Item(w_,w$);return w$.NValue;},e.toArray(w5));w4.contents=w7;return w8;},w3);},ConvertSeqNode:function(xb,xc){var xd,xe;xd=L.Create(xc);xe=x.FromVar(xd);return{NValue:xb(xe),NVar:xd,NView:xe};},CreateLazy:function(xf){var xg;xg={contents:{$:0}};return{$:0,$0:function(){var xi,xj,xk;xi=xg.contents;if(xi.$==1){if(!be.IsObsolete(xi.$0)){return xi.$0;}else{xj=xf(null);xg.contents={$:1,$0:xj};return xj;}}else{xk=xf(null);xg.contents={$:1,$0:xk};return xk;}}};},CreateLazy2:function(xl,xm,xn){var xo,xp;xo=xm.$0;xp=xn.$0;return x.CreateLazy(function(){var xr,xs;xr=xo(null);xs=xp(null);return(xl(xr))(xs);});},FromVar:function(xt){return{$:0,$0:function(){return K.Observe(xt);}};},Map:function(xv,xw){var xx;xx=xw.$0;return x.CreateLazy(function(){return be.Map(xv,xx(null));});},Map2:function(xz,xA,xB){return x.CreateLazy2(function(xC){return function(xD){return be.Map2(xz,xC,xD);};},xA,xB);},MapAsync:function(xE,xF){var xG;xG=xF.$0;return x.CreateLazy(function(){return be.MapAsync(xE,xG(null));});},SnapshotOn:function(xI,xJ,xK){var xL,xM,xN,xO;xL=xJ.$0;xM=xK.$0;xN=be.CreateWithValue(xI);xO={contents:false};return x.CreateLazy(function(){var xQ,xR;xQ=xL(null);xR=xM(null);if(xO.contents){return be.SnapshotOn(xQ,xR);}else{be.When(be.SnapshotOn(xQ,xR),function(){return null;},function(){if(!xO.contents){xO.contents=true;return be.MarkObsolete(xN);}else{return null;}});return xN;}});},UpdateWhile:function(xU,xV,xW){var xX;xX={contents:xU};return x.Map2(function(xY){return function(xZ){if(xY){xX.contents=xZ;}return xX.contents;};},xV,xW);},get_Do:function(){return $.New(bn,{$:0});}}),ViewBuilder:$.Class({Bind:function(x0,x1){return F.Bind(x1,x0);},Return:function(x2){return F.Const(x2);}})}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.IntrinsicFunctionProxy);c=$.Safe(a.Concurrency);d=$.Safe($$.Array);e=$.Safe(a.Seq);f=$.Safe(a.UI);g=$.Safe(f.Next);h=$.Safe(g.Abbrev);i=$.Safe(h.Fresh);j=$.Safe(a.Collections);k=$.Safe(j.HashSet);l=$.Safe(k.HashSet);m=$.Safe(h.HashSet);n=$.Safe(a.Arrays);o=$.Safe(h.JQueue);p=$.Safe(a.Unchecked);q=$.Safe(h.Slot);r=$.Safe(g.An);s=$.Safe(g.AppendList);t=$.Safe(g.Anims);u=$.Safe($$.window);v=$.Safe(g.Trans1);w=$.Safe(a.Option);x=$.Safe(g.View1);y=$.Safe(a.Lazy);z=$.Safe(h.Array);A=$.Safe(g.Attrs);B=$.Safe(g.DomUtility);C=$.Safe(g.Attr);D=$.Safe(g.AnimatedAttrNode);E=$.Safe(g.DynamicAttrNode);F=$.Safe(g.View);G=$.Safe(g.Docs);H=$.Safe(g.UINextPagelet);I=$.Safe(g.Doc);J=$.Safe(a.List);K=$.Safe(g.Var);L=$.Safe(g.Var1);M=$.Safe(h.Mailbox);N=$.Safe(a.Operators);O=$.Safe(G.NodeSet);P=$.Safe(g.DocElemNode);Q=$.Safe(G.DomNodes);R=$.Safe($$.jQuery);S=$.Safe($$.document);T=$.Safe(g.Easing);U=$.Safe(g.Easings);V=$.Safe(g.FlowBuilder);W=$.Safe(g.Flow);X=$.Safe(g.Html);Y=$.Safe(X.Elements);Z=$.Safe(J.T);_0=$.Safe(g.Input);_1=$.Safe(g.DoubleInterpolation);_2=$.Safe(g.Key);_3=$.Safe(g.ListModels);_4=$.Safe(g.ListModel1);_5=$.Safe(g.Model1);_6=$.Safe(a.Strings);_7=$.Safe($$.encodeURIComponent);_8=$.Safe($$.decodeURIComponent);_9=$.Safe(g.Route);_=$.Safe(g.Routing);ba=$.Safe(g.Trie);bb=$.Safe(g.Router);bc=$.Safe(g.Router1);bd=$.Safe(j.Dictionary);be=$.Safe(g.Snap);bf=$.Safe(h.Async);bg=$.Safe(a.Enumerator);bh=$.Safe(j.ResizeArray);bi=$.Safe(bh.ResizeArrayProxy);bj=$.Safe(j.MapModule);bk=$.Safe(j.FSharpMap);bl=$.Safe(a.Html);bm=$.Safe(bl.Default);bn=$.Safe(g.ViewBuilder);bo=$.Safe(X.Attributes);return bp=$.Safe(X.SvgAttributes);});$.OnLoad(function(){_0.MousePosSt();_0.MouseBtnSt();_0.KeyListenerState();_0.ActivateKeyListener();_0.ActivateButtonListener();bp.Z();bp.YChannelSelector();bp.Y2();bp.Y1();bp.Y();bp.XChannelSelector();bp.X2();bp.X1();bp.X();bp.WritingMode();bp.WordSpacing();bp.Width();bp.Visibility();bp.ViewBox();bp.Values();bp.Type();bp.Transform();bp.To();bp.TextRendering();bp.TextDecoration();bp.TextAnchor();bp.TargetY();bp.TargetX();bp.SurfaceScale();bp.Style();bp.StrokeWidth();bp.StrokeOpacity();bp.StrokeMiterLimit();bp.StrokeLineJoin();bp.StrokeLineCap();bp.StrokeDashOffset();bp.StrokeDashArray();bp.Stroke();bp.StopOpacity();bp.StopColor();bp.StitchTiles();bp.StdDeviation();bp.SpecularExponent();bp.SpecularConstant();bp.ShapeRendering();bp.Seed();bp.Scale();bp.Result();bp.Restart();bp.RequiredFeatures();bp.RepeatDur();bp.RepeatCount();bp.Radius();bp.RY();bp.RX();bp.R();bp.PrimitiveUnits();bp.PreserveAspectRatio();bp.PreserveAlpha();bp.PointsAtZ();bp.PointsAtY();bp.PointsAtX();bp.Points();bp.PointerEvents();bp.PatternUnits();bp.PatternTransform();bp.PatternContentUnits();bp.PathLength();bp.PaintOrder();bp.Overflow();bp.Order();bp.Operator();bp.Opacity();bp.NumOctaves();bp.Mode();bp.Min();bp.Max();bp.MaskUnits();bp.MaskContentUnits();bp.Mask();bp.MarkerWidth();bp.MarkerUnits();bp.MarkerStart();bp.MarkerMid();bp.MarkerHeight();bp.MarkerEnd();bp.Local();bp.LimitingConeAngle();bp.LightingColor();bp.LetterSpacing();bp.KeyTimes();bp.KeySplines();bp.Kerning();bp.KernelUnitLength();bp.KernelMatrix();bp.K4();bp.K3();bp.K2();bp.K1();bp.In2();bp.ImageRendering();bp.IN();bp.Height();bp.GradientUnits();bp.GradientTransform();bp.From();bp.FontWeight();bp.FontVariant();bp.FontStyle();bp.FontStretch();bp.FontSizeAdjust();bp.FontSize();bp.FontFamily();bp.FloodOpacity();bp.FloodColor();bp.FilterUnits();bp.FilterRes();bp.Filter();bp.FillRule();bp.FillOpacity();bp.Fill();bp.ExternalResourcesRequired();bp.End();bp.Elevation();bp.EdgeMode();bp.Dur();bp.DominantBaseline();bp.Divisor();bp.Display();bp.Direction();bp.DiffuseConstant();bp.DY();bp.DX();bp.D();bp.Cursor();bp.ContentStyleType();bp.ContentScriptType();bp.ColorRendering();bp.ColorProfile();bp.ColorInterpolationFilters();bp.ColorInterpolation();bp.Color();bp.ClipRule();bp.ClipPathUnits();bp.ClipPath();bp.Clip();bp.Class();bp.CalcMode();bp.CY();bp.CX();bp.Bias();bp.Begin();bp.BaselineShift();bp.BaseFrequency();bp.Azimuth();bp.AttributeType();bp.AttributeName();bp.Ascent();bp.AlignmentBaseline();bp.Additive();bp.Accumulate();bp.AccentHeight();bo.Wrap();bo.Width();bo.Value();bo.Usemap();bo.Type();bo.Title();bo.Target();bo.TabIndex();bo.Summary();bo.Style();bo.Step();bo.Start();bo.Srcdoc();bo.SrcLang();bo.Src();bo.Spellcheck();bo.Span();bo.Sizes();bo.Size();bo.Shape();bo.Selected();bo.Seamless();bo.Scoped();bo.Scope();bo.Sandbox();bo.Rows();bo.RowSpan();bo.Reversed();bo.Required();bo.Rel();bo.Readonly();bo.RadioGroup();bo.PubDate();bo.Preload();bo.Poster();bo.Placeholder();bo.Ping();bo.Pattern();bo.Optimum();bo.Open();bo.NoValidate();bo.Name();bo.Multiple();bo.Min();bo.Method();bo.Media();bo.MaxLength();bo.Max();bo.Manifest();bo.Low();bo.Loop();bo.List();bo.Language();bo.Lang();bo.Label();bo.Kind();bo.KeyType();bo.ItemProp();bo.IsMap();bo.Icon();bo.ID();bo.HttpEquiv();bo.HrefLang();bo.Href();bo.High();bo.Hidden();bo.Height();bo.Headers();bo.FormAction();bo.Form();bo.For();bo.EncType();bo.Dropzone();bo.Draggable();bo.Download();bo.Disabled();bo.DirName();bo.Dir();bo.Defer();bo.Default();bo.Datetime();bo.Coords();bo.Controls();bo.ContextMenu();bo.ContentEditable();bo.Content();bo.Cols();bo.Color();bo.ColSpan();bo.Codebase();bo.Code();bo.Class();bo.Cite();bo.Checked();bo.Charset();bo.Challenge();bo.Buffered();bo.Border();bo.BgColor();bo.AutoSave();bo.AutoPlay();bo.AutoFocus();bo.AutoComplete();bo.Async();bo.Alt();bo.Align();bo.Action();bo.Accesskey();bo.AcceptCharset();bo.Accept();U.CubicInOut();B.Doc();A.EmptyAttr();i.counter();return;});}());

(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo;$.Define($$,{IntelliFactory:{WebSharper:{UI:{Next:{AnimatedBobsleighSite:{Fade:$.Field(function(){var bp,bq,br;bp=d.get_Double();bq=e.get_CubicInOut();br=f.fadeTime();return function(bs){return function(bt){return g.Simple(bp,bq,br,bs,bt);};};}),FadeTransition:$.Field(function(){return h.Exit(function(){return((f.Fade())(1))(0);},h.Enter(function(){return((f.Fade())(0))(1);},h.Create(f.Fade())));}),GlobalGo:function(bv,bw){return i.Set(bv,bw);},Governance:function(){return j.Concat(k.ofArray([l.Div0(k.ofArray([l.H10(k.ofArray([m.txt("Governance")])),l.P0(k.ofArray([m.txt("The sport is overseen by the "),m.href("International Bobsleigh and Skeleton Federation","http://www.fibt.com/"),m.txt(", an organisation founded in 1923. The organisation governs all international competitions, acting as a body to regulate athletes' conduct, as well as providing funding for training and education.")]))]))]));},History:function(){return j.Concat(k.ofArray([l.Div0(k.ofArray([l.H10(k.ofArray([m.txt("History")])),l.P0(k.ofArray([m.txt("According to "),m.href("Wikipedia","http://en.wikipedia.org/wiki/Bobsleigh"),m.txt(", the beginnings of bobsleigh came about due to a hotelier becoming increasingly frustrated about having entire seasons where he could not rent out his properties. In response, he got a few people interested, and the Swiss town of St Moritz became the home of the first bobsleigh races.")])),l.P0(k.ofArray([m.txt("Bobsleigh races have been a regular event at the Winter Olympics since the very first competition in 1924.")]))]))]));},HomePage:function(bz){return j.Concat(k.ofArray([l.Div0(k.ofArray([l.H10(k.ofArray([m.txt("Welcome!")])),l.P0(k.ofArray([m.txt("Welcome to the IntelliFactory Bobsleigh MiniSite!")])),l.P0(k.ofArray([m.txt("Here you can find out about the "),m.link("history",$.New(n,{$:0}),function(){return bz.Go.call(null,{$:1});}),m.txt(" of bobsleighs, the "),m.link("International Bobsleigh and Skeleton Federation",$.New(n,{$:0}),function(){return bz.Go.call(null,{$:2});}),m.txt(", which serve as the governing body for the sport, and finally the world-famous "),m.link("IntelliFactory Bobsleigh Team.",$.New(n,{$:0}),function(){return bz.Go.call(null,{$:3});})]))]))]));},Main:function(){var bD,bE;bD=i.Create({$:0});bE={Go:function(bF){return i.Set(bD,bF);}};return j.EmbedView(o.Map(function(bG){return f.MakePage(bD,bG.$==1?f.History(bE):bG.$==2?f.Governance(bE):bG.$==3?f.Team(bE):f.HomePage(bE));},o.FromVar(bD)));},MakePage:function(bH,bI){var bJ;bJ=function(bK){return $$.String(bK);};return j.Concat(k.ofArray([f.NavBar(bH),l.Div(k.ofArray([p.AnimatedStyle("opacity",f.FadeTransition(),q.Const(1),bJ)]),k.ofArray([bI]))]));},NavBar:function(bL){var bM;bM=o.FromVar(bL);return j.EmbedView(o.Map(function(bN){var bO;bO=function(bP){return l.LI(k.ofArray([r.Equals(bP,bN)?m.cls("active"):p.get_Empty()]),k.ofArray([m.link(f.showAct(bP),$.New(n,{$:0}),function(){return f.GlobalGo(bL,bP);})]));};return l.Nav(k.ofArray([m.cls("navbar"),m.cls("navbar-default"),p.Create("role","navigation")]),k.ofArray([l.UL(k.ofArray([m.cls("nav"),m.cls("navbar-nav")]),k.ofArray([j.Concat(k.map(bO,f.pages()))]))]));},bM));},Sample:$.Field(function(){return s.Build().Id("AnimatedBobsleighSite").FileName("AnimatedBobsleighSite.fs").Keywords(k.ofArray(["text"])).Render(function(){return f.Main();}).RenderDescription(function(){return f.description();}).Create();}),Team:function(){var bU;bU=k.ofArray([["Adam","granicz"],["Andrs","AndrasJanko"],["Anton (honourary member for life)","t0yv0"],["Istvn","inchester23"],["Loic","tarmil_"],["Sndor","sandorrakonczai"],["Simon","Simon_JF"]]);return j.Concat(k.ofArray([l.Div0(k.ofArray([l.H10(k.ofArray([m.txt("The IntelliFactory Bobsleigh Team")])),l.P0(k.ofArray([m.txt("The world-famous IntelliFactory Bobsleigh Team was founded in 2004, and currently consists of:")])),l.UL0(k.ofArray([j.Concat(k.map($.Tupled(function(bV){return l.LI0(k.ofArray([m.href(bV[0],"http://www.twitter.com/"+bV[1])]));}),bU))]))]))]));},description:function(){return l.Div0(k.ofArray([m.txt("A small website about bobsleighs, demonstrating how UI.Next may be used to structure single-page applications.")]));},fadeTime:$.Field(function(){return 300;}),pages:$.Field(function(){return k.ofArray([{$:0},{$:1},{$:2},{$:3}]);}),showAct:function(bW){return bW.$==1?"History":bW.$==2?"Governance":bW.$==3?"The IntelliFactory Bobsleigh Team":"Home";}},AnimatedContactFlow:{AnimateFlow:function(bX){var bY,b0;bY=function(bZ){return $$.String(bZ);};b0=function(b1){return $$.String(b1)+"px";};return l.Div(k.ofArray([p.Style("position","relative"),p.AnimatedStyle("opacity",t.FadeTransition(),q.Const(1),bY),p.AnimatedStyle("left",t.SwipeTransition(),q.Const(0),b0)]),k.ofArray([bX]));},Description:function(){return l.Div0(k.ofArray([j.TextNode("A WS.UI.Next flowlet implementation.")]));},ExampleFlow:function(){var b2;b2=u.get_Do();return v.Embed(b2.Bind(t.personFlowlet(),function(b3){return b2.Bind(t.contactTypeFlowlet(),function(b4){return b2.Bind(t.contactFlowlet(b4),function(b5){return b2.ReturnFrom(v.Static(t.finalPage(b3,b5)));});});}));},Fade:$.Field(function(){var b6,b7,b8;b6=d.get_Double();b7=e.get_CubicInOut();b8=t.fadeTime();return function(b9){return function(b_){return g.Simple(b6,b7,b8,b9,b_);};};}),FadeTransition:$.Field(function(){return h.Exit(function(){return((t.Fade())(1))(0);},h.Enter(function(){return((t.Fade())(0))(1);},h.Create(t.Fade())));}),Sample:$.Field(function(){return s.Build().Id("AnimatedContactFlow").FileName("AnimatedContactFlow.fs").Keywords(k.ofArray(["flowlet"])).Render(function(){return t.ExampleFlow();}).RenderDescription(function(){return t.Description();}).Create();}),Swipe:$.Field(function(){var cd,ce,cf;cd=d.get_Double();ce=e.get_CubicInOut();cf=t.swipeTime();return function(cg){return function(ch){return g.Simple(cd,ce,cf,cg,ch);};};}),SwipeTransition:$.Field(function(){return h.Exit(function(){return((t.Swipe())(0))(400);},h.Create(t.Swipe()));}),contactFlowlet:function(cj){var ck,cn,co;ck=cj.$==1?["Phone Number",function(cl){return{$:1,$0:cl};}]:["E-Mail Address",function(cm){return{$:0,$0:cm};}];cn=ck[0];co=ck[1];return v.Define(function(cp){var cq,cr;cq=i.Create("");cr=function(){return cp(co(i.Get(cq)));};return t.AnimateFlow(l.Form(k.ofArray([m.cls("form-horizontal"),m.op_EqualsEqualsGreater("role","form")]),k.ofArray([t.inputRow(cq,"contact",cn),l.Div(k.ofArray([m.cls("form-group")]),k.ofArray([l.Div(k.ofArray([m.cls("col-sm-offset-2"),m.cls("col-sm-10")]),k.ofArray([j.Button("Finish",k.ofArray([m.cls("btn"),m.cls("btn-default")]),cr)]))]))])));});},contactTypeFlowlet:$.Field(function(){return v.Define(function(ct){var cu,cw;cu=function(){return ct({$:0});};cw=function(){return ct({$:1});};return t.AnimateFlow(l.Form(k.ofArray([m.cls("form-horizontal"),m.op_EqualsEqualsGreater("role","form")]),k.ofArray([l.Div(k.ofArray([m.cls("form-group")]),k.ofArray([l.Div0(k.ofArray([j.Button("E-Mail Address",k.ofArray([m.cls("btn"),m.cls("btn-default")]),cu)])),l.Div0(k.ofArray([j.Button("Phone Number",k.ofArray([m.cls("btn"),m.cls("btn-default")]),cw)]))]))])));});}),fadeTime:$.Field(function(){return 300;}),finalPage:function(cy,cz){var cA;cA=cz.$==1?"the phone number "+cz.$0:"the e-mail address "+cz.$0;return t.AnimateFlow(l.Div0(k.ofArray([j.TextNode("You said your name was "+cy.Name+", your address was "+cy.Address+", "),j.TextNode(" and you provided "+cA+".")])));},inputRow:function(cB,cC,cD){return l.Div(k.ofArray([m.cls("form-group")]),k.ofArray([l.Label(k.ofArray([m.op_EqualsEqualsGreater("for",cC),m.cls("col-sm-2"),m.cls("control-label")]),k.ofArray([j.TextNode(cD)])),l.Div(k.ofArray([m.cls("col-sm-10")]),k.ofArray([j.Input(k.ofArray([m.op_EqualsEqualsGreater("type","text"),m.cls("form-control"),m.op_EqualsEqualsGreater("id",cC),m.op_EqualsEqualsGreater("placeholder",cD)]),cB)]))]));},personFlowlet:$.Field(function(){return v.Define(function(cE){var cF,cG,cH;cF=i.Create("");cG=i.Create("");cH=function(){return cE({Name:i.Get(cF),Address:i.Get(cG)});};return t.AnimateFlow(l.Form(k.ofArray([m.cls("form-horizontal"),m.op_EqualsEqualsGreater("role","form")]),k.ofArray([t.inputRow(cF,"lblName","Name"),t.inputRow(cG,"lblAddr","Address"),l.Div(k.ofArray([m.cls("form-group")]),k.ofArray([l.Div(k.ofArray([m.cls("col-sm-offset-2"),m.cls("col-sm-10")]),k.ofArray([j.Button("Next",k.ofArray([m.cls("btn"),m.cls("btn-default")]),cH)]))]))])));});}),swipeTime:$.Field(function(){return 300;})},BobsleighSite:{GlobalGo:function(cJ,cK){return i.Set(cJ,cK);},Governance:function(){return j.Concat(k.ofArray([l.Div0(k.ofArray([l.H10(k.ofArray([m.txt("Governance")])),l.P0(k.ofArray([m.txt("The sport is overseen by the "),m.href("International Bobsleigh and Skeleton Federation","http://www.fibt.com/"),m.txt(", an organisation founded in 1923. The organisation governs all international competitions, acting as a body to regulate athletes' conduct, as well as providing funding for training and education.")]))]))]));},History:function(){return j.Concat(k.ofArray([l.Div0(k.ofArray([l.H10(k.ofArray([m.txt("History")])),l.P0(k.ofArray([m.txt("According to "),m.href("Wikipedia","http://en.wikipedia.org/wiki/Bobsleigh"),m.txt(", the beginnings of bobsleigh came about due to a hotelier becoming increasingly frustrated about having entire seasons where he could not rent out his properties. In response, he got a few people interested, and the Swiss town of St Moritz became the home of the first bobsleigh races.")])),l.P0(k.ofArray([m.txt("Bobsleigh races have been a regular event at the Winter Olympics since the very first competition in 1924.")]))]))]));},HomePage:function(cN){return j.Concat(k.ofArray([l.Div0(k.ofArray([l.H10(k.ofArray([m.txt("Welcome!")])),l.P0(k.ofArray([m.txt("Welcome to the IntelliFactory Bobsleigh MiniSite!")])),l.P0(k.ofArray([m.txt("Here you can find out about the "),m.link("history",$.New(n,{$:0}),function(){return cN.Go.call(null,{$:1});}),m.txt(" of bobsleighs, the "),m.link("International Bobsleigh and Skeleton Federation",$.New(n,{$:0}),function(){return cN.Go.call(null,{$:2});}),m.txt(", which serve as the governing body for the sport, and finally the world-famous "),m.link("IntelliFactory Bobsleigh Team.",$.New(n,{$:0}),function(){return cN.Go.call(null,{$:3});})]))]))]));},Main:function(){var cR,cS,cT,cV;cR=i.Create({$:0});cS=w.NavBar(cR);cT=function(cU){return j.Append(cS,cU);};cV={Go:function(cW){return i.Set(cR,cW);}};return j.EmbedView(o.Map(function(cX){return cX.$==1?cT(w.History(cV)):cX.$==2?cT(w.Governance(cV)):cX.$==3?cT(w.Team(cV)):cT(w.HomePage(cV));},o.FromVar(cR)));},NavBar:function(cY){var cZ;cZ=o.FromVar(cY);return j.EmbedView(o.Map(function(c0){var c1;c1=function(c2){return l.LI(k.ofArray([r.Equals(c2,c0)?m.cls("active"):p.get_Empty()]),k.ofArray([m.link(w.showAct(c2),$.New(n,{$:0}),function(){return w.GlobalGo(cY,c2);})]));};return l.Nav(k.ofArray([m.cls("navbar"),m.cls("navbar-default"),p.Create("role","navigation")]),k.ofArray([l.UL(k.ofArray([m.cls("nav"),m.cls("navbar-nav")]),k.ofArray([j.Concat(k.map(c1,w.pages()))]))]));},cZ));},Sample:$.Field(function(){return s.Build().Id("BobsleighMiniSite").FileName("BobsleighSite.fs").Keywords(k.ofArray(["text"])).Render(function(){return w.Main();}).RenderDescription(function(){return w.description();}).Create();}),Team:function(){var c7;c7=k.ofArray([["Adam","granicz"],["Andrs","AndrasJanko"],["Anton (honourary member for life)","t0yv0"],["Istvn","inchester23"],["Loic","tarmil_"],["Sndor","sandorrakonczai"],["Simon","Simon_JF"]]);return j.Concat(k.ofArray([l.Div0(k.ofArray([l.H10(k.ofArray([m.txt("The IntelliFactory Bobsleigh Team")])),l.P0(k.ofArray([m.txt("The world-famous IntelliFactory Bobsleigh Team was founded in 2004, and currently consists of:")])),l.UL0(k.ofArray([j.Concat(k.map($.Tupled(function(c8){return l.LI0(k.ofArray([m.href(c8[0],"http://www.twitter.com/"+c8[1])]));}),c7))]))]))]));},description:function(){return l.Div0(k.ofArray([m.txt("A small website about bobsleighs, demonstrating how UI.Next may be used to structure single-page applications.")]));},pages:$.Field(function(){return k.ofArray([{$:0},{$:1},{$:2},{$:3}]);}),showAct:function(c9){return c9.$==1?"History":c9.$==2?"Governance":c9.$==3?"The IntelliFactory Bobsleigh Team":"Home";}},Calculator:{Description:function(){return l.Div0(k.ofArray([j.TextNode("A calculator application")]));},Main:function(){return x.calcView(i.Create(x.initCalc()));},Sample:$.Field(function(){return s.Build().Id("Calculator").FileName("Calculator.fs").Keywords(k.ofArray(["calculator"])).Render(function(){return x.Main();}).RenderDescription(function(){return x.Description();}).Create();}),cBtn:function(da){var db;db=function(){return i.Set(da,x.initCalc());};return j.Button("C",$.New(n,{$:0}),db);},calcBtn:function(dd,de){var df;df=function(){return x.pushInt(dd,de);};return j.Button($$.String(dd),$.New(n,{$:0}),df);},calcView:function(dh){var di,dj,dl,dn,_do;di=o.FromVar(dh);dj=function(dk){return x.calcBtn(dk,dh);};dl=function(dm){return x.opBtn(dm,dh);};dn=x.cBtn(dh);_do=x.eqBtn(dh);return l.Div0(k.ofArray([j.TextView(x.displayCalc(dh)),l.Div0(k.ofArray([dj(1),dj(2),dj(3),dl({$:0})])),l.Div0(k.ofArray([dj(4),dj(5),dj(6),dl({$:1})])),l.Div0(k.ofArray([dj(7),dj(8),dj(9),dl({$:2})])),l.Div0(k.ofArray([dj(0),dn,_do,dl({$:3})]))]));},calculate:function(dp){return y.Update(dp,function(dq){return{Memory:0,Operand:((x.opFn(dq.Operation))(dq.Memory))(dq.Operand),Operation:{$:0}};});},displayCalc:function(dr){return o.Map(function(ds){return $$.String(ds.Operand);},o.FromVar(dr));},eqBtn:function(dt){var du;du=function(){return x.calculate(dt);};return j.Button("=",$.New(n,{$:0}),du);},initCalc:$.Field(function(){return{Memory:0,Operand:0,Operation:{$:0}};}),opBtn:function(dw,dx){var dy;dy=function(){return x.shiftToMem(dw,dx);};return j.Button(x.showOp(dw),$.New(n,{$:0}),dy);},opFn:function(dA){return dA.$==1?function(dB){return function(dC){return dB-dC;};}:dA.$==2?function(dD){return function(dE){return dD*dE;};}:dA.$==3?function(dF){return function(dG){return dF/dG>>0;};}:function(dH){return function(dI){return dH+dI;};};},pushInt:function(dJ,dK){return y.Update(dK,function(dL){return{Memory:dL.Memory,Operand:dL.Operand*10+dJ,Operation:dL.Operation};});},shiftToMem:function(dM,dN){return y.Update(dN,function(dO){return{Memory:dO.Operand,Operand:0,Operation:dM};});},showOp:function(dP){return dP.$==1?"-":dP.$==2?"*":dP.$==3?"/":"+";}},CheckBoxTest:{Description:function(){return l.Div0(k.ofArray([j.TextNode("An application which shows the selected values.")]));},Main:function(){var dQ,dR,dT,dX,dY,dZ,d0,d1;dQ=i.Create($.New(n,{$:0}));dR=l.Div0(k.ofArray([j.Concat(k.map(function(dS){return l.Div0(k.ofArray([j.CheckBox($.New(n,{$:0}),dS,dQ),j.TextNode(dS.Name)]));},z.People()))]));dT=function(dU){return A.fold(function(dV){return function(dW){return dV+dW.Name+", ";};},"",dU);};dX=o.FromVar(dQ);dY=o.Map(dT,dX);dZ=j.TextView(dY);d0=l.Div0(k.ofArray([dR,dZ]));d1=i.Create({$:0});return l.Div0(k.ofArray([d0,l.Div0(k.ofArray([j.Concat(k.map(function(d2){return l.Div0(k.ofArray([j.Radio($.New(n,{$:0}),d2,d1),j.TextNode(z.showRestaurant(d2))]));},k.ofArray([{$:2},{$:1},{$:0},{$:3}]))),j.TextView(o.Map(function(d3){return z.showRestaurant(d3);},d1.get_View()))]))]));},People:$.Field(function(){return k.ofArray([B.Create("Simon",22),B.Create("Peter",18),B.Create("Clare",50),B.Create("Andy",51)]);}),Person:$.Class({},{Create:function(d4,d5){return $.New(B,{Name:d4,Age:d5});}}),Sample:$.Field(function(){return s.Build().Id("CheckBoxesTest").FileName("CheckBoxTest.fs").Keywords(k.ofArray(["todo"])).Render(function(){return z.Main();}).RenderDescription(function(){return z.Description();}).Create();}),showRestaurant:function(d8){return d8.$==1?"Suszterinas":d8.$==2?"Csiga":d8.$==3?"Stex":"Jelen";}},Client:{Main:$.Field(function(){return C.Main(k.ofArray([D.Sample(),E.Sample(),F.Sample(),G.Sample(),H.Sample(),z.Sample(),x.Sample(),I.Sample(),t.Sample(),J.Sample(),w.Sample(),K.Sample(),f.Sample(),L.Sample(),M.Sample(),N.Sample()]));})},Common:{CreatePost:function(d9,d_){return{PostId:P.Int(),PostAuthorName:d9.Name,Content:d_};},CreateThread:function(d$,ea){return{ThreadId:P.Int(),Title:ea,ThreadAuthorName:d$,Posts:i.Create($.New(n,{$:0}))};},Fresh:{Int:function(){var eb;eb=P.i()+1;P.i=function(){return eb;};return P.i();},i:$.Field(function(){return 0;})}},ContactFlow:{Description:function(){return l.Div0(k.ofArray([j.TextNode("A WS.UI.Next flowlet implementation.")]));},ExampleFlow:function(){var ec;ec=u.get_Do();return v.Embed(ec.Bind(I.personFlowlet(),function(ed){return ec.Bind(I.contactTypeFlowlet(),function(ee){return ec.Bind(I.contactFlowlet(ee),function(ef){return ec.ReturnFrom(v.Static(I.finalPage(ed,ef)));});});}));},Sample:$.Field(function(){return s.Build().Id("ContactFlow").FileName("ContactFlow.fs").Keywords(k.ofArray(["flowlet"])).Render(function(){return I.ExampleFlow();}).RenderDescription(function(){return I.Description();}).Create();}),contactFlowlet:function(ei){var ej,em,en;ej=ei.$==1?["Phone Number",function(ek){return{$:1,$0:ek};}]:["E-Mail Address",function(el){return{$:0,$0:el};}];em=ej[0];en=ej[1];return v.Define(function(eo){var ep,eq;ep=i.Create("");eq=function(){return eo(en(i.Get(ep)));};return l.Form(k.ofArray([m.cls("form-horizontal"),m.op_EqualsEqualsGreater("role","form")]),k.ofArray([I.inputRow(ep,"contact",em,false),l.Div(k.ofArray([m.cls("form-group")]),k.ofArray([l.Div(k.ofArray([m.cls("col-sm-offset-2"),m.cls("col-sm-10")]),k.ofArray([j.Button("Finish",k.ofArray([m.cls("btn"),m.cls("btn-default")]),eq)]))]))]));});},contactTypeFlowlet:$.Field(function(){return v.Define(function(es){var et,ev;et=function(){return es({$:0});};ev=function(){return es({$:1});};return l.Form(k.ofArray([m.cls("form-horizontal"),m.op_EqualsEqualsGreater("role","form")]),k.ofArray([l.Div(k.ofArray([m.cls("form-group")]),k.ofArray([l.Div0(k.ofArray([j.Button("E-Mail Address",k.ofArray([m.cls("btn"),m.cls("btn-default")]),et)])),l.Div0(k.ofArray([j.Button("Phone Number",k.ofArray([m.cls("btn"),m.cls("btn-default")]),ev)]))]))]));});}),finalPage:function(ex,ey){var ez;ez=ey.$==1?"the phone number "+ey.$0:"the e-mail address "+ey.$0;return l.Div0(k.ofArray([j.TextNode("You said your name was "+ex.Name+", your address was "+ex.Address+", "),j.TextNode(" and you provided "+ez+".")]));},inputRow:function(eA,eB,eC,eD){var eE;eE=eD?function(eF){return function(eG){return j.InputArea(eF,eG);};}:function(eH){return function(eI){return j.Input(eH,eI);};};return l.Div(k.ofArray([m.cls("row")]),k.ofArray([l.Div(k.ofArray([m.cls("form-group")]),k.ofArray([l.Label(k.ofArray([m.cls("col-sm-2"),m.op_EqualsEqualsGreater("for",eB),m.cls("control-label")]),k.ofArray([j.TextNode(eC)])),l.Div(k.ofArray([m.cls("col-sm-6")]),k.ofArray([(eE(k.ofArray([m.op_EqualsEqualsGreater("type","text"),m.cls("form-control"),m.op_EqualsEqualsGreater("id",eB),m.op_EqualsEqualsGreater("placeholder",eC)])))(eA)])),l.Div(k.ofArray([m.cls("col-sm-4")]),$.New(n,{$:0}))]))]));},personFlowlet:$.Field(function(){return v.Define(function(eJ){var eK,eL,eM;eK=i.Create("");eL=i.Create("");eM=function(){return eJ({Name:i.Get(eK),Address:i.Get(eL)});};return l.Form(k.ofArray([m.cls("form-horizontal"),m.op_EqualsEqualsGreater("role","form")]),k.ofArray([I.inputRow(eK,"lblName","Name",false),I.inputRow(eL,"lblAddr","Address",true),l.Div(k.ofArray([m.cls("row")]),k.ofArray([l.Div(k.ofArray([m.cls("col-sm-2")]),$.New(n,{$:0})),l.Div(k.ofArray([m.cls("col-sm-6")]),k.ofArray([l.Div(k.ofArray([m.cls("form-group")]),k.ofArray([j.Button("Next",k.ofArray([m.cls("btn"),m.cls("btn-default")]),eM)]))])),l.Div(k.ofArray([m.cls("col-sm-4")]),$.New(n,{$:0}))]))]));});})},EditablePersonList:{Description:function(){return l.Div0(k.ofArray([m.txt("An example inspired by a "),m.href("SAP OpenUI sample","http://jsbin.com/openui5-HTML-templates/1/edit"),m.txt(".")]));},Main:function(){return l.Div0(k.ofArray([l.Div0(k.ofArray([l.H10(k.ofArray([m.txt("Member List")])),H.memberList()])),l.Div0(k.ofArray([l.H10(k.ofArray([m.txt("Change Member Details")])),H.peopleBoxes()]))]));},Sample:$.Field(function(){return s.Build().Id("EditablePersonList").FileName("EditablePersonList.fs").Keywords(k.ofArray(["text"])).Render(function(){return H.Main();}).RenderDescription(function(){return H.Description();}).Create();}),createPerson:function(eQ,eR){return{FirstName:i.Create(eQ),LastName:i.Create(eR)};},memberList:$.Field(function(){return l.Div0(k.ofArray([l.UL0(k.ofArray([j.Concat(k.map(function(eS){return l.LI0(k.ofArray([j.EmbedView(o.Map2(function(eT){return function(eU){return m.txt(eT+" "+eU);};},o.FromVar(eS.FirstName),o.FromVar(eS.LastName)))]));},H.peopleList()))]))]));}),peopleBoxes:$.Field(function(){return l.Div0(k.ofArray([l.UL0(k.ofArray([j.Concat(k.map(function(eV){var eW,eX;eW=eV.FirstName;eX=eV.LastName;return l.LI0(k.ofArray([j.Input($.New(n,{$:0}),eW),j.Input($.New(n,{$:0}),eX)]));},H.peopleList()))]))]));}),peopleList:$.Field(function(){return k.ofArray([H.createPerson("Alonzo","Church"),H.createPerson("Alan","Turing"),H.createPerson("Bertrand","Russell"),H.createPerson("Noam","Chomsky")]);})},InputTransform:{Description:function(){return l.Div0(k.ofArray([j.TextNode("Transforming the data provided by a single data source.")]));},Main:function(){var eY,eZ,e0,e1,e3,e5,e7,e9,e$,fa;eY=i.Create("");eZ=l.Div(k.ofArray([m.cls("panel"),m.cls("panel-default")]),k.ofArray([l.Div(k.ofArray([m.cls("panel-heading")]),k.ofArray([l.H3(k.ofArray([m.cls("panel-title")]),k.ofArray([j.TextNode("Input")]))])),l.Div(k.ofArray([m.cls("panel-body")]),k.ofArray([l.Form(k.ofArray([m.cls("form-horizontal"),m.op_EqualsEqualsGreater("role","form")]),k.ofArray([l.Div(k.ofArray([m.cls("form-group")]),k.ofArray([l.Label(k.ofArray([m.cls("col-sm-2"),m.cls("control-label"),m.op_EqualsEqualsGreater("for","inputBox")]),k.ofArray([j.TextNode("Write something: ")])),l.Div(k.ofArray([m.cls("col-sm-10")]),k.ofArray([j.Input(k.ofArray([m.op_EqualsEqualsGreater("class","form-control"),m.op_EqualsEqualsGreater("id","inputBox")]),eY)]))]))]))]))]));e0=o.FromVar(eY);e1=o.Map(function(e2){return e2.toUpperCase();},e0);e3=o.Map(function(e4){return Q.fromCharCode.apply(undefined,R.ToCharArray(e4).slice().reverse());},e0);e5=o.Map(function(e6){return S.GetLength(R.SplitChars(e6,[32],1));},e0);e7=o.Map(function(e8){return $$.String(e8);},e5);e9=o.Map(function(e_){return e_%2===0?"Even":"Odd";},e5);e$=k.ofArray([["Entered Text",e0],["Capitalised",e1],["Reversed",e3],["Word Count",e7],["Is the word count odd or even?",e9]]);fa=$.Tupled(function(fb){var fc;fc=fb[1];return l.TR0(k.ofArray([l.TD0(k.ofArray([j.TextNode(fb[0])])),l.TD(k.ofArray([m.sty("width","70%")]),k.ofArray([j.TextView(fc)]))]));});return l.Div0(k.ofArray([eZ,l.Div(k.ofArray([m.cls("panel"),m.cls("panel-default")]),k.ofArray([l.Div(k.ofArray([m.cls("panel-heading")]),k.ofArray([l.H3(k.ofArray([m.cls("panel-title")]),k.ofArray([j.TextNode("Output")]))])),l.Div(k.ofArray([m.cls("panel-body")]),k.ofArray([l.Table(k.ofArray([m.cls("table")]),k.ofArray([l.TBody0(k.ofArray([j.Concat(k.map(fa,e$))]))]))]))]))]));},Sample:$.Field(function(){return s.Build().Id("InputTransform").FileName("InputTransform.fs").Keywords(k.ofArray(["text"])).Render(function(){return E.Main();}).RenderDescription(function(){return E.Description();}).Create();})},KeyboardInfo:{Description:function(){return l.Div0(k.ofArray([j.TextNode("Information about the current keyboard state")]));},Main:function(){return l.Div0(k.ofArray([l.P0(k.ofArray([j.TextNode("Keys pressed (key codes): "),j.TextView(o.Map(function(ff){return N.commaList(k.map(function(fg){return $$.String(fg);},ff));},N.keys()))])),l.P0(k.ofArray([j.TextNode("Keys pressed: "),j.TextView(o.Map(function(fh){return N.commaList(k.map(function(fi){return N.ToChar(fi);},fh));},N.keys()))])),l.P0(k.ofArray([j.TextNode("Last pressed key: "),j.TextView(o.Map(function(fj){return $$.String(fj);},U.get_LastPressed()))])),l.P0(k.ofArray([j.TextNode("Is 'A' pressed? "),j.TextView(o.Map(function(fk){return fk?"Yes":"No";},U.IsPressed(N.ToKey("A"))))]))]));},Sample:$.Field(function(){return s.Build().Id("KeyboardInfo").FileName("KeyboardInfo.fs").Keywords(k.ofArray(["text"])).Render(function(){return N.Main();}).RenderDescription(function(){return N.Description();}).Create();}),ToChar:function($c){var $0=this,$this=this;return $$.String.fromCharCode($c);},ToKey:function($c){var $0=this,$this=this;return $c.charCodeAt(0);},commaList:function(fn){var fo;fo=function(fp){var fq;if(fp.$==1){if(fp.$1.$==0){return $$.String(fp.$0);}else{fq=fp.$1;return $$.String(fp.$0)+", "+fo(fq);}}else{return"";}};return"["+fo(fn)+"]";},keys:$.Field(function(){return U.get_KeysPressed();})},MessageBoard:{Auth:{Create:function(){var fr,fs,ft,fv,fx,fy,fB,fD;fr=i.Create({$:0});fs=i.Create(true);ft=function(){return fs.set_Value(true);};fv=function(){return fs.set_Value(false);};fx=fs.get_View();fy=l.Div(k.ofArray([p.DynamicStyle("display",o.Map(function(fz){return fz?"none":"block";},fx))]),k.ofArray([V.LoginForm(function(fA){fr.set_Value({$:1,$0:fA});return ft(null);})]));fB=function(){return fv(null);};fD=function(){fr.set_Value({$:0});return ft(null);};return{LoggedIn:fr.get_View(),LoginForm:fy,StatusWidget:V.StatusWidget(fB,fD,fr.get_View()),HideForm:ft,ShowForm:fv};},LoginForm:function(fF){var fG,fH,fI,fJ,fK,fU;fG=i.Create("");fH=i.Create("");fI=i.Create("");fJ=l.Div0(k.ofArray([l.P(k.ofArray([m.cls("bg-danger")]),k.ofArray([j.TextView(fI.get_View())]))]));fK=function(fL,fM,fN,fO){var fP;fP=fO?function(fQ){return function(fR){return j.PasswordBox(fQ,fR);};}:function(fS){return function(fT){return j.Input(fS,fT);};};return l.Div(k.ofArray([m.cls("form-group")]),k.ofArray([l.Label(k.ofArray([m.op_EqualsEqualsGreater("for",fM),m.cls("col-sm-2"),m.cls("control-label")]),k.ofArray([j.TextNode(fN)])),l.Div(k.ofArray([m.cls("col-sm-2")]),k.ofArray([(fP(k.ofArray([m.cls("form-control"),m.op_EqualsEqualsGreater("id",fM),m.op_EqualsEqualsGreater("placeholder",fN)])))(fL)]))]));};fU=k.ofArray([m.cls("btn"),m.cls("btn-primary")]);return l.Div0(k.ofArray([l.Div0(k.ofArray([m.txt("Hint: TestUser/TestPass")])),fJ,l.Form(k.ofArray([m.cls("form-horizontal"),m.op_EqualsEqualsGreater("role","form")]),k.ofArray([fK(fG,"user","Username",false),fK(fH,"pass","Password",true),l.Div(k.ofArray([m.cls("form-group")]),k.ofArray([l.Div(k.ofArray([m.cls("col-sm-offset-2"),m.cls("col-sm-10")]),k.ofArray([j.Button("Log In",fU,function(){return W.Start(W.Delay(function(){return W.Bind(X.CheckLogin(fG.get_Value(),fH.get_Value()),function(fX){var fY;if(fX.$==0){i.Set(fI,"Invalid credentials.");return W.Return(null);}else{fY=fX.$0;i.Set(fG,"");i.Set(fH,"");fF(fY);return W.Return(null);}});}));})]))]))]))]));},StatusWidget:function(fZ,f0,f1){return j.EmbedView(o.Map(function(f2){return f2.$==0?j.Concat(k.ofArray([l.LI0(k.ofArray([m.link("You are not logged in.",$.New(n,{$:0}),function(){})])),l.LI0(k.ofArray([m.link("Login",$.New(n,{$:0}),fZ)]))])):j.Concat(k.ofArray([l.LI0(k.ofArray([m.link("Welcome, "+f2.$0.Name+"!",$.New(n,{$:0}),function(){})])),l.LI0(k.ofArray([m.link("Logout",$.New(n,{$:0}),f0)]))]));},f1));}},Description:function(){return l.Div0(k.ofArray([j.TextNode("A message board application built using MiniSitelets.")]));},Initialise:function(){var f5,f6;f5=O.CreateThread("SimonJF","Hello, World! This is a topic.");f6=O.CreatePost({Name:"SimonJF",Password:""},"Hello, world! This is a post.");return W.Start(W.Delay(function(){return W.Bind(X.AddThread(f5),function(){return W.Bind(X.AddPost(f5,f6),function(){return W.Return(null);});});}));},Main:function(){var f_,f$,ga,gc,gd;J.Initialise();f_=i.Create({$:2});f$=V.Create();ga=function(gb){return i.Set(f_,gb);};gc={Auth:f$,Threads:i.Create($.New(n,{$:0})),Go:ga};gd=J.NavBar(f$,f_,gc);return j.EmbedView(o.Map(function(ge){f$.HideForm.call(null,null);return j.Concat(k.ofArray([gd,f$.LoginForm,ge.$==2?J.ThreadListPage(gc):ge.$==1?J.ShowThreadPage(gc,ge.$0):J.NewThreadPage(gc)]));},o.FromVar(f_)));},NavBar:function(gf,gg,gh){var gi,gj;gi=k.ofArray([{$:2},{$:0}]);gj=function(gk){return j.EmbedView(o.Map(function(gl){return l.LI(k.ofArray([J.ShowAction(gk)===J.ShowAction(gl)?m.cls("active"):p.get_Empty()]),k.ofArray([m.link(J.ShowAction(gk),$.New(n,{$:0}),function(){return gh.Go.call(null,gk);})]));},o.FromVar(gg)));};return l.Nav(k.ofArray([m.cls("navbar"),m.cls("navbar-default"),p.Create("role","navigation")]),k.ofArray([l.Div(k.ofArray([m.cls("container-fluid")]),k.ofArray([l.UL(k.ofArray([m.cls("nav"),m.cls("navbar-nav")]),k.ofArray([j.Concat(k.map(gj,gi))])),l.UL(k.ofArray([m.cls("nav"),m.cls("navbar-nav"),m.cls("navbar-right")]),k.ofArray([gf.StatusWidget]))]))]));},NewThreadPage:function(gn){var go;go=gn.Auth.LoggedIn;return j.EmbedView(o.Map(function(gp){var gq,gr,gs,gt;if(gp.$==0){gn.Auth.ShowForm.call(null,null);return j.get_Empty();}else{gq=gp.$0;gr=i.Create("");gs=i.Create("");gt=function(){var gv,gw;gv=O.CreateThread(gq.Name,i.Get(gr));gw=O.CreatePost(gq,i.Get(gs));W.Start(W.Delay(function(){return W.Bind(X.AddThread(gv),function(){return W.Bind(X.AddPost(gv,gw),function(){return W.Return(null);});});}));return gn.Go.call(null,{$:1,$0:gv});};return l.Div(k.ofArray([m.cls("panel"),m.cls("panel-default")]),k.ofArray([l.Div(k.ofArray([m.cls("panel-heading")]),k.ofArray([l.H3(k.ofArray([m.cls("panel-title")]),k.ofArray([j.TextNode("New Thread")]))])),l.Div(k.ofArray([m.cls("panel-body")]),k.ofArray([l.Form(k.ofArray([m.cls("form-horizontal"),m.op_EqualsEqualsGreater("role","form")]),k.ofArray([l.Div(k.ofArray([m.cls("form-group")]),k.ofArray([l.Label(k.ofArray([m.op_EqualsEqualsGreater("for","threadTitle"),m.cls("col-sm-2 control-label")]),k.ofArray([j.TextNode("Title")])),l.Div(k.ofArray([m.cls("col-sm-10")]),k.ofArray([j.Input(k.ofArray([m.op_EqualsEqualsGreater("id","threadTitle"),m.sty("width","100%"),m.cls("form-control")]),gr)]))])),l.Div(k.ofArray([m.cls("form-group")]),k.ofArray([l.Label(k.ofArray([m.op_EqualsEqualsGreater("for","postContent"),m.cls("col-sm-2 control-label")]),k.ofArray([j.TextNode("Content")])),l.Div(k.ofArray([m.cls("col-sm-10")]),k.ofArray([j.InputArea(k.ofArray([m.op_EqualsEqualsGreater("id","postContent"),m.op_EqualsEqualsGreater("rows","5"),m.cls("form-control"),m.sty("width","100%")]),gs)]))])),l.Div(k.ofArray([m.cls("form-group")]),k.ofArray([l.Div(k.ofArray([m.cls("col-sm-offset-2"),m.cls("col-sm-10")]),k.ofArray([j.Button("Submit",k.ofArray([m.cls("btn"),m.cls("btn-primary")]),gt)]))]))]))]))]));}},go));},Sample:$.Field(function(){return s.Build().Id("MessageBoard").FileName("MessageBoard.fs").Keywords(k.ofArray(["text"])).Render(function(){return J.Main();}).RenderDescription(function(){return J.Description();}).Create();}),ShowAction:function(gC){return gC.$==1?"Thread "+gC.$0.Title:gC.$==2?"Show All Threads":"Create New Thread";},ShowThreadPage:function(gD,gE){var gF,gG,gK,gM,gO;gF=i.Create($.New(n,{$:0}));gG=function(){return W.Start(W.Delay(function(){return W.Bind(X.GetPosts(gE),function(gJ){i.Set(gF,gJ);return W.Return(null);});}));};gK=function(gL){return l.TR0(k.ofArray([l.TD0(k.ofArray([j.TextNode(gL.PostAuthorName)])),l.TD0(k.ofArray([j.TextNode(gL.Content)]))]));};gM=l.Div(k.ofArray([m.cls("panel"),m.cls("panel-default")]),k.ofArray([l.Div(k.ofArray([m.cls("panel-heading")]),k.ofArray([l.H3(k.ofArray([m.cls("panel-title")]),k.ofArray([j.TextNode("Posts in thread \""+gE.Title+"\"")]))])),l.Div(k.ofArray([m.cls("panel-body")]),k.ofArray([l.Table(k.ofArray([m.cls("table"),m.cls("table-hover")]),k.ofArray([l.TBody0(k.ofArray([j.EmbedView(o.Map(function(gN){return j.Concat(k.map(gK,gN));},o.FromVar(gF)))]))]))]))]));gG(null);gO=gD.Auth.LoggedIn;return l.Div0(k.ofArray([gM,j.EmbedView(o.Map(function(gP){var gQ,gR,gS;if(gP.$==1){gQ=gP.$0;gR=i.Create("");gS=function(){var gU;gU=O.CreatePost(gQ,gR.get_Value());return W.Start(W.Delay(function(){return W.Bind(X.AddPost(gE,gU),function(){gG(null);return W.Return(null);});}));};return l.Div(k.ofArray([m.cls("panel"),m.cls("panel-default")]),k.ofArray([l.Div(k.ofArray([m.cls("panel-heading")]),k.ofArray([l.H3(k.ofArray([m.cls("panel-title")]),k.ofArray([j.TextNode("New Post")]))])),l.Div(k.ofArray([m.cls("panel-body")]),k.ofArray([l.Form(k.ofArray([m.cls("form-horizontal"),m.op_EqualsEqualsGreater("role","form")]),k.ofArray([l.Div(k.ofArray([m.cls("form-group")]),k.ofArray([l.Label(k.ofArray([m.op_EqualsEqualsGreater("for","postContent"),m.cls("col-sm-2 control-label")]),k.ofArray([j.TextNode("Content")])),l.Div(k.ofArray([m.cls("col-sm-10")]),k.ofArray([j.InputArea(k.ofArray([m.op_EqualsEqualsGreater("id","postContent"),m.op_EqualsEqualsGreater("rows","5"),m.cls("form-control"),m.sty("width","100%")]),gR)]))])),l.Div(k.ofArray([m.cls("form-group")]),k.ofArray([l.Div(k.ofArray([m.cls("col-sm-offset-2"),m.cls("col-sm-10")]),k.ofArray([j.Button("Submit",k.ofArray([m.cls("btn"),m.cls("btn-primary")]),gS)]))]))]))]))]));}else{return j.get_Empty();}},gO))]));},ThreadListPage:function(gX){var gY,g1;gY=function(gZ){return l.TR0(k.ofArray([l.TD0(k.ofArray([j.TextNode(gZ.ThreadAuthorName)])),l.TD0(k.ofArray([m.link(gZ.Title,$.New(n,{$:0}),function(){return gX.Go.call(null,{$:1,$0:gZ});})]))]));};g1=gX.Threads;W.Start(W.Delay(function(){return W.Bind(X.GetThreads(),function(g3){i.Set(g1,g3);return W.Return(null);});}));return l.Table(k.ofArray([m.cls("table"),m.cls("table-hover")]),k.ofArray([l.TBody0(k.ofArray([j.EmbedView(o.Map(function(g4){return j.Concat(k.map(gY,g4));},o.FromVar(gX.Threads)))]))]));}},MouseInfo:{Description:function(){return l.Div0(k.ofArray([j.TextNode("Shows information about the mouse")]));},Main:function(){var g5,g7,g8,g9,g$,ha,hb,hf;g5=$.Tupled(function(g6){return g6[0];});g7=Y.get_Position();g8=o.Map(g5,g7);g9=$.Tupled(function(g_){return g_[1];});g$=Y.get_Position();ha=o.Map(g9,g$);hb=((($.Tupled(function(hc){return function(hd){return function(he){return o.UpdateWhile(hc,hd,he);};};}))([0,0]))(Y.get_LeftPressed()))(Y.get_Position());hf=((($.Tupled(function(hg){return function(hh){return function(hi){return o.SnapshotOn(hg,hh,hi);};};}))([0,0]))(Y.get_LeftPressed()))(Y.get_Position());return l.Div0(k.ofArray([l.P0(k.ofArray([j.TextView(o.Map(function(hj){return"X: "+$$.String(hj);},g8)),j.TextView(o.Map(function(hk){return"Y: "+$$.String(hk);},ha))])),l.P0(k.ofArray([j.TextView(o.Map(function(hl){return"Left button pressed: "+$$.String(hl);},Y.get_LeftPressed()))])),l.P0(k.ofArray([j.TextView(o.Map(function(hm){return"Middle button pressed: "+$$.String(hm);},Y.get_MiddlePressed()))])),l.P0(k.ofArray([j.TextView(o.Map(function(hn){return"Right button pressed: "+$$.String(hn);},Y.get_RightPressed()))])),l.P0(k.ofArray([j.TextView(o.Map($.Tupled(function(ho){var hp;hp=ho[1];return"Position on last left click: ("+$$.String(ho[0])+","+$$.String(hp)+")";}),hf))])),l.P0(k.ofArray([j.TextView(o.Map($.Tupled(function(hq){var hr;hr=hq[1];return"Position of mouse while left button held: ("+$$.String(hq[0])+","+$$.String(hr)+")";}),hb))]))]));},Sample:$.Field(function(){return s.Build().Id("MouseInfo").FileName("MouseInfo.fs").Keywords(k.ofArray(["mouse"])).Render(function(){return M.Main();}).RenderDescription(function(){return M.Description();}).Create();})},ObjectConstancy:{DataSet:$.Class({},{LoadFromCSV:function(hu){var hv;hv=$.Tupled(function(hw){var hx;hx=hw[0];Z.get(hu,{},$.Tupled(function(hy){return hx(_0.ParseCSV(hy[0]));}));return;});return W.FromContinuations(function(hz){return function(hA){return hv([hz,hA,function(){}]);};});},ParseCSV:function(hC){var hD,hE,hG,hI;hD=R.SplitChars(hC,[13,10],1);hE=_1.filter(function(hF){return hF!=="";},hD);hG=_1.map(function(hH){return{$:0,$0:hH};},_2.GetArraySlice(R.SplitChars(hE[0],[44],1),{$:1,$0:1},{$:0}));hI=_1.map(function(hJ){return R.SplitChars(hJ,[44],1);},_1.sub(hE,1,S.GetLength(hE)-1));return $.New(_0,{Brackets:hG,Population:function(hK){return function(hL){var hM;hM=hL.$0;return hI[_1.FindIndex(function(hN){return hN[0]===hM;},hI)][1+_1.FindIndex(function(hO){return r.Equals(hK,hO);},hG)]<<0;};},States:_1.map(function(hP){return{$:0,$0:hP[0]};},hI)});},Ratio:function(hQ,hR,hS){var hT;hT={$:0,$0:"Total"};return+(hQ.Population.call(null,hR))(hS)/+(hQ.Population.call(null,hT))(hS);},TopStatesByRatio:function(hU,hV){var hW;hW=_1.map(function(hX){return[hX,_0.Ratio(hU,hV,hX)];},hU.States);return _2.GetArraySlice(_1.sortBy($.Tupled(function(hY){return-hY[1];}),hW),{$:1,$0:0},{$:1,$0:9});}}),Description:function(){return l.Div0(k.ofArray([m.txt("This sample show-cases declarative animation and interpolation (tweening)")]));},Height:$.Field(function(){return 250;}),InOutTransition:$.Field(function(){return h.Exit(function(hZ){return L.SimpleAnimation(hZ,L.Height());},h.Enter(function(h0){return L.SimpleAnimation(L.Height(),h0);},L.SimpleTransition()));}),Main:function(){var h1,h2,h3,h4;h1=L.SetupDataModel();h2=h1[2];h3=h1[0];h4=h1[1];return l.Div0(k.ofArray([l.H20(k.ofArray([m.txt("Top States by Age Bracket, 2008")])),j.EmbedView(o.Map(function(h5){return j.Select(k.ofArray([m.cls("form-control")]),function(h6){return h6.$0;},k.ofArray(_2.GetArraySlice(h5.Brackets,{$:1,$0:1},{$:0})),h4);},h3)),l.Div(k.ofArray([m.cls("skip")]),$.New(n,{$:0})),_3.Svg(k.ofArray([m.op_EqualsEqualsGreater("width",$$.String(L.Width())),m.op_EqualsEqualsGreater("height",$$.String(L.Height()))]),k.ofArray([j.EmbedView(o.Map(function(h7){return j.Concat(h7);},o.ConvertSeqBy(function(h8){return h8.State;},function(h9){return L.Render(h9);},h2)))])),l.P0(k.ofArray([m.txt("Source: "),m.href("Census Bureau","http://www.census.gov/popest/data/historical/2000s/vintage_2008/")])),l.P0(k.ofArray([m.txt("Original Sample by Mike Bostock: "),m.href("Object Constancy","http://bost.ocks.org/mike/constancy/")]))]));},Percent:function(h_){return $$.String(_4.floor(100*h_))+"."+$$.String((_4.floor(1000*h_)<<0)%10)+"%";},Render:function(h$){var ia,ig,ii,ik,im;ia=function(ib,ic,id){var ie;ie=function(_if){return $$.String(_if);};return p.Animated(ib,ic,o.Map(id,h$),ie);};ig=function(ih){return L.Width()*ih.Value/ih.MaxValue;};ii=function(ij){return L.Height()*+ij.Position/+ij.Total;};ik=function(il){return L.Height()/+il.Total-2;};im=function(_in){return function(io){return _3.Text(io,k.ofArray([j.TextView(o.Map(_in,h$))]));};};return j.Concat(k.ofArray([_3.G(k.ofArray([p.Style("fill","steelblue")]),k.ofArray([_3.Rect(k.ofArray([m.op_EqualsEqualsGreater("x","0"),ia("y",L.InOutTransition(),ii),ia("width",L.SimpleTransition(),ig),ia("height",L.SimpleTransition(),ik)]),$.New(n,{$:0}))])),(im(function(ip){return L.Percent(ip.Value);}))(k.ofArray([m.op_EqualsEqualsGreater("text-anchor","end"),ia("x",L.SimpleTransition(),ig),ia("y",L.InOutTransition(),ii),m.op_EqualsEqualsGreater("dx","-2"),m.op_EqualsEqualsGreater("dy","14"),m.sty("fill","white"),m.sty("font","12px sans-serif")])),(im(function(iq){return iq.State;}))(k.ofArray([m.op_EqualsEqualsGreater("x","0"),ia("y",L.InOutTransition(),ii),m.op_EqualsEqualsGreater("dx","2"),m.op_EqualsEqualsGreater("dy","16"),m.sty("fill","white"),m.sty("font","14px sans-serif"),m.sty("font-weight","bold")]))]));},Sample:$.Field(function(){return s.Build().Id("ObjectConstancy").FileName("ObjectConstancy.fs").Keywords(k.ofArray(["animation"])).Render(function(){return L.Main();}).RenderDescription(function(){return L.Description();}).Create();}),SetupDataModel:function(){var it,iu,iw;it=q.Const(null);iu=o.MapAsync(function(){return _0.LoadFromCSV("ObjectConstancy.csv");},it);iw=i.Create({$:0,$0:"Under 5 Years"});return[iu,iw,o.Map(function(ix){var iy,iz;iy=S.GetLength(ix);iz=_1.max(_1.map($.Tupled(function(iA){return iA[1];}),ix));return _1.mapi(function(iB){return $.Tupled(function(iC){return{MaxValue:iz,Position:iB,State:iC[0].$0,Total:iy,Value:iC[1]};});},ix);},o.Map2(function(iD){return function(iE){return _0.TopStatesByRatio(iD,iE);};},iu,iw.get_View()))];},SimpleAnimation:function(iF,iG){return g.Simple(d.get_Double(),e.get_CubicInOut(),300,iF,iG);},SimpleTransition:$.Field(function(){return h.Create(function(iH){return function(iI){return L.SimpleAnimation(iH,iI);};});}),Width:$.Field(function(){return 960;})},PhoneExample:{Description:function(){return l.Div0(k.ofArray([j.TextNode("Taken from the "),m.href("AngularJS Tutorial","https://docs.angularjs.org/tutorial/"),j.TextNode(", a list filtering and sorting application for phones.")]));},Main:function(){var iJ;iJ=function(iK,iL,iM){return $.New(_5,{Name:iK,Snippet:iL,Age:iM});};return G.PhonesWidget(k.ofArray([iJ("Nexus S","Fast just got faster with Nexus S.",1),iJ("Motorola XOOM","The Next, Next generation tablet",2),iJ("Motorola XOOM with Wi-Fi","The Next, Next generation tablet",3),iJ("Samsung Galaxy","The Ultimate Phone",4)]));},Order:$.Class({},{Show:function(iN){return iN.$==1?"Newest":"Alphabetical";}}),Phone:$.Class({},{Compare:function(iO,iP,iQ){return iO.$==1?_6.Compare(iP.Age,iQ.Age):_6.Compare(iP.Name,iQ.Name);},MatchesQuery:function(iR,iS){return iS.Name.indexOf(iR)!=-1?true:iS.Snippet.indexOf(iR)!=-1;}}),PhonesWidget:function(iT){var iU,iV,iW,iX,i3,i4,i5,i6,i8;iU=i.Create(iT);iV=i.Create("");iW=i.Create($.New(_7,{$:1}));iX=function(iY){return function(iZ){return k.sortWith(function(i0){return function(i1){return _5.Compare(iZ,i0,i1);};},k.filter(function(i2){return _5.MatchesQuery(iY,i2);},iT));};};i3=o.FromVar(iV);i4=o.FromVar(iW);i5=o.Map2(iX,i3,i4);i6=function(i7){return l.LI0(k.ofArray([l.Span0(k.ofArray([m.txt(i7.Name)])),l.P0(k.ofArray([m.txt(i7.Snippet)]))]));};i8=function(i9){return j.Concat(k.map(i6,i9));};return l.Div(k.ofArray([m.cls("row")]),k.ofArray([l.Div(k.ofArray([m.cls("col-sm-6")]),k.ofArray([m.txt("Search: "),j.Input(k.ofArray([p.Create("class","form-control")]),iV),m.txt("Sort by: "),j.Select(k.ofArray([p.Create("class","form-control")]),function(i_){return _7.Show(i_);},k.ofArray([$.New(_7,{$:1}),$.New(_7,{$:0})]),iW)])),l.Div(k.ofArray([m.cls("col-sm-6")]),k.ofArray([l.UL0(k.ofArray([j.EmbedView(o.Map(i8,i5))]))]))]));},Sample:$.Field(function(){return s.Build().Id("PhoneExample").FileName("PhoneExample.fs").Keywords(k.ofArray(["todo"])).Render(function(){return G.Main();}).RenderDescription(function(){return G.Description();}).Create();})},RoutedBobsleighSite:{Main:function(jb){var jc,jd,jf;jc=w.NavBar(jb);jd=function(je){return j.Append(jc,je);};jf={Go:function(jg){return i.Set(jb,jg);}};return j.EmbedView(o.Map(function(jh){return jh.$==1?jd(w.History(jf)):jh.$==2?jd(w.Governance(jf)):jh.$==3?jd(w.Team(jf)):jd(w.HomePage(jf));},o.FromVar(jb)));},Sample:$.Field(function(){return s.Routed(K.TheRouteMap(),{$:0}).Id("RoutedBobsleighMiniSite").FileName("RoutedBobsleighSite.fs").Keywords(k.ofArray(["text"])).Render(function(ji){return K.Main(ji);}).RenderDescription(function(jj){return K.description(jj);}).Create();}),TheRouteMap:$.Field(function(){return _8.Create(function(jk){return jk.$==1?k.ofArray(["history"]):jk.$==2?k.ofArray(["governance"]):jk.$==3?k.ofArray(["team"]):$.New(n,{$:0});},function(jl){return jl.$==1?jl.$0==="history"?jl.$1.$==0?{$:1}:{$:0}:jl.$0==="governance"?jl.$1.$==0?{$:2}:{$:0}:jl.$0==="team"?jl.$1.$==0?{$:3}:{$:0}:{$:0}:{$:0};});}),description:function(){return l.Div0(k.ofArray([m.txt("A small website about bobsleighs, demonstrating how UI.Next may be used to structure single-page applications. Routed using the URL.")]));}},Samples:{Build:function(){return _9.New(function(jn){return function(jo){return s.CreateSimple(jn,jo);};});},Builder:$.Class({Create:function(){return(this.create.call(null,this.vis))(this.meta);},FileName:function(jp){var jq;jq=this.meta;this.meta={FileName:jp,Keywords:jq.Keywords,Title:jq.Title,Uri:jq.Uri};return this;},Id:function(jr){var js;js=this.meta;this.meta={FileName:js.FileName,Keywords:js.Keywords,Title:jr,Uri:jr};return this;},Keywords:function(jt){var ju;ju=this.meta;this.meta={FileName:ju.FileName,Keywords:jt,Title:ju.Title,Uri:ju.Uri};return this;},Render:function(jv){this.vis={Desc:this.vis.Desc,Main:jv};return this;},RenderDescription:function(jw){this.vis={Desc:jw,Main:this.vis.Main};return this;},Title:function(jx){var jy;jy=this.meta;this.meta={FileName:jy.FileName,Keywords:jy.Keywords,Title:jx,Uri:jy.Uri};return this;},Uri:function(jz){var jA;jA=this.meta;this.meta={FileName:jA.FileName,Keywords:jA.Keywords,Title:jA.Title,Uri:jz};return this;}},{New:function(jB){var jC;jC=$.New(this,{});jC.create=jB;jC.meta={FileName:"Unknown.fs",Keywords:$.New(n,{$:0}),Title:"Unknown",Uri:"unknown"};jC.vis={Desc:function(){return j.get_Empty();},Main:function(){return j.get_Empty();}};return jC;}}),CreateRouted:function(jF,jG,jH,jI){var jJ;jJ={Body:j.get_Empty(),Description:j.get_Empty(),Meta:jI,Router:undefined,RouteId:undefined,SamplePage:undefined};jJ.Router=_.Prefix(jI.Uri,_.Route(jF,jG,function(jK){return function(jL){var jM;jJ.RouteId=jK;jJ.Body=jH.Main.call(null,jL);jJ.Description=jH.Desc.call(null,jL);jM=ba.mkPage(jJ.Meta.Title,jK,{$:2});jM.PageSample={$:1,$0:jJ};jM.PageRouteId=jK;jJ.SamplePage=jM;return jM;};}));return jJ;},CreateSimple:function(jN,jO){var jP,jS;jP=_8.Create(function(){return $.New(n,{$:0});},function(){return null;});jS={Body:jN.Main.call(null,null),Description:jN.Desc.call(null,null),Meta:jO,Router:undefined,RouteId:undefined,SamplePage:undefined};jS.Router=_.Prefix(jO.Uri,_.Route(jP,null,function(jT){return function(){var jV;jV=ba.mkPage(jS.Meta.Title,jT,{$:2});jS.RouteId=jT;jV.PageSample={$:1,$0:jS};jV.PageRouteId=jT;jS.SamplePage=jV;return jV;};}));return jS;},InitialSamplePage:function(jW){return jW.$0.SamplePage;},Render:function(jX,jY,jZ){var j0,j1;j0=jY.PageSample;j1=j0.$==0?_6.FailWith("Attempted to render non-sample on samples page"):j0.$0;return bb.Section(k.ofArray([m.cls("block-small")]),k.ofArray([l.Div(k.ofArray([m.cls("container")]),k.ofArray([l.Div(k.ofArray([m.cls("row")]),k.ofArray([s.Sidebar(jX,jZ),s.RenderContent(j1)]))]))]));},RenderContent:function(j2){return l.Div(k.ofArray([m.cls("samples"),m.cls("col-9")]),k.ofArray([l.Div0(k.ofArray([l.Div(k.ofArray([m.cls("row")]),k.ofArray([l.H10(k.ofArray([m.txt(j2.Meta.Title)])),l.Div0(k.ofArray([l.P0(k.ofArray([j2.Description])),l.P0(k.ofArray([bb.A(k.ofArray([m.op_EqualsEqualsGreater("href","https://github.com/intellifactory/websharper.ui.next/blob/master/src/"+j2.Meta.Uri+".fs")]),k.ofArray([m.txt("View Source")]))]))]))])),l.Div(k.ofArray([m.cls("row")]),k.ofArray([l.P0(k.ofArray([j2.Body]))]))]))]));},Routed:function(j3,j4){return _9.New(function(j5){return function(j6){return s.CreateRouted(j3,j4,j5,j6);};});},SamplesRouter:function(j7){return _.Prefix("samples",bc.Merge(A.toList(A.delay(function(){return A.map(function(j9){return j9.Router;},j7);}))));},Sidebar:function(j_,j$){var ka;ka=function(kb){var kc,kf,kh;kc=function(kd){return bd.exists(function(ke){return kb.Meta.FileName===ke.Meta.FileName;},kd);};kf=p.DynamicClass("active",o.Map(function(kg){return kg.PageSample;},o.FromVar(j_)),kc);kh=function(){return i.Set(j_,kb.SamplePage);};return j.Link(kb.Meta.Title,k.ofArray([m.cls("list-group-item"),kf]),kh);};return l.Div(k.ofArray([m.cls("col-3")]),k.ofArray([l.H40(k.ofArray([m.txt("Samples")])),j.Concat(k.map(ka,j$))]));},nav:$.Field(function(){return function(kj){return function(kk){return bb.Nav(kj,kk);};};})},Server:{AddPost:function(kl,km){return W.Delay(function(){var ko,kp,kq,kr,ks,kt,ku;ko=bf.TryFind(kl.ThreadId,X.posts());if(ko.$==0){kp=kl.ThreadId;kq=k.ofArray([km]);kr=X.posts().Add(kp,kq);X.posts=function(){return kr;};return W.Return(null);}else{ks=kl.ThreadId;kt=k.append(ko.$0,k.ofArray([km]));ku=X.posts().Add(ks,kt);X.posts=function(){return ku;};return W.Return(null);}});},AddThread:function(kv){return W.Delay(function(){var kx,ky,kz,kA;kx=k.append(X.threads(),k.ofArray([kv]));X.threads=function(){return kx;};ky=kv.ThreadId;kz=$.New(n,{$:0});kA=X.posts().Add(ky,kz);X.posts=function(){return kA;};return W.Return(null);});},CheckCredentials:function(kB,kC){var kD;kD=[kB,kC];return kD[0]==="TestUser"?kD[1]==="TestPass"?{$:1,$0:{Name:kB,Password:kC}}:{$:0}:{$:0};},CheckLogin:function(kE,kF){return W.Delay(function(){return W.Bind(W.Sleep(X.DELAY()),function(){return W.Return(X.CheckCredentials(kE,kF));});});},DELAY:$.Field(function(){return 200;}),GetPosts:function(kI){return W.Delay(function(){var kK;kK=bf.TryFind(kI.ThreadId,X.posts());return kK.$==0?W.Return($.New(n,{$:0})):W.Return(kK.$0);});},GetThreads:function(){return W.Delay(function(){return W.Bind(W.Sleep(X.DELAY()),function(){return W.Return(X.threads());});});},posts:$.Field(function(){return bg.New([]);}),threads:$.Field(function(){return $.New(n,{$:0});})},SimpleTextBox:{Description:function(){return l.Div0(k.ofArray([j.TextNode("A label which copies the contents of a text box.")]));},Main:function(){var kN,kO,kP;kN=i.Create("");kO=j.Input(k.ofArray([p.Create("class","form-control")]),kN);kP=j.TextView(kN.get_View());return m.divc("panel-default",k.ofArray([m.divc("panel-body",k.ofArray([l.Div0(k.ofArray([kO])),l.Div0(k.ofArray([kP]))]))]));},Sample:$.Field(function(){return s.Build().Id("SimpleTextBox").FileName("SimpleTextBox.fs").Keywords(k.ofArray(["text"])).Render(function(){return D.Main();}).RenderDescription(function(){return D.Description();}).Create();})},Site:{AboutPage:function(kS){var kT,kW,kY,k0,k2;kT=function(kU){return j.Concat(k.ofArray([l.H10(k.ofArray([m.txt(kU.Name)])),l.P(k.ofArray([m.cls("lead")]),k.ofArray([m.txt(kU.Description)])),l.P0(k.ofArray([l.UL(k.ofArray([m.cls("list-unstyled")]),k.ofArray([j.Concat(k.map(function(kV){return l.LI0(k.ofArray([kV]));},kU.URLs))]))]))]));};kW=function(kX){return bb.Section(k.ofArray([m.cls("block-large")]),k.ofArray([l.Div(k.ofArray([m.cls("container")]),k.ofArray([l.Div(k.ofArray([m.cls("row")]),k.ofArray([l.Div(k.ofArray([m.cls("col-lg-3")]),k.ofArray([bb.Img(k.ofArray([m.op_EqualsEqualsGreater("src",kX.ImgURL),m.sty("width","100%")]),$.New(n,{$:0}))])),l.Div(k.ofArray([m.cls("col-lg-1")]),$.New(n,{$:0})),l.Div(k.ofArray([m.cls("col-lg-8")]),k.ofArray([kT(kX)]))]))]))]));};kY=function(kZ){return bb.Section(k.ofArray([m.cls("block-large"),m.cls("bg-alt")]),k.ofArray([l.Div(k.ofArray([m.cls("container")]),k.ofArray([l.Div(k.ofArray([m.cls("row")]),k.ofArray([l.Div(k.ofArray([m.cls("col-lg-8")]),k.ofArray([kT(kZ)])),l.Div(k.ofArray([m.cls("col-lg-1")]),$.New(n,{$:0})),l.Div(k.ofArray([m.cls("col-lg-3")]),k.ofArray([bb.Img(k.ofArray([m.op_EqualsEqualsGreater("src",kZ.ImgURL),m.sty("width","100%")]),$.New(n,{$:0}))]))]))]))]));};k0=function(k1){return l.Span(k.ofArray([m.cls("fa"),m.cls(k1),m.cls("fa-3x"),m.sty("font-size","400%"),m.sty("color","#aaa")]),$.New(n,{$:0}));};k2=function(){return kS({$:2});};return l.Div(k.ofArray([m.cls("extensions")]),k.ofArray([l.Div(k.ofArray([m.cls("container")]),k.ofArray([bb.Section(k.ofArray([m.cls("block-huge")]),k.ofArray([l.H10(k.ofArray([m.txt("WebSharper UI.Next: "),l.Span(k.ofArray([m.cls("text-muted")]),k.ofArray([m.txt("Everything you need to know.")]))])),l.P(k.ofArray([m.cls("lead")]),k.ofArray([m.txt("A selection of resources about UI.Next.")]))]))])),l.Div(k.ofArray([m.cls("block-large"),m.cls("bg-alt")]),k.ofArray([l.Div(k.ofArray([m.cls("container")]),k.ofArray([l.Div(k.ofArray([m.cls("row"),m.cls("text-center")]),k.ofArray([l.Div(k.ofArray([m.cls("col-lg-4")]),k.ofArray([k0("fa-graduation-cap"),l.H30(k.ofArray([m.txt("Get Started")])),l.P0(k.ofArray([m.txt("Take the tutorial, and you'll be writing reactive applications in no time!")])),C.linkBtn("Tutorial","https://github.com/intellifactory/websharper.ui.next/blob/master/docs/Tutorial.md")])),l.Div(k.ofArray([m.cls("col-lg-4")]),k.ofArray([k0("fa-book"),l.H30(k.ofArray([m.txt("Dive Right In")])),l.P0(k.ofArray([m.txt("Comprehensive documentation on the UI.Next API.")])),C.linkBtn("API Reference","https://github.com/intellifactory/websharper.ui.next/blob/master/docs/API.md")])),l.Div(k.ofArray([m.cls("col-lg-4")]),k.ofArray([k0("fa-send"),l.H30(k.ofArray([m.txt("See it in Action")])),l.P0(k.ofArray([m.txt("A variety of samples using UI.Next, and their associated source code!")])),j.Button("Samples",k.ofArray([m.cls("btn"),m.cls("btn-default")]),k2)]))]))]))])),j.Concat(k.mapi(function(k4){return function(k5){return(k4%2===0?kW:kY)(k5);};},C.Entries()))]));},Entries:$.Field(function(){return k.ofArray([C.mkEntry("Documentation","Official documentation on WebSharper UI.Next, including the API reference and some discussion about the design decisions we made","files/gear.png",k.ofArray([m.href("Tutorial","https://github.com/intellifactory/websharper.ui.next/blob/master/docs/Tutorial.md"),m.href("API Reference","https://github.com/intellifactory/websharper.ui.next/blob/master/docs/API.md"),m.href("Full Documentation","https://github.com/intellifactory/websharper.ui.next/blob/master/README.md")])),C.mkEntry("Articles","Articles written about UI.Next, which provide more detailed discussions about various aspects of the library.","files/uinext-screen.png",k.ofArray([m.href("WebSharper UI.Next: An Introduction","http://www.websharper.com/blog-entry/3954"),m.href("WebSharper UI.Next: Declarative Animation","http://www.websharper.com/blog-entry/3964"),m.href("Structuring Applications with WebSharper UI.Next","http://www.websharper.com/blog-entry/3965")])),C.mkEntry("Presentations","Presentations about UI.Next, providing an overview of the library and deeper insights into the thinking behind it.","files/anton-pres.png",k.ofArray([m.href("Presentation: Tackle UI with Reactive DOM in F# and WebSharper","https://www.youtube.com/watch?v=wEkS09s3KBc")]))]);}),Fade:$.Field(function(){var k6,k7,k8;k6=d.get_Double();k7=e.get_CubicInOut();k8=C.fadeTime();return function(k9){return function(k_){return g.Simple(k6,k7,k8,k9,k_);};};}),FadeTransition:$.Field(function(){return h.Exit(function(){return((C.Fade())(1))(0);},h.Enter(function(){return((C.Fade())(0))(1);},h.Create(C.Fade())));}),HomePage:function(){return l.Div(k.ofArray([m.cls("container")]),k.ofArray([bb.Section(k.ofArray([m.cls("block-huge"),m.cls("teaser-home"),m.sty("height","700px"),m.sty("padding-top","40px"),m.sty("padding-bottom","30px"),m.sty("margin-bottom","40px")]),k.ofArray([l.Div(k.ofArray([m.cls("container")]),k.ofArray([l.Div(k.ofArray([m.cls("row")]),k.ofArray([l.Div(k.ofArray([m.cls("col-12")]),k.ofArray([bb.Br($.New(n,{$:0}),$.New(n,{$:0})),l.H10(k.ofArray([m.txt("WebSharper UI.Next: "),l.Span(k.ofArray([m.cls("text-muted")]),k.ofArray([m.txt("A new generation of reactive web applications.")]))])),l.H30(k.ofArray([m.txt("Write powerful, data-backed applications"),bb.Br($.New(n,{$:0}),$.New(n,{$:0})),m.txt(" using F# and WebSharper.")])),l.P(k.ofArray([m.cls("lead")]),k.ofArray([m.txt("Get it free on NuGet today!")]))]))]))]))]))]));},Main:function(lc){var ld,lf,lg;ld=function(le){return le.PageRouteId;};lf=C.SiteRouter(lc);lg=bc.Install(ld,lf);j.RunById("main",j.EmbedView(o.Map(function(lh){var li;li=lh.PageType;return li.$==1?C.AboutPage(function(lj){return i.Set(lg,C.pageFor(lj,lc));}):li.$==2?s.Render(lg,lh,lc):C.HomePage(function(lk){return i.Set(lg,C.pageFor(lk,lc));});},o.FromVar(lg))));return j.RunById("navigation",C.NavBar(lg,lc));},MakePage:function(ll){var lm;lm=function(ln){return $$.String(ln);};return l.Div(k.ofArray([p.AnimatedStyle("opacity",C.FadeTransition(),q.Const(1),lm)]),k.ofArray([ll]));},NavBar:function(lo,lp){var lq,lv;lq=function(lr){return j.EmbedView(o.Map(function(ls){var lt;lt=r.Equals(ls.PageType,lr)?p.Class("active"):p.get_Empty();return l.LI(k.ofArray([m.cls("nav-item"),lt]),k.ofArray([m.link(C.showPgTy(lr),$.New(n,{$:0}),function(){return i.Set(lo,C.pageFor(lr,lp));})]));},o.FromVar(lo)));};lv=$.Tupled(function(lw){var lx,ly;lx=lw[0];ly=lw[1];return l.LI(k.ofArray([m.cls("nav-item")]),k.ofArray([m.href(lx,ly)]));});return bb.Nav(k.ofArray([m.cls("container")]),k.ofArray([l.Div(k.ofArray([m.sty("float","left")]),k.ofArray([l.A(k.ofArray([m.op_EqualsEqualsGreater("href","http://www.websharper.com/home"),m.sty("text-decoration","none"),m.cls("first")]),k.ofArray([bb.Img(k.ofArray([m.op_EqualsEqualsGreater("src","files/logo-websharper-icon.png"),m.op_EqualsEqualsGreater("alt","[logo]"),m.sty("margin-top","0"),m.sty("border-right","1px"),m.sty("solid","#eee")]),$.New(n,{$:0})),bb.Img(k.ofArray([m.op_EqualsEqualsGreater("src","files/logo-websharper-text-dark.png"),m.op_EqualsEqualsGreater("alt","WebSharper"),m.sty("height","32px")]),$.New(n,{$:0}))]))])),bb.Nav(k.ofArray([m.cls("nav"),m.cls("nav-collapsible"),m.cls("right"),m.sty("float","right")]),k.ofArray([l.UL(k.ofArray([m.cls("nav-list")]),k.ofArray([j.Concat(k.map(lq,C.NavPages())),j.Concat(k.map(lv,C.NavExternalLinks()))]))]))]));},NavExternalLinks:$.Field(function(){return k.ofArray([["GitHub","http://www.github.com/IntelliFactory/websharper.ui.next"],["API Reference","https://github.com/intellifactory/websharper.ui.next/blob/master/docs/API.md"]]);}),NavPages:$.Field(function(){return k.ofArray([{$:0},{$:1},{$:2}]);}),SiteRouter:function(lz){return bc.Merge(k.ofArray([_.Prefix("home",C.homeRouter(lz)),_.Prefix("about",C.aboutRouter(lz)),_.Prefix("samples",s.SamplesRouter(lz))]));},aboutPage:$.Field(function(){return ba.mkPage(C.showPgTy({$:1}),undefined,{$:1});}),aboutRouter:function(lA){var lB;lB=function(lC){return function(){var lE;lE=C.pageFor({$:1},lA);lE.PageRouteId=lC;return lE;};};return _.Route(C.unitRouteMap(),null,lB);},fadeTime:$.Field(function(){return 300;}),homePage:$.Field(function(){return ba.mkPage(C.showPgTy({$:0}),undefined,{$:0});}),homeRouter:function(lF){var lG;lG=function(lH){return function(){var lJ;lJ=C.pageFor({$:0},lF);lJ.PageRouteId=lH;return lJ;};};return _.Route(C.unitRouteMap(),null,lG);},linkBtn:function(lK,lL){return bb.A(k.ofArray([m.cls("btn"),m.cls("btn-default"),m.op_EqualsEqualsGreater("href",lL)]),k.ofArray([m.txt(lK)]));},mkEntry:function(lM,lN,lO,lP){return{Name:lM,ImgURL:lO,Description:lN,URLs:lP};},pageFor:function(lQ,lR){return lQ.$==1?C.aboutPage():lQ.$==2?s.InitialSamplePage(lR):C.homePage();},showPgTy:function(lS){return lS.$==1?"About":lS.$==2?"Samples":"Home";},unitRouteMap:$.Field(function(){return _8.Create(function(){return $.New(n,{$:0});},function(){return null;});})},SiteCommon:{mkPage:function(lV,lW,lX){return{PageName:lV,PageRouteId:lW,PageType:lX,PageSample:{$:0}};}},SortableBarChart:{BarTransition:$.Field(function(){return h.Enter(function(lY){return bh.SimpleAnimation(0,lY);},bh.SimpleTransition());}),DelayedAnimation:function(lZ,l0,l1){return g.Delayed(d.get_Double(),e.get_CubicInOut(),300,lZ,l0,l1);},Description:function(){return l.Div0(k.ofArray([m.txt("This sample show-cases animation and data display.")]));},DisplayGraph:function(l2){return l.Div0(k.ofArray([_3.Svg(k.ofArray([m.op_EqualsEqualsGreater("width",$$.String(bh.Width())),m.op_EqualsEqualsGreater("height",$$.String(bh.Height()))]),k.ofArray([j.EmbedView(o.Map(function(l3){return j.Concat(l3);},o.ConvertSeqBy(function(l4){return l4.Label;},function(l5){return bh.Render(l5);},l2)))]))]));},Height:$.Field(function(){return 500;}),LoadData:$.Field(function(){return o.MapAsync(function(){return bh.LoadFromCSV("AlphaFrequency.csv");},q.Const(null));}),LoadFromCSV:function(l7){var l8;l8=$.Tupled(function(l9){var l_;l_=l9[0];Z.get(l7,{},$.Tupled(function(l$){return l_(bh.ParseCSV(l$[0]));}));return;});return W.FromContinuations(function(ma){return function(mb){return l8([ma,mb,function(){}]);};});},Main:function(){var md,me;md=i.Create({$:0});me=o.Map2(function(mf){return function(mg){return bh.ViewData(mf,mg);};},o.Map(function(mh){return k.ofSeq(mh);},bh.LoadData()),md.get_View());return l.Div0(k.ofArray([j.Select($.New(n,{$:0}),function(mi){return bh.ShowOrdering(mi);},k.ofArray([{$:0},{$:1}]),md),bh.DisplayGraph(me)]));},ParseCSV:function(mj){return _1.map(function(mk){return bh.mkEntry(R.SplitChars(mk,[44],1));},_2.GetArraySlice(_1.filter(function(ml){return ml!=="";},R.SplitChars(mj,[13,10],1)),{$:1,$0:1},{$:0}));},Render:function(mm){var mn,mr,mt,mv,mx,mz;mn=function(mo,mp){return p.Dynamic(mo,o.Map(function(mq){return $$.String(mp(mq));},mm));};mr=function(ms){return bh.Width()/+ms.NumData-bh.Spacing();};mt=function(mu){return mu.Value/mu.MaxValue*bh.Height();};mv=function(mw){return(mr(mw)+bh.Spacing())*+mw.Rank;};mx=function(my){return bh.Height()-mt(my);};mz=function(mA){return $$.String(mA);};return _3.G(k.ofArray([p.Style("fill","steelblue")]),k.ofArray([_3.Rect(k.ofArray([mn("width",mr),mn("height",mt),p.Animated("x",bh.BarTransition(),o.Map(mv,mm),mz),mn("y",mx)]),$.New(n,{$:0}))]));},Sample:$.Field(function(){return s.Build().Id("SortableBarChart").FileName("SortableBarChart.fs").Keywords(k.ofArray(["animation"])).Render(function(){return bh.Main();}).RenderDescription(function(){return bh.Description();}).Create();}),ShowOrdering:function(mD){return mD.$==1?"By Frequency":"By Letter";},SimpleAnimation:function(mE,mF){return bh.DelayedAnimation(0,mE,mF);},SimpleTransition:$.Field(function(){return h.Create(function(mG){return function(mH){return bh.SimpleAnimation(mG,mH);};});}),Spacing:$.Field(function(){return 2;}),ViewData:function(mI,mJ){var mK,mL;mK=A.length(mI);mL=A.fold(function(mM){return function(mN){return mN.DataValue>mM?mN.DataValue:mM;};},0,mI);return k.mapi(function(mO){return function(mP){return{Label:mP.DataLabel,Value:mP.DataValue,Rank:mO,MaxValue:mL,NumData:mK};};},k.sortWith(mJ.$==1?function(mQ){return function(mR){return mR.DataValue<mQ.DataValue?-1:mQ.DataValue===mR.DataValue?0:1;};}:function(mS){return function(mT){return r.Compare(mS.DataLabel,mT.DataLabel);};},k.ofSeq(mI)));},Width:$.Field(function(){return 720;}),mkEntry:function(mU){return{DataLabel:mU[0],DataValue:bi(mU[1])};}},TodoList:{CreateModel:function(){return{Items:bj.Create(function(mV){return mV.Key;},$.New(n,{$:0}))};},Description:function(){return l.Div0(k.ofArray([j.TextNode("A to-do list application.")]));},Main:function(){return F.TodoExample();},RenderItem:function(mW,mX){return l.TR0(k.ofArray([l.TD0(k.ofArray([j.EmbedView(o.Map(function(mY){return mY?l.Del0(k.ofArray([m.txt(mX.TodoText)])):m.txt(mX.TodoText);},o.FromVar(mX.Done)))])),l.TD0(k.ofArray([bk.button("Done",function(){return i.Set(mX.Done,true);})])),l.TD0(k.ofArray([bk.button("Remove",function(){return mW.Items.Remove(mX);})]))]));},Sample:$.Field(function(){return s.Build().Id("TodoList").FileName("TodoList.fs").Keywords(k.ofArray(["todo"])).Render(function(){return F.Main();}).RenderDescription(function(){return F.Description();}).Create();}),TodoExample:function(){var m3;m3=F.CreateModel();return l.Table(k.ofArray([m.op_EqualsEqualsGreater("class","table table-hover")]),k.ofArray([l.TBody0(k.ofArray([F.TodoList(m3),F.TodoForm(m3)]))]));},TodoForm:function(m4){var m5;m5=i.Create("");return l.Form0(k.ofArray([m.divc("form-group",k.ofArray([l.Label0(k.ofArray([m.txt("New entry: ")])),bk.input(m5)])),bk.button("Submit",function(){return m4.Items.Add(bl.Create(i.Get(m5)));})]));},TodoItem:$.Class({},{Create:function(m7){var m8;m8=bm.Fresh();return $.New(bl,{Done:i.Create(false),Key:m8,TodoText:m7});}}),TodoList:function(m9){return j.ConvertBy(function(m_){return m_.Key;},function(m$){return F.RenderItem(m9,m$);},bn.View(m9.Items));},Util:{button:function(na,nb){return j.Button(na,k.ofArray([m.op_EqualsEqualsGreater("class","btn btn-default")]),nb);},input:function(nc){return j.Input(k.ofArray([m.op_EqualsEqualsGreater("class","form-control")]),nc);}}},Utilities:{btn:function(nd,ne){return j.Button(nd,k.ofArray([m.cls("btn"),m.cls("btn-default")]),ne);},cls:function(nf){return p.Class(nf);},divc:function(ng,nh){return j.Element("div",k.ofArray([m.cls(ng)]),nh);},href:function(ni,nj){return j.Element("a",k.ofArray([m.op_EqualsEqualsGreater("href",nj)]),k.ofArray([m.txt(ni)]));},link:function(nk,nl,nm){return j.Link(nk,nl,nm);},op_EqualsEqualsGreater:function(nn,no){return p.Create(nn,no);},sty:function(np,nq){return p.Style(np,nq);},txt:function(nr){return j.TextNode(nr);}}}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.UI);c=$.Safe(b.Next);d=$.Safe(c.Interpolation);e=$.Safe(c.Easing);f=$.Safe(c.AnimatedBobsleighSite);g=$.Safe(c.An);h=$.Safe(c.Trans1);i=$.Safe(c.Var1);j=$.Safe(c.Doc);k=$.Safe(a.List);l=$.Safe(c.Html);m=$.Safe(c.Utilities);n=$.Safe(k.T);o=$.Safe(c.View1);p=$.Safe(c.Attr);q=$.Safe(c.View);r=$.Safe(a.Unchecked);s=$.Safe(c.Samples);t=$.Safe(c.AnimatedContactFlow);u=$.Safe(c.Flow1);v=$.Safe(c.Flow);w=$.Safe(c.BobsleighSite);x=$.Safe(c.Calculator);y=$.Safe(c.Var);z=$.Safe(c.CheckBoxTest);A=$.Safe(a.Seq);B=$.Safe(z.Person);C=$.Safe(c.Site);D=$.Safe(c.SimpleTextBox);E=$.Safe(c.InputTransform);F=$.Safe(c.TodoList);G=$.Safe(c.PhoneExample);H=$.Safe(c.EditablePersonList);I=$.Safe(c.ContactFlow);J=$.Safe(c.MessageBoard);K=$.Safe(c.RoutedBobsleighSite);L=$.Safe(c.ObjectConstancy);M=$.Safe(c.MouseInfo);N=$.Safe(c.KeyboardInfo);O=$.Safe(c.Common);P=$.Safe(O.Fresh);Q=$.Safe($$.String);R=$.Safe(a.Strings);S=$.Safe(a.IntrinsicFunctionProxy);T=$.Safe(c.Input);U=$.Safe(T.Keyboard);V=$.Safe(J.Auth);W=$.Safe(a.Concurrency);X=$.Safe(c.Server);Y=$.Safe(T.Mouse);Z=$.Safe($$.jQuery);_0=$.Safe(L.DataSet);_1=$.Safe(a.Arrays);_2=$.Safe(a.OperatorIntrinsics);_3=$.Safe(l.SvgElements);_4=$.Safe($$.Math);_5=$.Safe(G.Phone);_6=$.Safe(a.Operators);_7=$.Safe(G.Order);_8=$.Safe(c.RouteMap);_9=$.Safe(s.Builder);_=$.Safe(c.Router);ba=$.Safe(c.SiteCommon);bb=$.Safe(l.Elements);bc=$.Safe(c.Router1);bd=$.Safe(a.Option);be=$.Safe(a.Collections);bf=$.Safe(be.MapModule);bg=$.Safe(be.FSharpMap);bh=$.Safe(c.SortableBarChart);bi=$.Safe($$.parseFloat);bj=$.Safe(c.ListModel1);bk=$.Safe(F.Util);bl=$.Safe(F.TodoItem);bm=$.Safe(c.Key);bn=$.Safe(c.ListModel);return bo=$.Safe(c.Client);});$.OnLoad(function(){F.Sample();bh.Width();bh.Spacing();bh.SimpleTransition();bh.Sample();bh.LoadData();bh.Height();bh.BarTransition();C.unitRouteMap();C.homePage();C.fadeTime();C.aboutPage();C.NavPages();C.NavExternalLinks();C.FadeTransition();C.Fade();C.Entries();D.Sample();X.threads();X.posts();X.DELAY();s.nav();K.TheRouteMap();K.Sample();G.Sample();L.Width();L.SimpleTransition();L.Sample();L.InOutTransition();L.Height();M.Sample();J.Sample();N.keys();N.Sample();E.Sample();H.peopleList();H.peopleBoxes();H.memberList();H.Sample();I.personFlowlet();I.contactTypeFlowlet();I.Sample();P.i();bo.Main();z.Sample();z.People();x.initCalc();x.Sample();w.pages();w.Sample();t.swipeTime();t.personFlowlet();t.fadeTime();t.contactTypeFlowlet();t.SwipeTransition();t.Swipe();t.Sample();t.FadeTransition();t.Fade();f.pages();f.fadeTime();f.Sample();f.FadeTransition();f.Fade();return;});}());


if (typeof IntelliFactory !=='undefined')
  IntelliFactory.Runtime.Start();
